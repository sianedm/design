var Ra=Object.defineProperty;var Da=(c,i,o)=>i in c?Ra(c,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[i]=o;var R=(c,i,o)=>(Da(c,typeof i!="symbol"?i+"":i,o),o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const p of u)if(p.type==="childList")for(const y of p.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&a(y)}).observe(document,{childList:!0,subtree:!0});function o(u){const p={};return u.integrity&&(p.integrity=u.integrity),u.referrerPolicy&&(p.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?p.credentials="include":u.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function a(u){if(u.ep)return;u.ep=!0;const p=o(u);fetch(u.href,p)}})();class he{constructor(i){R(this,"htmlElement");R(this,"previous_css_display","");i.style.overflow===""&&(i.style.overflow="hidden"),i.style.margin===""&&(i.style.margin="0"),i.style.padding===""&&(i.style.padding="0"),i.style.fontSize===""&&(i.style.fontSize="1rem"),i.className="g-base-element",this.htmlElement=i}setLayout(i){fr(i),this.htmlElement.firstChild&&this.htmlElement.removeChild(this.htmlElement.firstChild),this.htmlElement.appendChild(i.htmlElement)}onClick(i){this.htmlElement.addEventListener("click",()=>{i(this)})}setBorderWidth(i){return this.htmlElement.style.borderWidth=`${i}px`,i>0?this.htmlElement.style.borderStyle="solid":this.htmlElement.style.borderStyle="none",this}setBorderRadius(i){return this.htmlElement.style.borderRadius=`${i}px`,this}setBackgroundColor(i){return this.htmlElement.style.backgroundColor=i,this}setBorderColor(i){return this.htmlElement.style.borderColor=i,this}setForegroundColor(i){return this.htmlElement.style.color=i,this}setWidth(i,o="px"){return this.htmlElement.style.width=`${i}${o}`,this}setHeight(i,o="px"){return this.htmlElement.style.height=`${i}${o}`,this}setAutoGrow(i=1){return this.htmlElement.style.flexGrow=`${i}`,this}enable(){return this.htmlElement.removeAttribute("disabled"),this}disable(){return this.htmlElement.setAttribute("disabled",""),this}is_visible(){return this.htmlElement.style.display!=="none"}hide(){return this.htmlElement.style.display!=="none"&&(this.previous_css_display=this.htmlElement.style.display),this.htmlElement.style.display="none",this}show(){return this.htmlElement.style.display==="none"&&(this.htmlElement.style.display=this.previous_css_display),this}setAriaLabel(i){return this.htmlElement.setAttribute("aria-label",i),this}setTooltip(i){return this.htmlElement.setAttribute("title",i),this}}const ce=(c,i)=>{Object.assign(c.style,i)},wt=(c,i)=>{c.htmlElement.appendChild(i.htmlElement)},fr=c=>{c.htmlElement.style.width="100%",c.htmlElement.style.height="100%"};class xt extends he{constructor(){const i=document.createElement("div");super(i)}}class vi extends he{constructor(i,o,a,u){const p=document.createElement("div");super(p),p.className="g-linear-layout",p.style.display="flex",this.setDirection(i),this.setDistribution(o||"center"),this.setAlignment(a||"center"),this.setGap(u||0)}addChild(i){return this.htmlElement.appendChild(i.htmlElement),this}setDirection(i){let o;switch(i){case"horizontal":o="row";break;case"vertical":o="column";break}return this.htmlElement.style.flexDirection=o,this}setDistribution(i){let o;switch(i){case"start":o="flex-start";break;case"center":o="center";break;case"end":o="flex-end";break;case"space_between":o="space-between";break;case"space_around":o="space-around";break;case"space_evenly":o="space-evenly";break}return this.htmlElement.style.justifyContent=o,this}setAlignment(i){let o;switch(i){case"start":o="flex-start";break;case"center":o="center";break;case"end":o="flex-end";break;case"stretch":o="stretch";break}return this.htmlElement.style.alignItems=o,this}setGap(i){return this.htmlElement.style.gap=`${i}px`,this}}const $a=(c,i,o,a)=>new vi(c,i,o,a);class Co extends vi{constructor(){super("vertical"),this.htmlElement.className="g-v-layout"}}class Mo extends vi{constructor(){super("horizontal"),this.htmlElement.className="g-h-layout"}}const Wt=(...c)=>{const i=new Co;for(const o of c)i.addChild(o);return i},Eo=(...c)=>{const i=new Mo;for(const o of c)i.addChild(o);return i};class Na extends he{constructor(){const i=document.createElement("div");super(i),i.className="g-absolute-layout",ce(i,{display:"flex",overflow:"hidden",position:"relative"})}addChild(i,o){let a=i.htmlElement.style;a.position="absolute";const u=o;u.top!==void 0&&(a.top=`${u.top}px`),u.left!==void 0&&(a.left=`${u.left}px`),u.right!==void 0&&(a.right=`${u.right}px`),u.bottom!==void 0&&(a.bottom=`${u.bottom}px`),u.width!==void 0&&(a.width=`${u.width}px`),u.height!==void 0&&(a.height=`${u.height}px`),this.htmlElement.appendChild(i.htmlElement)}}class Za extends xt{constructor(){super();R(this,"is_configured",!1);this.htmlElement.className="g-grid-layout",ce(this.htmlElement,{display:"grid",overflow:"hidden"})}configure_as_properties_grid(){return ce(this.htmlElement,{gridTemplateColumns:"auto auto",gridAutoRows:"auto"}),this.is_configured=!0,this}configure_as_uniform(o,a){if(Number.isInteger(a)&&o>0&&Number.isInteger(a)&&a>0)ce(this.htmlElement,{gridTemplateColumns:`repeat(${Math.trunc(o)}, 1fr)`,gridTemplateRows:`repeat(${Math.trunc(a)}, 1fr)`}),this.is_configured=!0;else throw new Error("requires positive integer for its parameters");return this}addChild(o){if(!this.is_configured)throw new Error("grid layout need to be configured before adding elements");this.htmlElement.appendChild(o.htmlElement)}addChildAt(o,a,u,p=1,y=1){if(!this.is_configured)throw new Error("grid layout need to be configured before adding elements");ce(o.htmlElement,{gridColumn:`${Math.trunc(a)} / ${Math.trunc(a+p)}`,gridRow:`${Math.trunc(u)} / ${Math.trunc(u+y)}`}),this.htmlElement.appendChild(o.htmlElement)}}class fn extends he{constructor(i){const o=document.createElement("p");super(o),o.innerText=i,o.className="g-label"}setValue(i){this.htmlElement.innerText=i}getValue(){return this.htmlElement.innerText}}class Ee extends he{constructor(i){const o=document.createElement("button");super(o),o.innerText=i,o.className="g-button"}setValue(i){this.htmlElement.innerText=i}getValue(){return this.htmlElement.innerText}onClick(i){return this.htmlElement.addEventListener("click",()=>{i(this)}),this}}class lr extends he{constructor(o,a){const u=document.createElement("label");super(u);R(this,"checkbox");const p=document.createElement("span");p.innerText=a;const y=document.createElement("input");y.type="checkbox",y.checked=o,this.checkbox=y,u.appendChild(p),u.appendChild(y),this.htmlElement.className="g-checkbox"}isChecked(){return this.checkbox.checked}onChange(o){return this.checkbox.addEventListener("change",()=>{o(this)}),this}}class La extends he{constructor(){const i=document.createElement("input");super(i),this.htmlElement.className="g-file-selector",i.type="file"}onChange(i){return this.htmlElement.addEventListener("change",()=>{const o=[],a=this.htmlElement.files;if(a)for(let u=0;u<(a==null?void 0:a.length);u++)o.push(a[u]);i(this,o)}),this}}class di extends he{constructor(i,o){const a=document.createElement("input");super(a),a.className="g-text-input",a.type=i,a.value=o}setValue(i){this.htmlElement.value=i}getValue(){return this.htmlElement.value}onChange(i){this.htmlElement.tagName==="select"?this.htmlElement.addEventListener("change",()=>{i()}):this.htmlElement.addEventListener("input",()=>{i()})}}class Va extends he{constructor(){const o=document.createElement("div");super(o);R(this,"labels");R(this,"panel_area");R(this,"labels_buttons");R(this,"panels");o.className="g-tab-panel",ce(o,{borderStyle:"solid",borderColor:"black",borderWidth:"1px"}),this.labels_buttons=[],this.panels=[],this.labels=new Mo,this.labels.setDistribution("start"),this.panel_area=new Na,this.panel_area.htmlElement.style.flexGrow="1",this.panel_area.htmlElement.style.width="";let a=new Co;a.setDistribution("start"),a.setAlignment("stretch"),fr(a),a.addChild(this.labels),a.addChild(this.panel_area),wt(this,a)}addPanel(o,a){for(const y of this.labels_buttons)y.htmlElement.style.fontStyle="normal";let u=new Ee(o);u.htmlElement.style.fontStyle="italic",this.labels.addChild(u),this.labels_buttons.push(u);const p=new he(document.createElement("div"));wt(p,a),a.htmlElement.style.width="100%",a.htmlElement.style.height="100%",this.panel_area.addChild(p,{top:0,left:0,right:0,bottom:0}),this.panels.length>0&&this.panels[this.panels.length-1].hide(),this.panels.push(p),u.onClick(y=>{for(const g of this.panels)g===p?g.show():g.hide();for(const g of this.labels_buttons)g===u?y.htmlElement.style.fontStyle="italic":(!g.htmlElement.style.fontStyle||g.htmlElement.style.fontStyle!=="normal")&&(g.htmlElement.style.fontStyle="normal")})}}class Wa extends he{constructor(i){super(i),i.className="g-base-listview",ce(i,{display:"flex",justifyContent:"start",alignItems:"stretch"})}addChild(i){let o=new he(document.createElement("div"));o.htmlElement.style.overflow="visible",i.htmlElement.style.width="100%",i.htmlElement.style.height="100%",wt(o,i),wt(this,o)}RemoveAllChildren(){this.htmlElement.innerHTML=""}setGap(i){this.htmlElement.style.gap=`${i}px`}}class Ba extends Wa{constructor(){const i=document.createElement("div");super(i),i.className="g-v-listview",ce(i,{flexDirection:"column",overflowY:"auto"})}}class ai extends he{constructor(){const o=document.createElement("select");super(o);R(this,"getValue",()=>this.htmlElement.value||"");R(this,"setValue",o=>{this.htmlElement.value=o});o.className="g-dropdown",o.setAttribute("size","1"),o.style.borderImageWidth="0",o.value=""}onChange(o){this.htmlElement.addEventListener("change",()=>{o(this)})}setItems(o,a,u){this.htmlElement.innerHTML="";for(let p=0;p<a.length;p++){const y=a[p],g=document.createElement("option");g.value=u[p],g.innerText=y,this.htmlElement.appendChild(g)}this.htmlElement.value=o}setNbItemsShown(o){this.htmlElement.setAttribute("size",o.toString())}}class Oo extends he{constructor(o){const u=o==="horizontal"?"col-resize":"row-resize",p=document.createElement("div");super(p);R(this,"first_panel");R(this,"second_panel");R(this,"resizer");R(this,"x_origin_drag",0);R(this,"y_origin_drag",0);R(this,"size_first_panel",0);R(this,"direction");p.className="g-split-panel",ce(p,{display:"flex",flexDirection:o==="horizontal"?"row":"column",flexWrap:"nowrap"}),this.direction=o,this.first_panel=document.createElement("div"),this.first_panel.style.overflow="hidden",this.first_panel.style.flexGrow="1",this.resizer=document.createElement("div"),this.resizer.style.userSelect="all",this.resizer.style.webkitUserSelect="all",this.resizer.style.cursor=u,this.resizer.style.backgroundColor="gray",o==="horizontal"?this.resizer.style.width="8px":this.resizer.style.height="8px",this.second_panel=document.createElement("div"),this.second_panel.style.overflow="hidden",this.second_panel.style.flexGrow="1",p.appendChild(this.first_panel),p.appendChild(this.resizer),p.appendChild(this.second_panel);const y=()=>{this.size_first_panel=o==="horizontal"?this.first_panel.getBoundingClientRect().width:this.first_panel.getBoundingClientRect().height,this.first_panel.style.cursor=u,this.second_panel.style.cursor=u,p.style.cursor=u,document.body.style.cursor=u,this.first_panel.style.userSelect="none",this.first_panel.style.webkitUserSelect="none",this.first_panel.style.pointerEvents="none",this.second_panel.style.userSelect="none",this.second_panel.style.webkitUserSelect="none",this.second_panel.style.pointerEvents="none",document.addEventListener("mousemove",J),document.addEventListener("mouseup",N),document.addEventListener("mousecancel",N),document.addEventListener("touchmove",I,!1),document.addEventListener("touchend",N),document.addEventListener("touchcancel",N)},g=q=>{this.x_origin_drag=q.touches[0].clientX,this.y_origin_drag=q.touches[0].clientY,y()},k=q=>{q.button===0&&(this.x_origin_drag=q.clientX,this.y_origin_drag=q.clientY,y())},E=(q,Be)=>{if(o==="horizontal"){const Pe=q-this.x_origin_drag,we=this.size_first_panel+Pe;this.first_panel.style.width=`${we}px`;const Q=this.htmlElement.getBoundingClientRect().width-we-8;this.second_panel.style.width=`${Q}px`}else{const Pe=Be-this.y_origin_drag,we=this.size_first_panel+Pe;this.first_panel.style.height=`${we}px`;const Q=this.htmlElement.getBoundingClientRect().height-we-8;this.second_panel.style.height=`${Q}px`}},I=q=>{E(q.touches[0].clientX,q.touches[0].clientY)},J=q=>{E(q.clientX,q.clientY)},N=()=>{this.first_panel.style.cursor="",this.second_panel.style.cursor="",p.style.cursor="",document.body.style.cursor="",this.first_panel.style.userSelect="",this.first_panel.style.webkitUserSelect="",this.first_panel.style.pointerEvents="",this.second_panel.style.userSelect="",this.second_panel.style.webkitUserSelect="",this.second_panel.style.pointerEvents="",document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",N),document.removeEventListener("mousecancel",N),document.removeEventListener("touchmove",I),document.removeEventListener("touchend",N),document.removeEventListener("touchcancel",N)};this.resizer.addEventListener("mousedown",k),this.resizer.addEventListener("touchstart",g)}setChildren(o,a){fr(o),this.first_panel.innerHTML="",this.first_panel.appendChild(o.htmlElement),fr(a),this.second_panel.innerHTML="",this.second_panel.appendChild(a.htmlElement)}is_panel_visible(o){return o===1?this.first_panel.style.display!=="none":o===2?this.second_panel.style.display!=="none":!1}hide_panel(o){o===1&&(this.first_panel.style.display="none",this.resizer.style.display="none"),o===2&&(this.second_panel.style.display="none",this.resizer.style.display="none")}show_panel(o){o===1&&(this.first_panel.style.display="block",this.second_panel.style.display!=="none"&&(this.resizer.style.display="block")),o===2&&(this.second_panel.style.display="block",this.first_panel.style.display!=="none"&&(this.resizer.style.display="block"))}resize_panel(o,a,u="px"){let p=o===1?this.first_panel:this.second_panel;return p.style.flexGrow="0",this.direction==="horizontal"?p.style.width=`${a}${u}`:p.style.height=`${a}${u}`,this}}class Ua extends he{constructor(){const i=document.createElement("table");super(i),i.className="g-table",i.createTBody()}add(i,o){const a=document.createElement("tr"),u=document.createElement("td");u.innerText=i,a.appendChild(u);const p=document.createElement("td");p.appendChild(o.htmlElement),a.appendChild(p),this.htmlElement.tBodies[0].appendChild(a)}}var H;(function(c){c.assertEqual=u=>u;function i(u){}c.assertIs=i;function o(u){throw new Error}c.assertNever=o,c.arrayToEnum=u=>{const p={};for(const y of u)p[y]=y;return p},c.getValidEnumValues=u=>{const p=c.objectKeys(u).filter(g=>typeof u[u[g]]!="number"),y={};for(const g of p)y[g]=u[g];return c.objectValues(y)},c.objectValues=u=>c.objectKeys(u).map(function(p){return u[p]}),c.objectKeys=typeof Object.keys=="function"?u=>Object.keys(u):u=>{const p=[];for(const y in u)Object.prototype.hasOwnProperty.call(u,y)&&p.push(y);return p},c.find=(u,p)=>{for(const y of u)if(p(y))return y},c.isInteger=typeof Number.isInteger=="function"?u=>Number.isInteger(u):u=>typeof u=="number"&&isFinite(u)&&Math.floor(u)===u;function a(u,p=" | "){return u.map(y=>typeof y=="string"?`'${y}'`:y).join(p)}c.joinValues=a,c.jsonStringifyReplacer=(u,p)=>typeof p=="bigint"?p.toString():p})(H||(H={}));var ui;(function(c){c.mergeShapes=(i,o)=>({...i,...o})})(ui||(ui={}));const C=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),it=c=>{switch(typeof c){case"undefined":return C.undefined;case"string":return C.string;case"number":return isNaN(c)?C.nan:C.number;case"boolean":return C.boolean;case"function":return C.function;case"bigint":return C.bigint;case"symbol":return C.symbol;case"object":return Array.isArray(c)?C.array:c===null?C.null:c.then&&typeof c.then=="function"&&c.catch&&typeof c.catch=="function"?C.promise:typeof Map<"u"&&c instanceof Map?C.map:typeof Set<"u"&&c instanceof Set?C.set:typeof Date<"u"&&c instanceof Date?C.date:C.object;default:return C.unknown}},P=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Fa=c=>JSON.stringify(c,null,2).replace(/"([^"]+)":/g,"$1:");class ze extends Error{constructor(i){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const o=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,o):this.__proto__=o,this.name="ZodError",this.issues=i}get errors(){return this.issues}format(i){const o=i||function(p){return p.message},a={_errors:[]},u=p=>{for(const y of p.issues)if(y.code==="invalid_union")y.unionErrors.map(u);else if(y.code==="invalid_return_type")u(y.returnTypeError);else if(y.code==="invalid_arguments")u(y.argumentsError);else if(y.path.length===0)a._errors.push(o(y));else{let g=a,k=0;for(;k<y.path.length;){const E=y.path[k];k===y.path.length-1?(g[E]=g[E]||{_errors:[]},g[E]._errors.push(o(y))):g[E]=g[E]||{_errors:[]},g=g[E],k++}}};return u(this),a}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(i=o=>o.message){const o={},a=[];for(const u of this.issues)u.path.length>0?(o[u.path[0]]=o[u.path[0]]||[],o[u.path[0]].push(i(u))):a.push(i(u));return{formErrors:a,fieldErrors:o}}get formErrors(){return this.flatten()}}ze.create=c=>new ze(c);const gn=(c,i)=>{let o;switch(c.code){case P.invalid_type:c.received===C.undefined?o="Required":o=`Expected ${c.expected}, received ${c.received}`;break;case P.invalid_literal:o=`Invalid literal value, expected ${JSON.stringify(c.expected,H.jsonStringifyReplacer)}`;break;case P.unrecognized_keys:o=`Unrecognized key(s) in object: ${H.joinValues(c.keys,", ")}`;break;case P.invalid_union:o="Invalid input";break;case P.invalid_union_discriminator:o=`Invalid discriminator value. Expected ${H.joinValues(c.options)}`;break;case P.invalid_enum_value:o=`Invalid enum value. Expected ${H.joinValues(c.options)}, received '${c.received}'`;break;case P.invalid_arguments:o="Invalid function arguments";break;case P.invalid_return_type:o="Invalid function return type";break;case P.invalid_date:o="Invalid date";break;case P.invalid_string:typeof c.validation=="object"?"includes"in c.validation?(o=`Invalid input: must include "${c.validation.includes}"`,typeof c.validation.position=="number"&&(o=`${o} at one or more positions greater than or equal to ${c.validation.position}`)):"startsWith"in c.validation?o=`Invalid input: must start with "${c.validation.startsWith}"`:"endsWith"in c.validation?o=`Invalid input: must end with "${c.validation.endsWith}"`:H.assertNever(c.validation):c.validation!=="regex"?o=`Invalid ${c.validation}`:o="Invalid";break;case P.too_small:c.type==="array"?o=`Array must contain ${c.exact?"exactly":c.inclusive?"at least":"more than"} ${c.minimum} element(s)`:c.type==="string"?o=`String must contain ${c.exact?"exactly":c.inclusive?"at least":"over"} ${c.minimum} character(s)`:c.type==="number"?o=`Number must be ${c.exact?"exactly equal to ":c.inclusive?"greater than or equal to ":"greater than "}${c.minimum}`:c.type==="date"?o=`Date must be ${c.exact?"exactly equal to ":c.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(c.minimum))}`:o="Invalid input";break;case P.too_big:c.type==="array"?o=`Array must contain ${c.exact?"exactly":c.inclusive?"at most":"less than"} ${c.maximum} element(s)`:c.type==="string"?o=`String must contain ${c.exact?"exactly":c.inclusive?"at most":"under"} ${c.maximum} character(s)`:c.type==="number"?o=`Number must be ${c.exact?"exactly":c.inclusive?"less than or equal to":"less than"} ${c.maximum}`:c.type==="bigint"?o=`BigInt must be ${c.exact?"exactly":c.inclusive?"less than or equal to":"less than"} ${c.maximum}`:c.type==="date"?o=`Date must be ${c.exact?"exactly":c.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(c.maximum))}`:o="Invalid input";break;case P.custom:o="Invalid input";break;case P.invalid_intersection_types:o="Intersection results could not be merged";break;case P.not_multiple_of:o=`Number must be a multiple of ${c.multipleOf}`;break;case P.not_finite:o="Number must be finite";break;default:o=i.defaultError,H.assertNever(c)}return{message:o}};let Io=gn;function Ga(c){Io=c}function hr(){return Io}const gr=c=>{const{data:i,path:o,errorMaps:a,issueData:u}=c,p=[...o,...u.path||[]],y={...u,path:p};let g="";const k=a.filter(E=>!!E).slice().reverse();for(const E of k)g=E(y,{data:i,defaultError:g}).message;return{...u,path:p,message:u.message||g}},Ya=[];function M(c,i){const o=gr({issueData:i,data:c.data,path:c.path,errorMaps:[c.common.contextualErrorMap,c.schemaErrorMap,hr(),gn].filter(a=>!!a)});c.common.issues.push(o)}class be{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(i,o){const a=[];for(const u of o){if(u.status==="aborted")return W;u.status==="dirty"&&i.dirty(),a.push(u.value)}return{status:i.value,value:a}}static async mergeObjectAsync(i,o){const a=[];for(const u of o)a.push({key:await u.key,value:await u.value});return be.mergeObjectSync(i,a)}static mergeObjectSync(i,o){const a={};for(const u of o){const{key:p,value:y}=u;if(p.status==="aborted"||y.status==="aborted")return W;p.status==="dirty"&&i.dirty(),y.status==="dirty"&&i.dirty(),(typeof y.value<"u"||u.alwaysSet)&&(a[p.value]=y.value)}return{status:i.value,value:a}}}const W=Object.freeze({status:"aborted"}),Ao=c=>({status:"dirty",value:c}),Oe=c=>({status:"valid",value:c}),pi=c=>c.status==="aborted",fi=c=>c.status==="dirty",vr=c=>c.status==="valid",mr=c=>typeof Promise<"u"&&c instanceof Promise;var $;(function(c){c.errToObj=i=>typeof i=="string"?{message:i}:i||{},c.toString=i=>typeof i=="string"?i:i==null?void 0:i.message})($||($={}));class Ve{constructor(i,o,a,u){this._cachedPath=[],this.parent=i,this.data=o,this._path=a,this._key=u}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const So=(c,i)=>{if(vr(i))return{success:!0,data:i.value};if(!c.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const o=new ze(c.common.issues);return this._error=o,this._error}}};function F(c){if(!c)return{};const{errorMap:i,invalid_type_error:o,required_error:a,description:u}=c;if(i&&(o||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return i?{errorMap:i,description:u}:{errorMap:(y,g)=>y.code!=="invalid_type"?{message:g.defaultError}:typeof g.data>"u"?{message:a??g.defaultError}:{message:o??g.defaultError},description:u}}class Y{constructor(i){this.spa=this.safeParseAsync,this._def=i,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(i){return it(i.data)}_getOrReturnCtx(i,o){return o||{common:i.parent.common,data:i.data,parsedType:it(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}_processInputParams(i){return{status:new be,ctx:{common:i.parent.common,data:i.data,parsedType:it(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}}_parseSync(i){const o=this._parse(i);if(mr(o))throw new Error("Synchronous parse encountered promise.");return o}_parseAsync(i){const o=this._parse(i);return Promise.resolve(o)}parse(i,o){const a=this.safeParse(i,o);if(a.success)return a.data;throw a.error}safeParse(i,o){var a;const u={common:{issues:[],async:(a=o==null?void 0:o.async)!==null&&a!==void 0?a:!1,contextualErrorMap:o==null?void 0:o.errorMap},path:(o==null?void 0:o.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:it(i)},p=this._parseSync({data:i,path:u.path,parent:u});return So(u,p)}async parseAsync(i,o){const a=await this.safeParseAsync(i,o);if(a.success)return a.data;throw a.error}async safeParseAsync(i,o){const a={common:{issues:[],contextualErrorMap:o==null?void 0:o.errorMap,async:!0},path:(o==null?void 0:o.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:it(i)},u=this._parse({data:i,path:a.path,parent:a}),p=await(mr(u)?u:Promise.resolve(u));return So(a,p)}refine(i,o){const a=u=>typeof o=="string"||typeof o>"u"?{message:o}:typeof o=="function"?o(u):o;return this._refinement((u,p)=>{const y=i(u),g=()=>p.addIssue({code:P.custom,...a(u)});return typeof Promise<"u"&&y instanceof Promise?y.then(k=>k?!0:(g(),!1)):y?!0:(g(),!1)})}refinement(i,o){return this._refinement((a,u)=>i(a)?!0:(u.addIssue(typeof o=="function"?o(a,u):o),!1))}_refinement(i){return new De({schema:this,typeName:L.ZodEffects,effect:{type:"refinement",refinement:i}})}superRefine(i){return this._refinement(i)}optional(){return Ke.create(this,this._def)}nullable(){return St.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Re.create(this,this._def)}promise(){return Gt.create(this,this._def)}or(i){return _n.create([this,i],this._def)}and(i){return bn.create(this,i,this._def)}transform(i){return new De({...F(this._def),schema:this,typeName:L.ZodEffects,effect:{type:"transform",transform:i}})}default(i){const o=typeof i=="function"?i:()=>i;return new On({...F(this._def),innerType:this,defaultValue:o,typeName:L.ZodDefault})}brand(){return new Ro({typeName:L.ZodBranded,type:this,...F(this._def)})}catch(i){const o=typeof i=="function"?i:()=>i;return new wr({...F(this._def),innerType:this,catchValue:o,typeName:L.ZodCatch})}describe(i){const o=this.constructor;return new o({...this._def,description:i})}pipe(i){return Tn.create(this,i)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qa=/^c[^\s-]{8,}$/i,Xa=/^[a-z][a-z0-9]*$/,Ha=/[0-9A-HJKMNP-TV-Z]{26}/,Ka=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Ja=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Qa=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,el=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,tl=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,nl=c=>c.precision?c.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${c.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${c.precision}}Z$`):c.precision===0?c.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):c.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function rl(c,i){return!!((i==="v4"||!i)&&el.test(c)||(i==="v6"||!i)&&tl.test(c))}class Ae extends Y{constructor(){super(...arguments),this._regex=(i,o,a)=>this.refinement(u=>i.test(u),{validation:o,code:P.invalid_string,...$.errToObj(a)}),this.nonempty=i=>this.min(1,$.errToObj(i)),this.trim=()=>new Ae({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Ae({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Ae({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(i){if(this._def.coerce&&(i.data=String(i.data)),this._getType(i)!==C.string){const p=this._getOrReturnCtx(i);return M(p,{code:P.invalid_type,expected:C.string,received:p.parsedType}),W}const a=new be;let u;for(const p of this._def.checks)if(p.kind==="min")i.data.length<p.value&&(u=this._getOrReturnCtx(i,u),M(u,{code:P.too_small,minimum:p.value,type:"string",inclusive:!0,exact:!1,message:p.message}),a.dirty());else if(p.kind==="max")i.data.length>p.value&&(u=this._getOrReturnCtx(i,u),M(u,{code:P.too_big,maximum:p.value,type:"string",inclusive:!0,exact:!1,message:p.message}),a.dirty());else if(p.kind==="length"){const y=i.data.length>p.value,g=i.data.length<p.value;(y||g)&&(u=this._getOrReturnCtx(i,u),y?M(u,{code:P.too_big,maximum:p.value,type:"string",inclusive:!0,exact:!0,message:p.message}):g&&M(u,{code:P.too_small,minimum:p.value,type:"string",inclusive:!0,exact:!0,message:p.message}),a.dirty())}else if(p.kind==="email")Ja.test(i.data)||(u=this._getOrReturnCtx(i,u),M(u,{validation:"email",code:P.invalid_string,message:p.message}),a.dirty());else if(p.kind==="emoji")Qa.test(i.data)||(u=this._getOrReturnCtx(i,u),M(u,{validation:"emoji",code:P.invalid_string,message:p.message}),a.dirty());else if(p.kind==="uuid")Ka.test(i.data)||(u=this._getOrReturnCtx(i,u),M(u,{validation:"uuid",code:P.invalid_string,message:p.message}),a.dirty());else if(p.kind==="cuid")qa.test(i.data)||(u=this._getOrReturnCtx(i,u),M(u,{validation:"cuid",code:P.invalid_string,message:p.message}),a.dirty());else if(p.kind==="cuid2")Xa.test(i.data)||(u=this._getOrReturnCtx(i,u),M(u,{validation:"cuid2",code:P.invalid_string,message:p.message}),a.dirty());else if(p.kind==="ulid")Ha.test(i.data)||(u=this._getOrReturnCtx(i,u),M(u,{validation:"ulid",code:P.invalid_string,message:p.message}),a.dirty());else if(p.kind==="url")try{new URL(i.data)}catch{u=this._getOrReturnCtx(i,u),M(u,{validation:"url",code:P.invalid_string,message:p.message}),a.dirty()}else p.kind==="regex"?(p.regex.lastIndex=0,p.regex.test(i.data)||(u=this._getOrReturnCtx(i,u),M(u,{validation:"regex",code:P.invalid_string,message:p.message}),a.dirty())):p.kind==="trim"?i.data=i.data.trim():p.kind==="includes"?i.data.includes(p.value,p.position)||(u=this._getOrReturnCtx(i,u),M(u,{code:P.invalid_string,validation:{includes:p.value,position:p.position},message:p.message}),a.dirty()):p.kind==="toLowerCase"?i.data=i.data.toLowerCase():p.kind==="toUpperCase"?i.data=i.data.toUpperCase():p.kind==="startsWith"?i.data.startsWith(p.value)||(u=this._getOrReturnCtx(i,u),M(u,{code:P.invalid_string,validation:{startsWith:p.value},message:p.message}),a.dirty()):p.kind==="endsWith"?i.data.endsWith(p.value)||(u=this._getOrReturnCtx(i,u),M(u,{code:P.invalid_string,validation:{endsWith:p.value},message:p.message}),a.dirty()):p.kind==="datetime"?nl(p).test(i.data)||(u=this._getOrReturnCtx(i,u),M(u,{code:P.invalid_string,validation:"datetime",message:p.message}),a.dirty()):p.kind==="ip"?rl(i.data,p.version)||(u=this._getOrReturnCtx(i,u),M(u,{validation:"ip",code:P.invalid_string,message:p.message}),a.dirty()):H.assertNever(p);return{status:a.value,value:i.data}}_addCheck(i){return new Ae({...this._def,checks:[...this._def.checks,i]})}email(i){return this._addCheck({kind:"email",...$.errToObj(i)})}url(i){return this._addCheck({kind:"url",...$.errToObj(i)})}emoji(i){return this._addCheck({kind:"emoji",...$.errToObj(i)})}uuid(i){return this._addCheck({kind:"uuid",...$.errToObj(i)})}cuid(i){return this._addCheck({kind:"cuid",...$.errToObj(i)})}cuid2(i){return this._addCheck({kind:"cuid2",...$.errToObj(i)})}ulid(i){return this._addCheck({kind:"ulid",...$.errToObj(i)})}ip(i){return this._addCheck({kind:"ip",...$.errToObj(i)})}datetime(i){var o;return typeof i=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:i}):this._addCheck({kind:"datetime",precision:typeof(i==null?void 0:i.precision)>"u"?null:i==null?void 0:i.precision,offset:(o=i==null?void 0:i.offset)!==null&&o!==void 0?o:!1,...$.errToObj(i==null?void 0:i.message)})}regex(i,o){return this._addCheck({kind:"regex",regex:i,...$.errToObj(o)})}includes(i,o){return this._addCheck({kind:"includes",value:i,position:o==null?void 0:o.position,...$.errToObj(o==null?void 0:o.message)})}startsWith(i,o){return this._addCheck({kind:"startsWith",value:i,...$.errToObj(o)})}endsWith(i,o){return this._addCheck({kind:"endsWith",value:i,...$.errToObj(o)})}min(i,o){return this._addCheck({kind:"min",value:i,...$.errToObj(o)})}max(i,o){return this._addCheck({kind:"max",value:i,...$.errToObj(o)})}length(i,o){return this._addCheck({kind:"length",value:i,...$.errToObj(o)})}get isDatetime(){return!!this._def.checks.find(i=>i.kind==="datetime")}get isEmail(){return!!this._def.checks.find(i=>i.kind==="email")}get isURL(){return!!this._def.checks.find(i=>i.kind==="url")}get isEmoji(){return!!this._def.checks.find(i=>i.kind==="emoji")}get isUUID(){return!!this._def.checks.find(i=>i.kind==="uuid")}get isCUID(){return!!this._def.checks.find(i=>i.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(i=>i.kind==="cuid2")}get isULID(){return!!this._def.checks.find(i=>i.kind==="ulid")}get isIP(){return!!this._def.checks.find(i=>i.kind==="ip")}get minLength(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i}get maxLength(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i}}Ae.create=c=>{var i;return new Ae({checks:[],typeName:L.ZodString,coerce:(i=c==null?void 0:c.coerce)!==null&&i!==void 0?i:!1,...F(c)})};function il(c,i){const o=(c.toString().split(".")[1]||"").length,a=(i.toString().split(".")[1]||"").length,u=o>a?o:a,p=parseInt(c.toFixed(u).replace(".","")),y=parseInt(i.toFixed(u).replace(".",""));return p%y/Math.pow(10,u)}class ot extends Y{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(i){if(this._def.coerce&&(i.data=Number(i.data)),this._getType(i)!==C.number){const p=this._getOrReturnCtx(i);return M(p,{code:P.invalid_type,expected:C.number,received:p.parsedType}),W}let a;const u=new be;for(const p of this._def.checks)p.kind==="int"?H.isInteger(i.data)||(a=this._getOrReturnCtx(i,a),M(a,{code:P.invalid_type,expected:"integer",received:"float",message:p.message}),u.dirty()):p.kind==="min"?(p.inclusive?i.data<p.value:i.data<=p.value)&&(a=this._getOrReturnCtx(i,a),M(a,{code:P.too_small,minimum:p.value,type:"number",inclusive:p.inclusive,exact:!1,message:p.message}),u.dirty()):p.kind==="max"?(p.inclusive?i.data>p.value:i.data>=p.value)&&(a=this._getOrReturnCtx(i,a),M(a,{code:P.too_big,maximum:p.value,type:"number",inclusive:p.inclusive,exact:!1,message:p.message}),u.dirty()):p.kind==="multipleOf"?il(i.data,p.value)!==0&&(a=this._getOrReturnCtx(i,a),M(a,{code:P.not_multiple_of,multipleOf:p.value,message:p.message}),u.dirty()):p.kind==="finite"?Number.isFinite(i.data)||(a=this._getOrReturnCtx(i,a),M(a,{code:P.not_finite,message:p.message}),u.dirty()):H.assertNever(p);return{status:u.value,value:i.data}}gte(i,o){return this.setLimit("min",i,!0,$.toString(o))}gt(i,o){return this.setLimit("min",i,!1,$.toString(o))}lte(i,o){return this.setLimit("max",i,!0,$.toString(o))}lt(i,o){return this.setLimit("max",i,!1,$.toString(o))}setLimit(i,o,a,u){return new ot({...this._def,checks:[...this._def.checks,{kind:i,value:o,inclusive:a,message:$.toString(u)}]})}_addCheck(i){return new ot({...this._def,checks:[...this._def.checks,i]})}int(i){return this._addCheck({kind:"int",message:$.toString(i)})}positive(i){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$.toString(i)})}negative(i){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$.toString(i)})}multipleOf(i,o){return this._addCheck({kind:"multipleOf",value:i,message:$.toString(o)})}finite(i){return this._addCheck({kind:"finite",message:$.toString(i)})}safe(i){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$.toString(i)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$.toString(i)})}get minValue(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i}get maxValue(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i}get isInt(){return!!this._def.checks.find(i=>i.kind==="int"||i.kind==="multipleOf"&&H.isInteger(i.value))}get isFinite(){let i=null,o=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(o===null||a.value>o)&&(o=a.value):a.kind==="max"&&(i===null||a.value<i)&&(i=a.value)}return Number.isFinite(o)&&Number.isFinite(i)}}ot.create=c=>new ot({checks:[],typeName:L.ZodNumber,coerce:(c==null?void 0:c.coerce)||!1,...F(c)});class st extends Y{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(i){if(this._def.coerce&&(i.data=BigInt(i.data)),this._getType(i)!==C.bigint){const p=this._getOrReturnCtx(i);return M(p,{code:P.invalid_type,expected:C.bigint,received:p.parsedType}),W}let a;const u=new be;for(const p of this._def.checks)p.kind==="min"?(p.inclusive?i.data<p.value:i.data<=p.value)&&(a=this._getOrReturnCtx(i,a),M(a,{code:P.too_small,type:"bigint",minimum:p.value,inclusive:p.inclusive,message:p.message}),u.dirty()):p.kind==="max"?(p.inclusive?i.data>p.value:i.data>=p.value)&&(a=this._getOrReturnCtx(i,a),M(a,{code:P.too_big,type:"bigint",maximum:p.value,inclusive:p.inclusive,message:p.message}),u.dirty()):p.kind==="multipleOf"?i.data%p.value!==BigInt(0)&&(a=this._getOrReturnCtx(i,a),M(a,{code:P.not_multiple_of,multipleOf:p.value,message:p.message}),u.dirty()):H.assertNever(p);return{status:u.value,value:i.data}}gte(i,o){return this.setLimit("min",i,!0,$.toString(o))}gt(i,o){return this.setLimit("min",i,!1,$.toString(o))}lte(i,o){return this.setLimit("max",i,!0,$.toString(o))}lt(i,o){return this.setLimit("max",i,!1,$.toString(o))}setLimit(i,o,a,u){return new st({...this._def,checks:[...this._def.checks,{kind:i,value:o,inclusive:a,message:$.toString(u)}]})}_addCheck(i){return new st({...this._def,checks:[...this._def.checks,i]})}positive(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$.toString(i)})}negative(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$.toString(i)})}multipleOf(i,o){return this._addCheck({kind:"multipleOf",value:i,message:$.toString(o)})}get minValue(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i}get maxValue(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i}}st.create=c=>{var i;return new st({checks:[],typeName:L.ZodBigInt,coerce:(i=c==null?void 0:c.coerce)!==null&&i!==void 0?i:!1,...F(c)})};class vn extends Y{_parse(i){if(this._def.coerce&&(i.data=!!i.data),this._getType(i)!==C.boolean){const a=this._getOrReturnCtx(i);return M(a,{code:P.invalid_type,expected:C.boolean,received:a.parsedType}),W}return Oe(i.data)}}vn.create=c=>new vn({typeName:L.ZodBoolean,coerce:(c==null?void 0:c.coerce)||!1,...F(c)});class Et extends Y{_parse(i){if(this._def.coerce&&(i.data=new Date(i.data)),this._getType(i)!==C.date){const p=this._getOrReturnCtx(i);return M(p,{code:P.invalid_type,expected:C.date,received:p.parsedType}),W}if(isNaN(i.data.getTime())){const p=this._getOrReturnCtx(i);return M(p,{code:P.invalid_date}),W}const a=new be;let u;for(const p of this._def.checks)p.kind==="min"?i.data.getTime()<p.value&&(u=this._getOrReturnCtx(i,u),M(u,{code:P.too_small,message:p.message,inclusive:!0,exact:!1,minimum:p.value,type:"date"}),a.dirty()):p.kind==="max"?i.data.getTime()>p.value&&(u=this._getOrReturnCtx(i,u),M(u,{code:P.too_big,message:p.message,inclusive:!0,exact:!1,maximum:p.value,type:"date"}),a.dirty()):H.assertNever(p);return{status:a.value,value:new Date(i.data.getTime())}}_addCheck(i){return new Et({...this._def,checks:[...this._def.checks,i]})}min(i,o){return this._addCheck({kind:"min",value:i.getTime(),message:$.toString(o)})}max(i,o){return this._addCheck({kind:"max",value:i.getTime(),message:$.toString(o)})}get minDate(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i!=null?new Date(i):null}get maxDate(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i!=null?new Date(i):null}}Et.create=c=>new Et({checks:[],coerce:(c==null?void 0:c.coerce)||!1,typeName:L.ZodDate,...F(c)});class yr extends Y{_parse(i){if(this._getType(i)!==C.symbol){const a=this._getOrReturnCtx(i);return M(a,{code:P.invalid_type,expected:C.symbol,received:a.parsedType}),W}return Oe(i.data)}}yr.create=c=>new yr({typeName:L.ZodSymbol,...F(c)});class mn extends Y{_parse(i){if(this._getType(i)!==C.undefined){const a=this._getOrReturnCtx(i);return M(a,{code:P.invalid_type,expected:C.undefined,received:a.parsedType}),W}return Oe(i.data)}}mn.create=c=>new mn({typeName:L.ZodUndefined,...F(c)});class yn extends Y{_parse(i){if(this._getType(i)!==C.null){const a=this._getOrReturnCtx(i);return M(a,{code:P.invalid_type,expected:C.null,received:a.parsedType}),W}return Oe(i.data)}}yn.create=c=>new yn({typeName:L.ZodNull,...F(c)});class Ft extends Y{constructor(){super(...arguments),this._any=!0}_parse(i){return Oe(i.data)}}Ft.create=c=>new Ft({typeName:L.ZodAny,...F(c)});class kt extends Y{constructor(){super(...arguments),this._unknown=!0}_parse(i){return Oe(i.data)}}kt.create=c=>new kt({typeName:L.ZodUnknown,...F(c)});class Je extends Y{_parse(i){const o=this._getOrReturnCtx(i);return M(o,{code:P.invalid_type,expected:C.never,received:o.parsedType}),W}}Je.create=c=>new Je({typeName:L.ZodNever,...F(c)});class _r extends Y{_parse(i){if(this._getType(i)!==C.undefined){const a=this._getOrReturnCtx(i);return M(a,{code:P.invalid_type,expected:C.void,received:a.parsedType}),W}return Oe(i.data)}}_r.create=c=>new _r({typeName:L.ZodVoid,...F(c)});class Re extends Y{_parse(i){const{ctx:o,status:a}=this._processInputParams(i),u=this._def;if(o.parsedType!==C.array)return M(o,{code:P.invalid_type,expected:C.array,received:o.parsedType}),W;if(u.exactLength!==null){const y=o.data.length>u.exactLength.value,g=o.data.length<u.exactLength.value;(y||g)&&(M(o,{code:y?P.too_big:P.too_small,minimum:g?u.exactLength.value:void 0,maximum:y?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),a.dirty())}if(u.minLength!==null&&o.data.length<u.minLength.value&&(M(o,{code:P.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),a.dirty()),u.maxLength!==null&&o.data.length>u.maxLength.value&&(M(o,{code:P.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),a.dirty()),o.common.async)return Promise.all([...o.data].map((y,g)=>u.type._parseAsync(new Ve(o,y,o.path,g)))).then(y=>be.mergeArray(a,y));const p=[...o.data].map((y,g)=>u.type._parseSync(new Ve(o,y,o.path,g)));return be.mergeArray(a,p)}get element(){return this._def.type}min(i,o){return new Re({...this._def,minLength:{value:i,message:$.toString(o)}})}max(i,o){return new Re({...this._def,maxLength:{value:i,message:$.toString(o)}})}length(i,o){return new Re({...this._def,exactLength:{value:i,message:$.toString(o)}})}nonempty(i){return this.min(1,i)}}Re.create=(c,i)=>new Re({type:c,minLength:null,maxLength:null,exactLength:null,typeName:L.ZodArray,...F(i)});function Bt(c){if(c instanceof le){const i={};for(const o in c.shape){const a=c.shape[o];i[o]=Ke.create(Bt(a))}return new le({...c._def,shape:()=>i})}else return c instanceof Re?new Re({...c._def,type:Bt(c.element)}):c instanceof Ke?Ke.create(Bt(c.unwrap())):c instanceof St?St.create(Bt(c.unwrap())):c instanceof We?We.create(c.items.map(i=>Bt(i))):c}class le extends Y{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const i=this._def.shape(),o=H.objectKeys(i);return this._cached={shape:i,keys:o}}_parse(i){if(this._getType(i)!==C.object){const E=this._getOrReturnCtx(i);return M(E,{code:P.invalid_type,expected:C.object,received:E.parsedType}),W}const{status:a,ctx:u}=this._processInputParams(i),{shape:p,keys:y}=this._getCached(),g=[];if(!(this._def.catchall instanceof Je&&this._def.unknownKeys==="strip"))for(const E in u.data)y.includes(E)||g.push(E);const k=[];for(const E of y){const I=p[E],J=u.data[E];k.push({key:{status:"valid",value:E},value:I._parse(new Ve(u,J,u.path,E)),alwaysSet:E in u.data})}if(this._def.catchall instanceof Je){const E=this._def.unknownKeys;if(E==="passthrough")for(const I of g)k.push({key:{status:"valid",value:I},value:{status:"valid",value:u.data[I]}});else if(E==="strict")g.length>0&&(M(u,{code:P.unrecognized_keys,keys:g}),a.dirty());else if(E!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const E=this._def.catchall;for(const I of g){const J=u.data[I];k.push({key:{status:"valid",value:I},value:E._parse(new Ve(u,J,u.path,I)),alwaysSet:I in u.data})}}return u.common.async?Promise.resolve().then(async()=>{const E=[];for(const I of k){const J=await I.key;E.push({key:J,value:await I.value,alwaysSet:I.alwaysSet})}return E}).then(E=>be.mergeObjectSync(a,E)):be.mergeObjectSync(a,k)}get shape(){return this._def.shape()}strict(i){return $.errToObj,new le({...this._def,unknownKeys:"strict",...i!==void 0?{errorMap:(o,a)=>{var u,p,y,g;const k=(y=(p=(u=this._def).errorMap)===null||p===void 0?void 0:p.call(u,o,a).message)!==null&&y!==void 0?y:a.defaultError;return o.code==="unrecognized_keys"?{message:(g=$.errToObj(i).message)!==null&&g!==void 0?g:k}:{message:k}}}:{}})}strip(){return new le({...this._def,unknownKeys:"strip"})}passthrough(){return new le({...this._def,unknownKeys:"passthrough"})}extend(i){return new le({...this._def,shape:()=>({...this._def.shape(),...i})})}merge(i){return new le({unknownKeys:i._def.unknownKeys,catchall:i._def.catchall,shape:()=>({...this._def.shape(),...i._def.shape()}),typeName:L.ZodObject})}setKey(i,o){return this.augment({[i]:o})}catchall(i){return new le({...this._def,catchall:i})}pick(i){const o={};return H.objectKeys(i).forEach(a=>{i[a]&&this.shape[a]&&(o[a]=this.shape[a])}),new le({...this._def,shape:()=>o})}omit(i){const o={};return H.objectKeys(this.shape).forEach(a=>{i[a]||(o[a]=this.shape[a])}),new le({...this._def,shape:()=>o})}deepPartial(){return Bt(this)}partial(i){const o={};return H.objectKeys(this.shape).forEach(a=>{const u=this.shape[a];i&&!i[a]?o[a]=u:o[a]=u.optional()}),new le({...this._def,shape:()=>o})}required(i){const o={};return H.objectKeys(this.shape).forEach(a=>{if(i&&!i[a])o[a]=this.shape[a];else{let p=this.shape[a];for(;p instanceof Ke;)p=p._def.innerType;o[a]=p}}),new le({...this._def,shape:()=>o})}keyof(){return zo(H.objectKeys(this.shape))}}le.create=(c,i)=>new le({shape:()=>c,unknownKeys:"strip",catchall:Je.create(),typeName:L.ZodObject,...F(i)});le.strictCreate=(c,i)=>new le({shape:()=>c,unknownKeys:"strict",catchall:Je.create(),typeName:L.ZodObject,...F(i)});le.lazycreate=(c,i)=>new le({shape:c,unknownKeys:"strip",catchall:Je.create(),typeName:L.ZodObject,...F(i)});class _n extends Y{_parse(i){const{ctx:o}=this._processInputParams(i),a=this._def.options;function u(p){for(const g of p)if(g.result.status==="valid")return g.result;for(const g of p)if(g.result.status==="dirty")return o.common.issues.push(...g.ctx.common.issues),g.result;const y=p.map(g=>new ze(g.ctx.common.issues));return M(o,{code:P.invalid_union,unionErrors:y}),W}if(o.common.async)return Promise.all(a.map(async p=>{const y={...o,common:{...o.common,issues:[]},parent:null};return{result:await p._parseAsync({data:o.data,path:o.path,parent:y}),ctx:y}})).then(u);{let p;const y=[];for(const k of a){const E={...o,common:{...o.common,issues:[]},parent:null},I=k._parseSync({data:o.data,path:o.path,parent:E});if(I.status==="valid")return I;I.status==="dirty"&&!p&&(p={result:I,ctx:E}),E.common.issues.length&&y.push(E.common.issues)}if(p)return o.common.issues.push(...p.ctx.common.issues),p.result;const g=y.map(k=>new ze(k));return M(o,{code:P.invalid_union,unionErrors:g}),W}}get options(){return this._def.options}}_n.create=(c,i)=>new _n({options:c,typeName:L.ZodUnion,...F(i)});const ur=c=>c instanceof xn?ur(c.schema):c instanceof De?ur(c.innerType()):c instanceof kn?[c.value]:c instanceof at?c.options:c instanceof En?Object.keys(c.enum):c instanceof On?ur(c._def.innerType):c instanceof mn?[void 0]:c instanceof yn?[null]:null;class Er extends Y{_parse(i){const{ctx:o}=this._processInputParams(i);if(o.parsedType!==C.object)return M(o,{code:P.invalid_type,expected:C.object,received:o.parsedType}),W;const a=this.discriminator,u=o.data[a],p=this.optionsMap.get(u);return p?o.common.async?p._parseAsync({data:o.data,path:o.path,parent:o}):p._parseSync({data:o.data,path:o.path,parent:o}):(M(o,{code:P.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),W)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(i,o,a){const u=new Map;for(const p of o){const y=ur(p.shape[i]);if(!y)throw new Error(`A discriminator value for key \`${i}\` could not be extracted from all schema options`);for(const g of y){if(u.has(g))throw new Error(`Discriminator property ${String(i)} has duplicate value ${String(g)}`);u.set(g,p)}}return new Er({typeName:L.ZodDiscriminatedUnion,discriminator:i,options:o,optionsMap:u,...F(a)})}}function hi(c,i){const o=it(c),a=it(i);if(c===i)return{valid:!0,data:c};if(o===C.object&&a===C.object){const u=H.objectKeys(i),p=H.objectKeys(c).filter(g=>u.indexOf(g)!==-1),y={...c,...i};for(const g of p){const k=hi(c[g],i[g]);if(!k.valid)return{valid:!1};y[g]=k.data}return{valid:!0,data:y}}else if(o===C.array&&a===C.array){if(c.length!==i.length)return{valid:!1};const u=[];for(let p=0;p<c.length;p++){const y=c[p],g=i[p],k=hi(y,g);if(!k.valid)return{valid:!1};u.push(k.data)}return{valid:!0,data:u}}else return o===C.date&&a===C.date&&+c==+i?{valid:!0,data:c}:{valid:!1}}class bn extends Y{_parse(i){const{status:o,ctx:a}=this._processInputParams(i),u=(p,y)=>{if(pi(p)||pi(y))return W;const g=hi(p.value,y.value);return g.valid?((fi(p)||fi(y))&&o.dirty(),{status:o.value,value:g.data}):(M(a,{code:P.invalid_intersection_types}),W)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([p,y])=>u(p,y)):u(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}bn.create=(c,i,o)=>new bn({left:c,right:i,typeName:L.ZodIntersection,...F(o)});class We extends Y{_parse(i){const{status:o,ctx:a}=this._processInputParams(i);if(a.parsedType!==C.array)return M(a,{code:P.invalid_type,expected:C.array,received:a.parsedType}),W;if(a.data.length<this._def.items.length)return M(a,{code:P.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),W;!this._def.rest&&a.data.length>this._def.items.length&&(M(a,{code:P.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o.dirty());const p=[...a.data].map((y,g)=>{const k=this._def.items[g]||this._def.rest;return k?k._parse(new Ve(a,y,a.path,g)):null}).filter(y=>!!y);return a.common.async?Promise.all(p).then(y=>be.mergeArray(o,y)):be.mergeArray(o,p)}get items(){return this._def.items}rest(i){return new We({...this._def,rest:i})}}We.create=(c,i)=>{if(!Array.isArray(c))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new We({items:c,typeName:L.ZodTuple,rest:null,...F(i)})};class wn extends Y{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){const{status:o,ctx:a}=this._processInputParams(i);if(a.parsedType!==C.object)return M(a,{code:P.invalid_type,expected:C.object,received:a.parsedType}),W;const u=[],p=this._def.keyType,y=this._def.valueType;for(const g in a.data)u.push({key:p._parse(new Ve(a,g,a.path,g)),value:y._parse(new Ve(a,a.data[g],a.path,g))});return a.common.async?be.mergeObjectAsync(o,u):be.mergeObjectSync(o,u)}get element(){return this._def.valueType}static create(i,o,a){return o instanceof Y?new wn({keyType:i,valueType:o,typeName:L.ZodRecord,...F(a)}):new wn({keyType:Ae.create(),valueType:i,typeName:L.ZodRecord,...F(o)})}}class br extends Y{_parse(i){const{status:o,ctx:a}=this._processInputParams(i);if(a.parsedType!==C.map)return M(a,{code:P.invalid_type,expected:C.map,received:a.parsedType}),W;const u=this._def.keyType,p=this._def.valueType,y=[...a.data.entries()].map(([g,k],E)=>({key:u._parse(new Ve(a,g,a.path,[E,"key"])),value:p._parse(new Ve(a,k,a.path,[E,"value"]))}));if(a.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const k of y){const E=await k.key,I=await k.value;if(E.status==="aborted"||I.status==="aborted")return W;(E.status==="dirty"||I.status==="dirty")&&o.dirty(),g.set(E.value,I.value)}return{status:o.value,value:g}})}else{const g=new Map;for(const k of y){const E=k.key,I=k.value;if(E.status==="aborted"||I.status==="aborted")return W;(E.status==="dirty"||I.status==="dirty")&&o.dirty(),g.set(E.value,I.value)}return{status:o.value,value:g}}}}br.create=(c,i,o)=>new br({valueType:i,keyType:c,typeName:L.ZodMap,...F(o)});class Ot extends Y{_parse(i){const{status:o,ctx:a}=this._processInputParams(i);if(a.parsedType!==C.set)return M(a,{code:P.invalid_type,expected:C.set,received:a.parsedType}),W;const u=this._def;u.minSize!==null&&a.data.size<u.minSize.value&&(M(a,{code:P.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),o.dirty()),u.maxSize!==null&&a.data.size>u.maxSize.value&&(M(a,{code:P.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),o.dirty());const p=this._def.valueType;function y(k){const E=new Set;for(const I of k){if(I.status==="aborted")return W;I.status==="dirty"&&o.dirty(),E.add(I.value)}return{status:o.value,value:E}}const g=[...a.data.values()].map((k,E)=>p._parse(new Ve(a,k,a.path,E)));return a.common.async?Promise.all(g).then(k=>y(k)):y(g)}min(i,o){return new Ot({...this._def,minSize:{value:i,message:$.toString(o)}})}max(i,o){return new Ot({...this._def,maxSize:{value:i,message:$.toString(o)}})}size(i,o){return this.min(i,o).max(i,o)}nonempty(i){return this.min(1,i)}}Ot.create=(c,i)=>new Ot({valueType:c,minSize:null,maxSize:null,typeName:L.ZodSet,...F(i)});class Ut extends Y{constructor(){super(...arguments),this.validate=this.implement}_parse(i){const{ctx:o}=this._processInputParams(i);if(o.parsedType!==C.function)return M(o,{code:P.invalid_type,expected:C.function,received:o.parsedType}),W;function a(g,k){return gr({data:g,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,hr(),gn].filter(E=>!!E),issueData:{code:P.invalid_arguments,argumentsError:k}})}function u(g,k){return gr({data:g,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,hr(),gn].filter(E=>!!E),issueData:{code:P.invalid_return_type,returnTypeError:k}})}const p={errorMap:o.common.contextualErrorMap},y=o.data;return this._def.returns instanceof Gt?Oe(async(...g)=>{const k=new ze([]),E=await this._def.args.parseAsync(g,p).catch(N=>{throw k.addIssue(a(g,N)),k}),I=await y(...E);return await this._def.returns._def.type.parseAsync(I,p).catch(N=>{throw k.addIssue(u(I,N)),k})}):Oe((...g)=>{const k=this._def.args.safeParse(g,p);if(!k.success)throw new ze([a(g,k.error)]);const E=y(...k.data),I=this._def.returns.safeParse(E,p);if(!I.success)throw new ze([u(E,I.error)]);return I.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...i){return new Ut({...this._def,args:We.create(i).rest(kt.create())})}returns(i){return new Ut({...this._def,returns:i})}implement(i){return this.parse(i)}strictImplement(i){return this.parse(i)}static create(i,o,a){return new Ut({args:i||We.create([]).rest(kt.create()),returns:o||kt.create(),typeName:L.ZodFunction,...F(a)})}}class xn extends Y{get schema(){return this._def.getter()}_parse(i){const{ctx:o}=this._processInputParams(i);return this._def.getter()._parse({data:o.data,path:o.path,parent:o})}}xn.create=(c,i)=>new xn({getter:c,typeName:L.ZodLazy,...F(i)});class kn extends Y{_parse(i){if(i.data!==this._def.value){const o=this._getOrReturnCtx(i);return M(o,{received:o.data,code:P.invalid_literal,expected:this._def.value}),W}return{status:"valid",value:i.data}}get value(){return this._def.value}}kn.create=(c,i)=>new kn({value:c,typeName:L.ZodLiteral,...F(i)});function zo(c,i){return new at({values:c,typeName:L.ZodEnum,...F(i)})}class at extends Y{_parse(i){if(typeof i.data!="string"){const o=this._getOrReturnCtx(i),a=this._def.values;return M(o,{expected:H.joinValues(a),received:o.parsedType,code:P.invalid_type}),W}if(this._def.values.indexOf(i.data)===-1){const o=this._getOrReturnCtx(i),a=this._def.values;return M(o,{received:o.data,code:P.invalid_enum_value,options:a}),W}return Oe(i.data)}get options(){return this._def.values}get enum(){const i={};for(const o of this._def.values)i[o]=o;return i}get Values(){const i={};for(const o of this._def.values)i[o]=o;return i}get Enum(){const i={};for(const o of this._def.values)i[o]=o;return i}extract(i){return at.create(i)}exclude(i){return at.create(this.options.filter(o=>!i.includes(o)))}}at.create=zo;class En extends Y{_parse(i){const o=H.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(i);if(a.parsedType!==C.string&&a.parsedType!==C.number){const u=H.objectValues(o);return M(a,{expected:H.joinValues(u),received:a.parsedType,code:P.invalid_type}),W}if(o.indexOf(i.data)===-1){const u=H.objectValues(o);return M(a,{received:a.data,code:P.invalid_enum_value,options:u}),W}return Oe(i.data)}get enum(){return this._def.values}}En.create=(c,i)=>new En({values:c,typeName:L.ZodNativeEnum,...F(i)});class Gt extends Y{unwrap(){return this._def.type}_parse(i){const{ctx:o}=this._processInputParams(i);if(o.parsedType!==C.promise&&o.common.async===!1)return M(o,{code:P.invalid_type,expected:C.promise,received:o.parsedType}),W;const a=o.parsedType===C.promise?o.data:Promise.resolve(o.data);return Oe(a.then(u=>this._def.type.parseAsync(u,{path:o.path,errorMap:o.common.contextualErrorMap})))}}Gt.create=(c,i)=>new Gt({type:c,typeName:L.ZodPromise,...F(i)});class De extends Y{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===L.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(i){const{status:o,ctx:a}=this._processInputParams(i),u=this._def.effect||null;if(u.type==="preprocess"){const y=u.transform(a.data);return a.common.async?Promise.resolve(y).then(g=>this._def.schema._parseAsync({data:g,path:a.path,parent:a})):this._def.schema._parseSync({data:y,path:a.path,parent:a})}const p={addIssue:y=>{M(a,y),y.fatal?o.abort():o.dirty()},get path(){return a.path}};if(p.addIssue=p.addIssue.bind(p),u.type==="refinement"){const y=g=>{const k=u.refinement(g,p);if(a.common.async)return Promise.resolve(k);if(k instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(a.common.async===!1){const g=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return g.status==="aborted"?W:(g.status==="dirty"&&o.dirty(),y(g.value),{status:o.value,value:g.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(g=>g.status==="aborted"?W:(g.status==="dirty"&&o.dirty(),y(g.value).then(()=>({status:o.value,value:g.value}))))}if(u.type==="transform")if(a.common.async===!1){const y=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!vr(y))return y;const g=u.transform(y.value,p);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:o.value,value:g}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(y=>vr(y)?Promise.resolve(u.transform(y.value,p)).then(g=>({status:o.value,value:g})):y);H.assertNever(u)}}De.create=(c,i,o)=>new De({schema:c,typeName:L.ZodEffects,effect:i,...F(o)});De.createWithPreprocess=(c,i,o)=>new De({schema:i,effect:{type:"preprocess",transform:c},typeName:L.ZodEffects,...F(o)});class Ke extends Y{_parse(i){return this._getType(i)===C.undefined?Oe(void 0):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}Ke.create=(c,i)=>new Ke({innerType:c,typeName:L.ZodOptional,...F(i)});class St extends Y{_parse(i){return this._getType(i)===C.null?Oe(null):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}St.create=(c,i)=>new St({innerType:c,typeName:L.ZodNullable,...F(i)});class On extends Y{_parse(i){const{ctx:o}=this._processInputParams(i);let a=o.data;return o.parsedType===C.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:o.path,parent:o})}removeDefault(){return this._def.innerType}}On.create=(c,i)=>new On({innerType:c,typeName:L.ZodDefault,defaultValue:typeof i.default=="function"?i.default:()=>i.default,...F(i)});class wr extends Y{_parse(i){const{ctx:o}=this._processInputParams(i),a={...o,common:{...o.common,issues:[]}},u=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return mr(u)?u.then(p=>({status:"valid",value:p.status==="valid"?p.value:this._def.catchValue({get error(){return new ze(a.common.issues)},input:a.data})})):{status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new ze(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}wr.create=(c,i)=>new wr({innerType:c,typeName:L.ZodCatch,catchValue:typeof i.catch=="function"?i.catch:()=>i.catch,...F(i)});class xr extends Y{_parse(i){if(this._getType(i)!==C.nan){const a=this._getOrReturnCtx(i);return M(a,{code:P.invalid_type,expected:C.nan,received:a.parsedType}),W}return{status:"valid",value:i.data}}}xr.create=c=>new xr({typeName:L.ZodNaN,...F(c)});const ol=Symbol("zod_brand");class Ro extends Y{_parse(i){const{ctx:o}=this._processInputParams(i),a=o.data;return this._def.type._parse({data:a,path:o.path,parent:o})}unwrap(){return this._def.type}}class Tn extends Y{_parse(i){const{status:o,ctx:a}=this._processInputParams(i);if(a.common.async)return(async()=>{const p=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return p.status==="aborted"?W:p.status==="dirty"?(o.dirty(),Ao(p.value)):this._def.out._parseAsync({data:p.value,path:a.path,parent:a})})();{const u=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return u.status==="aborted"?W:u.status==="dirty"?(o.dirty(),{status:"dirty",value:u.value}):this._def.out._parseSync({data:u.value,path:a.path,parent:a})}}static create(i,o){return new Tn({in:i,out:o,typeName:L.ZodPipeline})}}const Do=(c,i={},o)=>c?Ft.create().superRefine((a,u)=>{var p,y;if(!c(a)){const g=typeof i=="function"?i(a):typeof i=="string"?{message:i}:i,k=(y=(p=g.fatal)!==null&&p!==void 0?p:o)!==null&&y!==void 0?y:!0,E=typeof g=="string"?{message:g}:g;u.addIssue({code:"custom",...E,fatal:k})}}):Ft.create(),sl={object:le.lazycreate};var L;(function(c){c.ZodString="ZodString",c.ZodNumber="ZodNumber",c.ZodNaN="ZodNaN",c.ZodBigInt="ZodBigInt",c.ZodBoolean="ZodBoolean",c.ZodDate="ZodDate",c.ZodSymbol="ZodSymbol",c.ZodUndefined="ZodUndefined",c.ZodNull="ZodNull",c.ZodAny="ZodAny",c.ZodUnknown="ZodUnknown",c.ZodNever="ZodNever",c.ZodVoid="ZodVoid",c.ZodArray="ZodArray",c.ZodObject="ZodObject",c.ZodUnion="ZodUnion",c.ZodDiscriminatedUnion="ZodDiscriminatedUnion",c.ZodIntersection="ZodIntersection",c.ZodTuple="ZodTuple",c.ZodRecord="ZodRecord",c.ZodMap="ZodMap",c.ZodSet="ZodSet",c.ZodFunction="ZodFunction",c.ZodLazy="ZodLazy",c.ZodLiteral="ZodLiteral",c.ZodEnum="ZodEnum",c.ZodEffects="ZodEffects",c.ZodNativeEnum="ZodNativeEnum",c.ZodOptional="ZodOptional",c.ZodNullable="ZodNullable",c.ZodDefault="ZodDefault",c.ZodCatch="ZodCatch",c.ZodPromise="ZodPromise",c.ZodBranded="ZodBranded",c.ZodPipeline="ZodPipeline"})(L||(L={}));const al=(c,i={message:`Input not instance of ${c.name}`})=>Do(o=>o instanceof c,i),$o=Ae.create,No=ot.create,ll=xr.create,cl=st.create,Zo=vn.create,dl=Et.create,ul=yr.create,pl=mn.create,fl=yn.create,hl=Ft.create,gl=kt.create,vl=Je.create,ml=_r.create,yl=Re.create,_l=le.create,bl=le.strictCreate,wl=_n.create,xl=Er.create,kl=bn.create,El=We.create,Ol=wn.create,Sl=br.create,Tl=Ot.create,Pl=Ut.create,jl=xn.create,Cl=kn.create,Ml=at.create,Il=En.create,Al=Gt.create,To=De.create,zl=Ke.create,Rl=St.create,Dl=De.createWithPreprocess,$l=Tn.create,Nl=()=>$o().optional(),Zl=()=>No().optional(),Ll=()=>Zo().optional(),Vl={string:c=>Ae.create({...c,coerce:!0}),number:c=>ot.create({...c,coerce:!0}),boolean:c=>vn.create({...c,coerce:!0}),bigint:c=>st.create({...c,coerce:!0}),date:c=>Et.create({...c,coerce:!0})},Wl=W;var se=Object.freeze({__proto__:null,defaultErrorMap:gn,setErrorMap:Ga,getErrorMap:hr,makeIssue:gr,EMPTY_PATH:Ya,addIssueToContext:M,ParseStatus:be,INVALID:W,DIRTY:Ao,OK:Oe,isAborted:pi,isDirty:fi,isValid:vr,isAsync:mr,get util(){return H},get objectUtil(){return ui},ZodParsedType:C,getParsedType:it,ZodType:Y,ZodString:Ae,ZodNumber:ot,ZodBigInt:st,ZodBoolean:vn,ZodDate:Et,ZodSymbol:yr,ZodUndefined:mn,ZodNull:yn,ZodAny:Ft,ZodUnknown:kt,ZodNever:Je,ZodVoid:_r,ZodArray:Re,ZodObject:le,ZodUnion:_n,ZodDiscriminatedUnion:Er,ZodIntersection:bn,ZodTuple:We,ZodRecord:wn,ZodMap:br,ZodSet:Ot,ZodFunction:Ut,ZodLazy:xn,ZodLiteral:kn,ZodEnum:at,ZodNativeEnum:En,ZodPromise:Gt,ZodEffects:De,ZodTransformer:De,ZodOptional:Ke,ZodNullable:St,ZodDefault:On,ZodCatch:wr,ZodNaN:xr,BRAND:ol,ZodBranded:Ro,ZodPipeline:Tn,custom:Do,Schema:Y,ZodSchema:Y,late:sl,get ZodFirstPartyTypeKind(){return L},coerce:Vl,any:hl,array:yl,bigint:cl,boolean:Zo,date:dl,discriminatedUnion:xl,effect:To,enum:Ml,function:Pl,instanceof:al,intersection:kl,lazy:jl,literal:Cl,map:Sl,nan:ll,nativeEnum:Il,never:vl,null:fl,nullable:Rl,number:No,object:_l,oboolean:Ll,onumber:Zl,optional:zl,ostring:Nl,pipeline:$l,preprocess:Dl,promise:Al,record:Ol,set:Tl,strictObject:bl,string:$o,symbol:ul,transformer:To,tuple:El,undefined:pl,union:wl,unknown:gl,void:ml,NEVER:Wl,ZodIssueCode:P,quotelessJson:Fa,ZodError:ze});const gi=se.string(),hn=se.number().finite().positive(),li=gi,Lo=se.object({label:gi,left:se.number().finite(),top:se.number().finite(),width:hn,height:hn,background_color:li,foreground_color:li,border_color:li,border_width:hn.or(se.literal(0)),on_click:gi,type:se.enum(["","rectangle","checkbox","button","radio button","select","image"])}),Bl=Lo.partial(),mi=se.string(),Ul=se.object({category:se.literal("widget"),id:mi,properties:Lo});se.object({category:se.literal("widget"),id:mi,properties:Bl});const Fl=se.object({zorder:mi.array()}),Gl=Fl.partial(),Yl=se.string(),ql=se.object({category:se.literal("Page"),id:Yl,properties:Gl,widgets:se.record(se.string(),Ul)}),Xl=se.object({width:hn.default(320),height:hn.default(240)}),Hl=se.string(),Kl=se.object({category:se.literal("project"),id:Hl,properties:Xl,pages:se.record(se.string(),ql)}),Po=c=>Kl.parse(JSON.parse(c)),yi=":",Sn=(c,i)=>i.startsWith(`${c}${yi}`),ci=c=>c.substring(0,c.indexOf(yi)),de={label:"element",left:0,top:0,width:32,height:32,background_color:"#c8c8c8",foreground_color:"#000000",border_color:"#000000",border_width:0,on_click:"",type:"rectangle"},Vo=()=>({design_width:640,design_height:480,zorder:[]}),Jl={category:"project",properties:{width:240,height:320},pages:{}},Ql=c=>{let i={};for(const o in c.widgets)i[o]=c.widgets[o];return{...c,properties:{...Vo(),...c.properties},widgets:i}},jo=(c,i)=>{const o={...c};return i in o&&delete o[i],o},pr=c=>window.structuredClone(c),kr=()=>Math.random().toString(36).substring(2,9)+new Date().getTime().toString(36),ec=c=>`${c}${yi}${kr()}`;class tc{constructor(){R(this,"model");R(this,"listeners",new Set);R(this,"widgets_selection",[]);R(this,"pages_selection",[]);R(this,"clipboard",[]);this.model={...pr(Jl),id:kr()}}set_model(i){this.model=i,this.widgets_selection=[],this.pages_selection=[Object.keys(this.model.pages)[0]],this.listeners.forEach(o=>{o.pages_changed(null,Object.keys(this.model.pages),[],[])}),this.listeners.forEach(o=>{o.pages_selection_changed(null,this.pages_selection)})}copy(i){this.clipboard=i}get_clipboard(){return[...this.clipboard]}register_interest(i){this.listeners.add(i)}unregister_interest(i){this.listeners.delete(i)}add_pages(i,o){const a=[];for(const u of o){const p=kr();a.push(p),this.model.pages[p]={...u,id:p}}this.listeners.forEach(u=>{u.pages_changed(i,a,[],[])})}add_widgets(i,o,a){const u=[];this.widgets_selection=[];for(const p of a){const y=ec(o);u.push(y);const g=this.model.pages[o];g.properties.zorder=g.properties.zorder??[],g.properties.zorder.push(y),g.widgets[y]={...p,properties:{...de,...p.properties},id:y},this.widgets_selection.push(y)}this.listeners.forEach(p=>{p.widgets_changed(i,o,u,[],[]),p.widgets_selection_changed(i,o,u)})}update_pages(i,o){const a=[];for(const u of o){let p=this.model.pages[u.id];p&&(a.push(p.id),this.model.pages[u.id]={...p,properties:{...p.properties,...u.properties},widgets:{...p.widgets,...u.widgets}})}this.listeners.forEach(u=>{u.pages_changed(i,[],a,[])})}update_widgets(i,o,a,u){const p=[];for(const y of a){let g=this.model.pages[o].widgets[y.id];g&&(p.push(y.id),this.model.pages[o].widgets[y.id]={...g,properties:{...g.properties,...y.properties}},u.length>0&&(this.model.pages[o].properties.zorder=u))}this.listeners.forEach(y=>{y.widgets_changed(i,o,[],p,[])})}delete_pages(i,o){const a=[];for(const u of o)delete this.model.pages[u],a.push(u);this.listeners.forEach(u=>{u.pages_changed(i,[],[],a)})}delete_widgets(i,o,a){const u=[];for(const y of a){const g=this.model.pages[o];delete g.widgets[y],g.properties.zorder&&(g.properties.zorder=g.properties.zorder.filter(k=>k!==y)),u.push(y)}let p=[...this.widgets_selection];for(const y of a)p.includes(y)&&p.splice(p.indexOf(y),1);p.length<this.widgets_selection.length&&this.update_widgets_selection(null,o,p),this.listeners.forEach(y=>{y.widgets_changed(i,o,[],[],u)})}update_pages_selection(i,o){this.pages_selection=[...o],this.listeners.forEach(a=>{a.pages_selection_changed(i,this.pages_selection)})}update_widgets_selection(i,o,a){this.widgets_selection=[...a],this.listeners.forEach(u=>{u.widgets_selection_changed(i,o,this.widgets_selection)})}}class nc extends fn{constructor(o){super("");R(this,"id");this.id=o}getId(){return this.id}}class rc extends xt{constructor(o){super();R(this,"page_id");R(this,"store");R(this,"children",[]);R(this,"canvas");R(this,"content");R(this,"scale",1);R(this,"requested_width");R(this,"requested_height");this.htmlElement.className="g-page_view",ce(this.htmlElement,{overflow:"hidden",position:"relative",backgroundColor:"gray",padding:"0",display:"flex",justifyContent:"center",alignItems:"center"}),this.page_id="",this.requested_width=0,this.requested_height=0,this.store=o,this.content=new xt,ce(this.htmlElement,{overflow:"hidden",position:"relative",backgroundColor:"darkgrey",padding:"0"}),this.canvas=new xt,ce(this.canvas.htmlElement,{position:"relative",overflow:"visible",border:"1px",color:"black",borderStyle:"solid",backgroundColor:"lightgray"}),wt(this.content,this.canvas),wt(this,this.content)}setWidth(o){return this.requested_width=o,super.setWidth(o),this}setHeight(o){return this.requested_height=o,super.setHeight(o),this}set_scale(o){this.scale=o,this.page_id!==""&&this.rescale()}set_current_page(o){this.page_id=o,this.rescale(),this.set_children()}rescale(){const o=this.store.model.pages[this.page_id].widgets[""].properties.width??0,a=this.store.model.pages[this.page_id].widgets[""].properties.height??0;this.scale<=0&&(this.scale=Math.min(this.requested_height/a,this.requested_width/o)),ce(this.canvas.htmlElement,{transformOrigin:"0 0",transform:`scale(${this.scale} , ${this.scale})`}),this.content.setWidth(o*this.scale),this.content.setHeight(a*this.scale),this.canvas.setWidth(o),this.canvas.setHeight(a)}set_children(){this.canvas.htmlElement.innerHTML="";const o=this.store.model.pages[this.page_id];if(o){{const a=this.store.model.pages[this.page_id].widgets[""].properties;ce(this.canvas.htmlElement,{backgroundColor:a.background_color})}for(const a of o.properties.zorder??[]){const u=o.widgets[a];if(u){const p=new nc(a);this.addChild(p,u.properties)}}}}pages_changed(o,a,u,p){o!==this&&u.includes(this.page_id)&&this.set_children()}widgets_changed(o,a,u,p,y){if(o!==this&&a===this.page_id)for(const g of[u,p,y])for(const k of g){if(Sn(this.page_id,k)){this.set_children();return}if(k===""){const E=this.store.model.pages[this.page_id].widgets[""].properties;ce(this.canvas.htmlElement,{backgroundColor:E.background_color}),this.rescale()}}}widgets_selection_changed(o,a,u){}pages_selection_changed(o,a){a.includes(this.page_id)?this.setBackgroundColor("#050505"):this.setBackgroundColor("#F0F0F0")}addChild(o,a){this.children.push(o);let u=o.htmlElement.style;u.position="absolute",u.left=`${a.left??de.left}px`,u.top=`${a.top??de.top}px`,u.width=`${a.width??de.width}px`,u.height=`${a.height??de.height}px`,u.backgroundColor=a.background_color??de.background_color,u.color=a.foreground_color??de.foreground_color,u.borderStyle="solid",u.borderWidth=`${a.border_width??de.border_width}px`,u.borderColor=a.border_color??de.border_color,o.setValue(a.label??a.type??""),wt(this.canvas,o)}}class ic extends xt{constructor(o){super();R(this,"store");R(this,"list");this.htmlElement.className="g-page_list",this.htmlElement.style.backgroundColor="darkgrey",this.store=o,this.list=new Ba,this.list.htmlElement.style.width="100%",this.list.htmlElement.style.height="100%",this.htmlElement.appendChild(this.list.htmlElement),this.store.register_interest(this),this.set_children()}set_children(){this.list.RemoveAllChildren();for(const o of Object.keys(this.store.model.pages)){const a=new rc(this.store).setWidth(160).setHeight(120);a.set_scale(.25),a.set_current_page(o),a.onClick(()=>{this.store.update_pages_selection(a,[o])}),this.store.register_interest(a),this.list.addChild(a)}}pages_changed(o,a,u,p){o!==this&&(a.length>0||p.length>0)&&this.set_children()}widgets_changed(o,a,u,p,y){}widgets_selection_changed(o,a,u){}pages_selection_changed(o,a){}}class oc extends xt{constructor(o){super();R(this,"store");R(this,"props",{});R(this,"nb_elements");R(this,"page_id","");R(this,"target_page_list",new ai);this.store=o;const a=new Ua;this.nb_elements=new fn("0");const u=[{type:"widget_type",name:"type",label:"Type"},{type:"text",name:"label",label:"Label"},{type:"number",name:"top",label:"Y"},{type:"number",name:"left",label:"X"},{type:"number",name:"width",label:"W"},{type:"number",name:"height",label:"H"},{type:"color",name:"background_color",label:"Bg Color"},{type:"color",name:"foreground_color",label:"Color"},{type:"number",name:"border_width",label:"Border width"},{type:"color",name:"border_color",label:"Border color"},{type:"page",name:"on_click",label:"On click"}],p=(g,k)=>({elt:null,build:()=>{if(g==="page"){const E=new ai;E.setNbItemsShown(1);const I=Object.keys(this.store.model.pages);return E.setItems("",["",...I.map(J=>this.store.model.pages[J].widgets[""].properties.label)],["",...I]),E.onChange(()=>{const N=(this.store.widgets_selection.length===0?[""]:this.store.widgets_selection).filter(q=>ci(q)===this.page_id||q==="").map(q=>({category:"widget",id:q,properties:{[k]:this.props[k].elt.getValue()}}));this.store.update_widgets(this,this.page_id,N,[])}),E}else{let E;if(g==="widget_type"){let I=new ai;I.setItems("rectangle",["Rectangle","Checkbox","Button","Radio Button","Select","Image"],["rectangle","checkbox","button","radio button","select","image"]),E=I}else E=new di(g,""),g==="number"?E.setWidth(4,"rem"):g==="text"&&E.setWidth(8,"rem");return E.onChange(()=>{const I=this.props[k].elt.getValue(),N=(this.store.widgets_selection.length===0?[""]:this.store.widgets_selection).filter(q=>ci(q)===this.page_id||q==="").map(q=>({category:"widget",id:q,properties:{[k]:g==="number"?parseFloat(I):I}}));this.store.widgets_selection.length===0&&this.store.update_pages(this,[{category:"Page",id:this.page_id,properties:{},widgets:{}}]),this.store.update_widgets(this,this.page_id,N,[])}),E}},update_field:E=>{var I,J;g==="page"?this.props[k].elt.setValue(E):g==="widget_type"&&E===""?(I=this.props[k].elt)==null||I.hide():(g==="widget_type"&&((J=this.props[k].elt)==null||J.show()),this.props[k].elt.setValue(E))},multi_values:()=>{g==="page"?this.props[k].elt.setValue(""):this.props[k].elt.setValue("")}});for(const g of u){const k=p(g.type,g.name);this.props[g.name]=k,k.elt=k.build(),a.add(g.label+":",k.elt),g.type==="page"&&(this.target_page_list=k.elt)}const y=Wt(a).setDistribution("start");y.htmlElement.style.overflowY="auto",this.setLayout(y)}set_current_page(o){this.page_id=o,this.widgets_selection_changed(null,o,o===""?[]:this.store.widgets_selection.filter(a=>Sn(o,a)))}pages_changed(o,a,u,p){{const y=Object.keys(this.store.model.pages);let g="";this.store.model.pages[this.page_id]&&(g=this.store.model.pages[this.page_id].widgets[""].properties.on_click),this.target_page_list.setItems(g,["",...y.map(k=>this.store.model.pages[k].widgets[""].properties.label)],["",...y])}}widgets_changed(o,a,u,p,y){if(a===this.page_id&&(this.widgets_selection_changed(o,a,this.store.widgets_selection),p.includes(""))){const g=Object.keys(this.store.model.pages),k=this.store.model.pages[this.page_id].widgets[""].properties.on_click;this.target_page_list.setItems(k,["",...g.map(E=>this.store.model.pages[E].widgets[""].properties.label)],["",...g])}}widgets_selection_changed(o,a,u){if(a!==this.page_id||(this.nb_elements.setValue(`${u.length}`),o===this))return;let p=this.store.widgets_selection.filter(y=>ci(y)===this.page_id||y==="").map(y=>this.store.model.pages[this.page_id].widgets[y]);if(p.length===0&&this.page_id!==""&&(p=[this.store.model.pages[this.page_id].widgets[""]]),p.length===0){for(const y of Object.keys(this.props)){const g=this.props[y];g.elt&&g.elt.hide()}return}for(const y of Object.keys(this.props)){const g=this.props[y];g.elt&&g.elt.show();const k=new Set(p.map(E=>E.properties[y]||""));if(k.size===1){const E=Array.from(k.values())[0];g.update_field(E)}else g.multi_values()}}pages_selection_changed(o,a){a.length===0?this.set_current_page(""):this.page_id!==a[0]&&this.set_current_page(a[0])}}class sc extends he{constructor({width:o,height:a}){const u=document.createElement("iframe");super(u);R(this,"channel");R(this,"port1");R(this,"message_handler");R(this,"iframe");R(this,"onLoad");this.iframe=u,o&&ce(u,{width:o}),a&&ce(u,{height:a}),this.channel=new MessageChannel,this.port1=this.channel.port1,this.onLoad=()=>{var p;this.message_handler&&(this.port1.onmessage=this.messageHandler),(p=this.iframe.contentWindow)==null||p.postMessage("init","*",[this.channel.port2])},u.addEventListener("load",this.onLoad)}newChannel(){this.channel=new MessageChannel,this.port1=this.channel.port1,this.iframe.addEventListener("load",this.onLoad)}messageHandler(o){this.message_handler&&this.message_handler(o)}setContent(o){this.newChannel(),this.iframe.srcdoc=o}setUrl(o){this.newChannel(),this.iframe.src=o}sendMessage(o){var a;(a=this.port1)==null||a.postMessage(o)}onMessage(o){this.port1.onmessage=o}}const cr={label:"label",content_page:"generic page",flyout_page:"master/detail page",navigation_page:"navigation page",tabbed_page:"tabbed page",generic_container:"container",absolute_layout:"",flow_layout:"",grid_layout:"",horizontal_layout:"",vertical_layout:"",checkbox:"checkbox",date_picker:"date picker",notepad:"note pad",radio:"radio button",text_entry:"text entry",button:"button"},ac=()=>{const c=[],i=[],o={};for(const a of Object.keys(cr).sort((u,p)=>cr[u].localeCompare(cr[p]))){let u=cr[a];u!==""&&(c.push(a),i.push(u),o[a]=u)}return{types:c,labels:i,label_from_type:o}};ac();function lc(c,i){if(c.properties.left&&i.properties.left&&c.properties.width&&i.properties.width&&c.properties.top&&i.properties.top&&c.properties.height&&i.properties.height){const o=c.properties.left<=i.properties.left&&c.properties.left+c.properties.width>=i.properties.left+i.properties.width,a=c.properties.top<=i.properties.top&&c.properties.top+c.properties.height>=i.properties.top+i.properties.height;return o&&a}return!1}const cc=(c,i)=>{const o=i.properties.zorder||[];let a=o.findIndex(u=>u===c);if(a===-1)return null;for(let u=a-1;u>=0;u--){const p=i.widgets[o[u]];if(lc(p,i.widgets[c]))return p}return null},dc=(c,i=!0,o=!0)=>{var k;const a=Ql(c),u=new Map;for(let E of a.properties.zorder){const I=((k=cc(E,a))==null?void 0:k.id)||"",J=u.get(I)||[];J.push(E),u.set(I,J)}const p=100/a.widgets[""].properties.width,y=100/a.widgets[""].properties.height,g=(E,I,J)=>{var ue;let N=((ue=a.widgets[E])==null?void 0:ue.properties)??{};E===""&&(N.left=0,N.top=0);const q=E===""?`class="page" data-page_id="${c.id}"`:"",Be=E===""?"":N.label??"",Pe=N.on_click===""?"":`onClick="navigate_to('${N.on_click}')"`;let we=`<div ${q} style="${E===""&&i?"visibility:visible;":""}background-color:${N.background_color};color:${N.foreground_color};stroke55:${N.foreground_color};border-color:${N.border_color}${N.type!=="rectangle"?"":`;border-width:${N.border_width}px`};border-style:solid;`;we+=`overflow:hidden;position:absolute;width:${N.width*p}vw;height:${N.height*y}vh;left:${(N.left-I)*p}vw;top:${(N.top-J)*y}vh;"
			${Pe}>${Be}`;const Q=u.get(E)||[];return we+=Q.map(Ce=>g(Ce,N.left,N.top)).join(""),we+="</div>",we};return o?`<html><head></head><body style="background-color:lightblue">${g("",0,0)}</body></html>`:g("",0,0)},uc=(c,i)=>`<html><head></head><body style="background-color:lightblue">
	<style>
	:root {
		box-sizing: border-box;
	}
	  
	*, ::before, ::after {
		box-sizing: inherit;
	}

	.page { visibility:hidden; }


.svg-fill-parent { /* required to allow svg to fill parent + stretch */
height: 100%; width: 100%;
}
.sketch-select {
border-style: solid;
border-width: 10px 10px 10px 10px;
border-image: url(doodlecss/button.svg) 10 10 10 10 stretch stretch;
color: black;
padding-right: 16px;
background: url(doodlecss/caret.svg) no-repeat right transparent;
background-position-x: calc(100% - 10px);

display: flex; align-items:center; /* center text vertically */
}
.sketch-button {
border-style: solid;
border-width: 10px 10px 10px 10px;
border-image: url(doodlecss/button.svg) 10 10 10 10 stretch stretch;
color: black;
display: flex; align-items:center; justify-content: center; /* center text vertically and horizontally*/
}
.sketch-textinput {
border-style: solid;
border-width: 10px 10px 10px 10px;
border-image: url(doodlecss/button.svg) 10 10 10 10 stretch stretch;
color: black;
text-align: left;
}
.sketch-image {
border-style: solid;
border-width: 3px 3px 3px 3px;
border-image: url(doodlecss/button.svg) 3 3 3 3 stretch stretch;
border-radius: 3px;
}
.sketch-hr {
border-style: solid;
border-width: 0px 3px 6px 3px;
border-image: url(doodlecss/hr.svg) 0 3 6 3 stretch stretch;
}
.sketch-label {
color: black;
display: flex; flex-direction: row; align-items:center; justify-content: flex-start;
}

	</style> 
		<script>
		const navigate_to = (page_id) => {
			const pages = document.querySelectorAll(".page");
			if(pages) {
				pages.forEach((p) => { p.style.visibility = 'hidden'; });
			}
			const target_page = document.querySelector("[data-page_id='" + page_id + "']");
			if(target_page) {
				target_page.style.visibility = 'visible';
			}
			else {
				console.log('target page not found');
			}
		};
		<\/script> ${Object.values(c.pages).map(u=>dc(u,u.id===i,!1))}</body></html>`;function pc(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Wo={exports:{}};(function(c,i){(function(o){c.exports=o()})(function(){var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,o.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.getWindow=function(e){return(0,o.default)(e)?e:(e.ownerDocument||e).defaultView||p.window},a.init=y,a.window=a.realWindow=void 0;var u=void 0;a.realWindow=u;var p=void 0;function y(e){a.realWindow=u=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),a.window=p=e}a.window=p,typeof window<"u"&&window&&y(window);var g={};function k(e){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(e)}Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var E=function(e){return!!e&&k(e)==="object"},I=function(e){return typeof e=="function"},J={window:function(e){return e===a.window||(0,o.default)(e)},docFrag:function(e){return E(e)&&e.nodeType===11},object:E,func:I,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||k(e)!=="object")return!1;var t=a.getWindow(e)||a.window;return/object|function/.test(typeof Element>"u"?"undefined":k(Element))?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return E(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return E(e)&&e.length!==void 0&&I(e.splice)}};g.default=J;var N={};function q(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.prepared.axis;n==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):n==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function Be(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="drag"){var r=n.prepared.axis;if(r==="x"||r==="y"){var s=r==="x"?"y":"x";t.page[s]=n.coords.start.page[s],t.client[s]=n.coords.start.client[s],t.delta[s]=0}}}Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var Pe={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=Pe.draggable,t.map.drag=Pe,t.methodDict.drag="draggable",r.actions.drag=Pe.defaults},listeners:{"interactions:before-action-move":q,"interactions:action-resume":q,"interactions:action-move":Be,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,s=n.options.drag;if(s&&s.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||r&n.options.drag.mouseButtons))return e.action={name:"drag",axis:s.lockAxis==="start"?s.startAxis:s.lockAxis},!1}},draggable:function(e){return g.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):g.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:q,move:Be,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},we=Pe;N.default=we;var Q={};Object.defineProperty(Q,"__esModule",{value:!0}),Q.default=void 0;var ue={init:function(e){var t=e;ue.document=t.document,ue.DocumentFragment=t.DocumentFragment||Ce,ue.SVGElement=t.SVGElement||Ce,ue.SVGSVGElement=t.SVGSVGElement||Ce,ue.SVGElementInstance=t.SVGElementInstance||Ce,ue.Element=t.Element||Ce,ue.HTMLElement=t.HTMLElement||ue.Element,ue.Event=t.Event,ue.Touch=t.Touch||Ce,ue.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function Ce(){}var Pn=ue;Q.default=Pn;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;var xe={init:function(e){var t=Q.default.Element,n=e.navigator||{};xe.supportsTouch="ontouchstart"in e||g.default.func(e.DocumentTouch)&&Q.default.document instanceof e.DocumentTouch,xe.supportsPointerEvent=n.pointerEnabled!==!1&&!!Q.default.PointerEvent,xe.isIOS=/iP(hone|od|ad)/.test(n.platform),xe.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),xe.isIe9=/MSIE 9/.test(n.userAgent),xe.isOperaMobile=n.appName==="Opera"&&xe.supportsTouch&&/Presto/.test(n.userAgent),xe.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",xe.pEventTypes=xe.supportsPointerEvent?Q.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,xe.wheelEvent=Q.default.document&&"onmousewheel"in Q.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},jn=xe;ge.default=jn;var Z={};function Tt(e){var t=e.parentNode;if(g.default.docFrag(t)){for(;(t=t.host)&&g.default.docFrag(t););return t}return t}function Pt(e,t){return a.window!==a.realWindow&&(t=t.replace(/\/deep\//g," ")),e[ge.default.prefixedMatchesSelector](t)}Object.defineProperty(Z,"__esModule",{value:!0}),Z.closest=function(e,t){for(;g.default.element(e);){if(Pt(e,t))return e;e=Tt(e)}return null},Z.getActualElement=function(e){return e.correspondingUseElement||e},Z.getElementClientRect=Mt,Z.getElementRect=function(e){var t=Mt(e);if(!ge.default.isIOS7&&t){var n=Ct(a.getWindow(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t},Z.getPath=function(e){for(var t=[];e;)t.push(e),e=Tt(e);return t},Z.getScrollXY=Ct,Z.indexOfDeepestElement=function(e){for(var t,n=[],r=0;r<e.length;r++){var s=e[r],l=e[t];if(s&&r!==t)if(l){var h=lt(s),d=lt(l);if(h!==s.ownerDocument)if(d!==s.ownerDocument)if(h!==d){n=n.length?n:jt(l);var f=void 0;if(l instanceof Q.default.HTMLElement&&s instanceof Q.default.SVGElement&&!(s instanceof Q.default.SVGSVGElement)){if(s===d)continue;f=s.ownerSVGElement}else f=s;for(var v=jt(f,l.ownerDocument),m=0;v[m]&&v[m]===n[m];)m++;var _=[v[m-1],v[m],n[m]];if(_[0])for(var w=_[0].lastChild;w;){if(w===_[1]){t=r,n=v;break}if(w===_[2])break;w=w.previousSibling}}else x=s,b=l,(parseInt(a.getWindow(x).getComputedStyle(x).zIndex,10)||0)>=(parseInt(a.getWindow(b).getComputedStyle(b).zIndex,10)||0)&&(t=r);else t=r}else t=r}var x,b;return t},Z.matchesSelector=Pt,Z.matchesUpTo=function(e,t,n){for(;g.default.element(e);){if(Pt(e,t))return!0;if((e=Tt(e))===n)return Pt(e,t)}return!1},Z.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},Z.parentNode=Tt,Z.trySelector=function(e){return!!g.default.string(e)&&(Q.default.document.querySelector(e),!0)};var lt=function(e){return e.parentNode||e.host};function jt(e,t){for(var n,r=[],s=e;(n=lt(s))&&s!==t&&n!==s.ownerDocument;)r.unshift(s),s=n;return r}function Ct(e){return{x:(e=e||a.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function Mt(e){var t=e instanceof Q.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(e,t){for(var n in t)e[n]=t[n];return e};var ee={};function It(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function At(e,t,n){return e==="parent"?(0,Z.parentNode)(n):e==="self"?t.getRect(n):(0,Z.closest)(n,e)}Object.defineProperty(ee,"__esModule",{value:!0}),ee.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top},ee.getStringOptionResult=At,ee.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},ee.resolveRectLike=function(e,t,n,r){var s,l=e;return g.default.string(l)?l=At(l,t,n):g.default.func(l)&&(l=l.apply(void 0,function(h){if(Array.isArray(h))return It(h)}(s=r)||function(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}(s)||function(h,d){if(h){if(typeof h=="string")return It(h,d);var f=Object.prototype.toString.call(h).slice(8,-1);return f==="Object"&&h.constructor&&(f=h.constructor.name),f==="Map"||f==="Set"?Array.from(h):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?It(h,d):void 0}}(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),g.default.element(l)&&(l=(0,Z.getElementRect)(l)),l},ee.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,z.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},ee.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,z.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e};var Me={};Object.defineProperty(Me,"__esModule",{value:!0}),Me.default=function(e,t,n){var r=e.options[n],s=r&&r.origin||e.options.origin,l=(0,ee.resolveRectLike)(s,e,t,[e&&t]);return(0,ee.rectToXY)(l)||{x:0,y:0}};var $e={};function ct(e){return e.trim().split(/ +/)}Object.defineProperty($e,"__esModule",{value:!0}),$e.default=function e(t,n,r){if(r=r||{},g.default.string(t)&&t.search(" ")!==-1&&(t=ct(t)),g.default.array(t))return t.reduce(function(f,v){return(0,z.default)(f,e(v,n,r))},r);if(g.default.object(t)&&(n=t,t=""),g.default.func(n))r[t]=r[t]||[],r[t].push(n);else if(g.default.array(n))for(var s=0;s<n.length;s++){var l;l=n[s],e(t,l,r)}else if(g.default.object(n))for(var h in n){var d=ct(h).map(function(f){return"".concat(t).concat(f)});e(d,n[h],r)}return r};var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0,B.default=function(e,t){return Math.sqrt(e*e+t*t)};var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.default=function(e,t){e.__set||(e.__set={});var n=function(s){typeof e[s]!="function"&&s!=="__set"&&Object.defineProperty(e,s,{get:function(){return s in e.__set?e.__set[s]:e.__set[s]=t[s]},set:function(l){e.__set[s]=l},configurable:!0})};for(var r in t)n(r);return e};var O={};function pe(e){return e instanceof Q.default.Event||e instanceof Q.default.Touch}function ye(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function Yt(e,t){return t=t||{x:0,y:0},ge.default.isOperaMobile&&pe(e)?(ye("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):ye("page",e,t),t}function Cn(e,t){return t=t||{},ge.default.isOperaMobile&&pe(e)?ye("screen",e,t):ye("client",e,t),t}function Ne(e){var t=[];return g.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function dt(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var s in t)t[s]+=r[s]}for(var l in t)t[l]/=e.length;return t}Object.defineProperty(O,"__esModule",{value:!0}),O.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},O.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},O.getClientXY=Cn,O.getEventTargets=function(e){var t=g.default.func(e.composedPath)?e.composedPath():e.path;return[Z.getActualElement(t?t[0]:e.target),Z.getActualElement(e.currentTarget)]},O.getPageXY=Yt,O.getPointerId=function(e){return g.default.number(e.pointerId)?e.pointerId:e.identifier},O.getPointerType=function(e){return g.default.string(e.pointerType)?e.pointerType:g.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof Q.default.Touch?"touch":"mouse"},O.getTouchPair=Ne,O.getXY=ye,O.isNativePointer=pe,O.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},O.pointerAverage=dt,Object.defineProperty(O,"pointerExtend",{enumerable:!0,get:function(){return G.default}}),O.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},O.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},O.setCoords=function(e,t,n){var r=t.length>1?dt(t):t[0];Yt(r,e.page),Cn(r,e.client),e.timeStamp=n},O.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},O.touchAngle=function(e,t){var n=t+"X",r=t+"Y",s=Ne(e),l=s[1][n]-s[0][n],h=s[1][r]-s[0][r];return 180*Math.atan2(h,l)/Math.PI},O.touchBBox=function(e){if(!e.length)return null;var t=Ne(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),s=Math.max(t[0].pageX,t[1].pageX),l=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:s,bottom:l,width:s-n,height:l-r}},O.touchDistance=function(e,t){var n=t+"X",r=t+"Y",s=Ne(e),l=s[0][n]-s[1][n],h=s[0][r]-s[1][r];return(0,B.default)(l,h)};var Ze={};function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.BaseEvent=void 0;var bi=function(){function e(r){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),_i(this,"immediatePropagationStopped",!1),_i(this,"propagationStopped",!1),this._interaction=r}var t,n;return t=e,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Uo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ze.BaseEvent=bi,Object.defineProperty(bi.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.remove=te.merge=te.from=te.findIndex=te.find=te.contains=void 0,te.contains=function(e,t){return e.indexOf(t)!==-1},te.remove=function(e,t){return e.splice(e.indexOf(t),1)};var wi=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e};te.merge=wi,te.from=function(e){return wi([],e)};var xi=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};te.findIndex=xi,te.find=function(e,t){return e[xi(e,t)]};var Ue={};function Or(e){return Or=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Or(e)}function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t){return Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sr(e,t)}function Go(e,t){if(t&&(Or(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ut(e)}function ut(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mn(e){return Mn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Mn(e)}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.DropEvent=void 0;var Yo=function(e){(function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),f&&Sr(d,f)})(h,e);var t,n,r,s,l=(r=h,s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var d,f=Mn(r);if(s){var v=Mn(this).constructor;d=Reflect.construct(f,arguments,v)}else d=f.apply(this,arguments);return Go(this,d)});function h(d,f,v){var m;(function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")})(this,h),zt(ut(m=l.call(this,f._interaction)),"dropzone",void 0),zt(ut(m),"dragEvent",void 0),zt(ut(m),"relatedTarget",void 0),zt(ut(m),"draggable",void 0),zt(ut(m),"propagationStopped",!1),zt(ut(m),"immediatePropagationStopped",!1);var _=v==="dragleave"?d.prev:d.cur,w=_.element,x=_.dropzone;return m.type=v,m.target=w,m.currentTarget=w,m.dropzone=x,m.dragEvent=f,m.relatedTarget=f.target,m.draggable=f.interactable,m.timeStamp=f.timeStamp,m}return t=h,(n=[{key:"reject",value:function(){var d=this,f=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&f.cur.dropzone===this.dropzone&&f.cur.element===this.target)if(f.prev.dropzone=this.dropzone,f.prev.element=this.target,f.rejected=!0,f.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var v=f.activeDrops,m=te.findIndex(v,function(w){var x=w.dropzone,b=w.element;return x===d.dropzone&&b===d.target});f.activeDrops.splice(m,1);var _=new h(f,this.dragEvent,"dropdeactivate");_.dropzone=this.dropzone,_.target=this.target,this.dropzone.fire(_)}else this.dropzone.fire(new h(f,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Fo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(Ze.BaseEvent);Ue.DropEvent=Yo;var In={};function ki(e,t){for(var n=0;n<e.slice().length;n++){var r=e.slice()[n],s=r.dropzone,l=r.element;t.dropzone=s,t.target=l,s.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function Tr(e,t){for(var n=function(l,h){for(var d=l.interactables,f=[],v=0;v<d.list.length;v++){var m=d.list[v];if(m.options.drop.enabled){var _=m.options.drop.accept;if(!(g.default.element(_)&&_!==h||g.default.string(_)&&!Z.matchesSelector(h,_)||g.default.func(_)&&!_({dropzone:m,draggableElement:h})))for(var w=g.default.string(m.target)?m._context.querySelectorAll(m.target):g.default.array(m.target)?m.target:[m.target],x=0;x<w.length;x++){var b=w[x];b!==h&&f.push({dropzone:m,element:b,rect:m.getRect(b)})}}}return f}(e,t),r=0;r<n.length;r++){var s=n[r];s.rect=s.dropzone.getRect(s.element)}return n}function Ei(e,t,n){for(var r=e.dropState,s=e.interactable,l=e.element,h=[],d=0;d<r.activeDrops.length;d++){var f=r.activeDrops[d],v=f.dropzone,m=f.element,_=f.rect;h.push(v.dropCheck(t,n,s,l,m,_)?m:null)}var w=Z.indexOfDeepestElement(h);return r.activeDrops[w]||null}function Pr(e,t,n){var r=e.dropState,s={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(s.activate=new Ue.DropEvent(r,n,"dropactivate"),s.activate.target=null,s.activate.dropzone=null),n.type==="dragend"&&(s.deactivate=new Ue.DropEvent(r,n,"dropdeactivate"),s.deactivate.target=null,s.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(s.leave=new Ue.DropEvent(r,n,"dragleave"),n.dragLeave=s.leave.target=r.prev.element,n.prevDropzone=s.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(s.enter=new Ue.DropEvent(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),n.type==="dragend"&&r.cur.dropzone&&(s.drop=new Ue.DropEvent(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),n.type==="dragmove"&&r.cur.dropzone&&(s.move=new Ue.DropEvent(r,n,"dropmove"),s.move.dragmove=n,n.dropzone=r.cur.dropzone)),s}function jr(e,t){var n=e.dropState,r=n.activeDrops,s=n.cur,l=n.prev;t.leave&&l.dropzone.fire(t.leave),t.enter&&s.dropzone.fire(t.enter),t.move&&s.dropzone.fire(t.move),t.drop&&s.dropzone.fire(t.drop),t.deactivate&&ki(r,t.deactivate),n.prev.dropzone=s.dropzone,n.prev.element=s.element}function Oi(e,t){var n=e.interaction,r=e.iEvent,s=e.event;if(r.type==="dragmove"||r.type==="dragend"){var l=n.dropState;t.dynamicDrop&&(l.activeDrops=Tr(t,n.element));var h=r,d=Ei(n,h,s);l.rejected=l.rejected&&!!d&&d.dropzone===l.cur.dropzone&&d.element===l.cur.element,l.cur.dropzone=d&&d.dropzone,l.cur.element=d&&d.element,l.events=Pr(n,0,h)}}Object.defineProperty(In,"__esModule",{value:!0}),In.default=void 0;var Si={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,s=e.defaults;e.usePlugin(N.default),r.prototype.dropzone=function(l){return function(h,d){if(g.default.object(d)){if(h.options.drop.enabled=d.enabled!==!1,d.listeners){var f=(0,$e.default)(d.listeners),v=Object.keys(f).reduce(function(m,_){return m[/^(enter|leave)/.test(_)?"drag".concat(_):/^(activate|deactivate|move)/.test(_)?"drop".concat(_):_]=f[_],m},{});h.off(h.options.drop.listeners),h.on(v),h.options.drop.listeners=v}return g.default.func(d.ondrop)&&h.on("drop",d.ondrop),g.default.func(d.ondropactivate)&&h.on("dropactivate",d.ondropactivate),g.default.func(d.ondropdeactivate)&&h.on("dropdeactivate",d.ondropdeactivate),g.default.func(d.ondragenter)&&h.on("dragenter",d.ondragenter),g.default.func(d.ondragleave)&&h.on("dragleave",d.ondragleave),g.default.func(d.ondropmove)&&h.on("dropmove",d.ondropmove),/^(pointer|center)$/.test(d.overlap)?h.options.drop.overlap=d.overlap:g.default.number(d.overlap)&&(h.options.drop.overlap=Math.max(Math.min(1,d.overlap),0)),"accept"in d&&(h.options.drop.accept=d.accept),"checker"in d&&(h.options.drop.checker=d.checker),h}return g.default.bool(d)?(h.options.drop.enabled=d,h):h.options.drop}(this,l)},r.prototype.dropCheck=function(l,h,d,f,v,m){return function(_,w,x,b,S,j,T){var A=!1;if(!(T=T||_.getRect(j)))return!!_.options.drop.checker&&_.options.drop.checker(w,x,A,_,j,b,S);var D=_.options.drop.overlap;if(D==="pointer"){var U=(0,Me.default)(b,S,"drag"),K=O.getPageXY(w);K.x+=U.x,K.y+=U.y;var ie=K.x>T.left&&K.x<T.right,X=K.y>T.top&&K.y<T.bottom;A=ie&&X}var re=b.getRect(S);if(re&&D==="center"){var je=re.left+re.width/2,He=re.top+re.height/2;A=je>=T.left&&je<=T.right&&He>=T.top&&He<=T.bottom}return re&&g.default.number(D)&&(A=Math.max(0,Math.min(T.right,re.right)-Math.max(T.left,re.left))*Math.max(0,Math.min(T.bottom,re.bottom)-Math.max(T.top,re.top))/(re.width*re.height)>=D),_.options.drop.checker&&(A=_.options.drop.checker(w,x,A,_,j,b,S)),A}(this,l,h,d,f,v,m)},n.dynamicDrop=function(l){return g.default.bool(l)?(e.dynamicDrop=l,n):e.dynamicDrop},(0,z.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,s.actions.drop=Si.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if(n.prepared.name==="drag"){var s=n.dropState;s.activeDrops=null,s.events=null,s.activeDrops=Tr(t,n.element),s.events=Pr(n,0,r),s.events.activate&&(ki(s.activeDrops,s.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":Oi,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;n.prepared.name==="drag"&&(jr(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var n=e.interaction,r=e.iEvent;Oi(e,t),jr(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:Tr,getDrop:Ei,getDropEvents:Pr,fireDropEvents:jr,defaults:{enabled:!1,accept:null,overlap:"pointer"}},qo=Si;In.default=qo;var An={};function Cr(e){var t=e.interaction,n=e.iEvent,r=e.phase;if(t.prepared.name==="gesture"){var s=t.pointers.map(function(v){return v.pointer}),l=r==="start",h=r==="end",d=t.interactable.options.deltaSource;if(n.touches=[s[0],s[1]],l)n.distance=O.touchDistance(s,d),n.box=O.touchBBox(s),n.scale=1,n.ds=0,n.angle=O.touchAngle(s,d),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(h){var f=t.prevEvent;n.distance=f.distance,n.box=f.box,n.scale=f.scale,n.ds=0,n.angle=f.angle,n.da=0}else n.distance=O.touchDistance(s,d),n.box=O.touchBBox(s),n.scale=n.distance/t.gesture.startDistance,n.angle=O.touchAngle(s,d),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,g.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(An,"__esModule",{value:!0}),An.default=void 0;var Mr={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(s){return g.default.object(s)?(this.options.gesture.enabled=s.enabled!==!1,this.setPerAction("gesture",s),this.setOnEvents("gesture",s),this):g.default.bool(s)?(this.options.gesture.enabled=s,this):this.options.gesture},t.map.gesture=Mr,t.methodDict.gesture="gesturable",r.actions.gesture=Mr.defaults},listeners:{"interactions:action-start":Cr,"interactions:action-move":Cr,"interactions:action-end":Cr,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Xo=Mr;An.default=Xo;var zn={};function Ho(e,t,n,r,s,l,h){if(!t)return!1;if(t===!0){var d=g.default.number(l.width)?l.width:l.right-l.left,f=g.default.number(l.height)?l.height:l.bottom-l.top;if(h=Math.min(h,Math.abs((e==="left"||e==="right"?d:f)/2)),d<0&&(e==="left"?e="right":e==="right"&&(e="left")),f<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){var v=d>=0?l.left:l.right;return n.x<v+h}if(e==="top"){var m=f>=0?l.top:l.bottom;return n.y<m+h}if(e==="right")return n.x>(d>=0?l.right:l.left)-h;if(e==="bottom")return n.y>(f>=0?l.bottom:l.top)-h}return!!g.default.element(r)&&(g.default.element(t)?t===r:Z.matchesUpTo(r,t,s))}function Ti(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var r=t;n.interactable.options.resize.square?(n.resizeAxes==="y"?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,n.resizeAxes==="x"?r.delta.y=0:n.resizeAxes==="y"&&(r.delta.x=0))}}Object.defineProperty(zn,"__esModule",{value:!0}),zn.default=void 0;var Fe={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,s=e.defaults;Fe.cursors=function(l){return l.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Fe.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(l){return function(h,d,f){return g.default.object(d)?(h.options.resize.enabled=d.enabled!==!1,h.setPerAction("resize",d),h.setOnEvents("resize",d),g.default.string(d.axis)&&/^x$|^y$|^xy$/.test(d.axis)?h.options.resize.axis=d.axis:d.axis===null&&(h.options.resize.axis=f.defaults.actions.resize.axis),g.default.bool(d.preserveAspectRatio)?h.options.resize.preserveAspectRatio=d.preserveAspectRatio:g.default.bool(d.square)&&(h.options.resize.square=d.square),h):g.default.bool(d)?(h.options.resize.enabled=d,h):h.options.resize}(this,l,e)},t.map.resize=Fe,t.methodDict.resize="resizable",s.actions.resize=Fe.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var n=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var s=n,l=r.rect;r._rects={start:(0,z.default)({},l),corrected:(0,z.default)({},l),previous:(0,z.default)({},l),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},s.edges=r.prepared.edges,s.rect=r._rects.corrected,s.deltaRect=r._rects.delta}})(e),Ti(e)},"interactions:action-move":function(e){(function(t){var n=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var s=n,l=r.interactable.options.resize.invert,h=l==="reposition"||l==="negate",d=r.rect,f=r._rects,v=f.start,m=f.corrected,_=f.delta,w=f.previous;if((0,z.default)(w,m),h){if((0,z.default)(m,d),l==="reposition"){if(m.top>m.bottom){var x=m.top;m.top=m.bottom,m.bottom=x}if(m.left>m.right){var b=m.left;m.left=m.right,m.right=b}}}else m.top=Math.min(d.top,v.bottom),m.bottom=Math.max(d.bottom,v.top),m.left=Math.min(d.left,v.right),m.right=Math.max(d.right,v.left);for(var S in m.width=m.right-m.left,m.height=m.bottom-m.top,m)_[S]=m[S]-w[S];s.edges=r.prepared.edges,s.rect=m,s.deltaRect=_}})(e),Ti(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,s=e.rect,l=e.buttons;if(s){var h=(0,z.default)({},t.coords.cur.page),d=n.options.resize;if(d&&d.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||l&d.mouseButtons)){if(g.default.object(d.edges)){var f={left:!1,right:!1,top:!1,bottom:!1};for(var v in f)f[v]=Ho(v,d.edges[v],h,t._latestPointer.eventTarget,r,s,d.margin||Fe.defaultMargin);f.left=f.left&&!f.right,f.top=f.top&&!f.bottom,(f.left||f.right||f.top||f.bottom)&&(e.action={name:"resize",edges:f})}else{var m=d.axis!=="y"&&h.x>s.right-Fe.defaultMargin,_=d.axis!=="x"&&h.y>s.bottom-Fe.defaultMargin;(m||_)&&(e.action={name:"resize",axes:(m?"x":"")+(_?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,s=Fe.cursors,l=null;if(n)l=s[r+n];else if(t){for(var h="",d=["top","bottom","left","right"],f=0;f<d.length;f++){var v=d[f];t[v]&&(h+=v)}l=s[h]}return l},defaultMargin:null},Ko=Fe;zn.default=Ko;var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.default=void 0;var Jo={id:"actions",install:function(e){e.usePlugin(An.default),e.usePlugin(zn.default),e.usePlugin(N.default),e.usePlugin(In.default)}};qt.default=Jo;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.default=void 0;var Ge,pt,Pi=0,Qo={request:function(e){return Ge(e)},cancel:function(e){return pt(e)},init:function(e){if(Ge=e.requestAnimationFrame,pt=e.cancelAnimationFrame,!Ge)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];Ge=e["".concat(r,"RequestAnimationFrame")],pt=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}Ge=Ge&&Ge.bind(e),pt=pt&&pt.bind(e),Ge||(Ge=function(s){var l=Date.now(),h=Math.max(0,16-(l-Pi)),d=e.setTimeout(function(){s(l+h)},h);return Pi=l+h,d},pt=function(s){return clearTimeout(s)})}};Ie.default=Qo;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.default=void 0,Ye.getContainer=Rn,Ye.getScroll=Xt,Ye.getScrollSize=function(e){return g.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},Ye.getScrollSizeDelta=function(e,t){var n=e.interaction,r=e.element,s=n&&n.interactable.options[n.prepared.name].autoScroll;if(!s||!s.enabled)return t(),{x:0,y:0};var l=Rn(s.container,n.interactable,r),h=Xt(l);t();var d=Xt(l);return{x:d.x-h.x,y:d.y-h.y}};var V={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){V.isScrolling=!0,Ie.default.cancel(V.i),e.autoScroll=V,V.interaction=e,V.prevTime=V.now(),V.i=Ie.default.request(V.scroll)},stop:function(){V.isScrolling=!1,V.interaction&&(V.interaction.autoScroll=null),Ie.default.cancel(V.i)},scroll:function(){var e=V.interaction,t=e.interactable,n=e.element,r=e.prepared.name,s=t.options[r].autoScroll,l=Rn(s.container,t,n),h=V.now(),d=(h-V.prevTime)/1e3,f=s.speed*d;if(f>=1){var v={x:V.x*f,y:V.y*f};if(v.x||v.y){var m=Xt(l);g.default.window(l)?l.scrollBy(v.x,v.y):l&&(l.scrollLeft+=v.x,l.scrollTop+=v.y);var _=Xt(l),w={x:_.x-m.x,y:_.y-m.y};(w.x||w.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:w,interaction:e,container:l})}V.prevTime=h}V.isScrolling&&(Ie.default.cancel(V.i),V.i=Ie.default.request(V.scroll))},check:function(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&V.check(t.interactable,t.prepared.name))if(t.simulation)V.x=V.y=0;else{var r,s,l,h,d=t.interactable,f=t.element,v=t.prepared.name,m=d.options[v].autoScroll,_=Rn(m.container,d,f);if(g.default.window(_))h=n.clientX<V.margin,r=n.clientY<V.margin,s=n.clientX>_.innerWidth-V.margin,l=n.clientY>_.innerHeight-V.margin;else{var w=Z.getElementClientRect(_);h=n.clientX<w.left+V.margin,r=n.clientY<w.top+V.margin,s=n.clientX>w.right-V.margin,l=n.clientY>w.bottom-V.margin}V.x=s?1:h?-1:0,V.y=l?1:r?-1:0,V.isScrolling||(V.margin=m.margin,V.speed=m.speed,V.start(t))}}};function Rn(e,t,n){return(g.default.string(e)?(0,ee.getStringOptionResult)(e,t,n):e)||(0,a.getWindow)(n)}function Xt(e){return g.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var es={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=V,V.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=V.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,V.stop(),V.interaction&&(V.interaction=null)},"interactions:stop":V.stop,"interactions:action-move":function(e){return V.onInteractionMove(e)}}},ts=es;Ye.default=ts;var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},Te.sign=void 0,Te.warnOnce=function(e,t){var n=!1;return function(){return n||(a.window.console.warn(t),n=!0),e.apply(this,arguments)}},Te.sign=function(e){return e>=0?1:-1};var Dn={};function ns(e){return g.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function rs(e){return g.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.default=void 0;var is={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(n,r,s,l){var h=function(d,f,v,m,_){var w=d.getRect(m),x={action:null,interactable:d,interaction:v,element:m,rect:w,buttons:f.buttons||{0:1,1:4,3:8,4:16}[f.button]};return _.fire("auto-start:check",x),x.action}(this,r,s,l,e);return this.options.actionChecker?this.options.actionChecker(n,r,h,this,l,s):h},t.prototype.ignoreFrom=(0,Te.warnOnce)(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,Te.warnOnce)(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=rs,t.prototype.styleCursor=ns}};Dn.default=is;var Rt={};function ji(e,t,n,r,s){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&$n(t,n,e,s)?e:null}function os(e,t,n,r,s,l,h){for(var d=0,f=r.length;d<f;d++){var v=r[d],m=s[d],_=v.getAction(t,n,e,m);if(_){var w=ji(_,v,m,l,h);if(w)return{action:w,interactable:v,element:m}}}return{action:null,interactable:null,element:null}}function Ci(e,t,n,r,s){var l=[],h=[],d=r;function f(m){l.push(m),h.push(d)}for(;g.default.element(d);){l=[],h=[],s.interactables.forEachMatch(d,f);var v=os(e,t,n,l,h,r,s);if(v.action&&!v.interactable.options[v.action.name].manualStart)return v;d=Z.parentNode(d)}return{action:null,interactable:null,element:null}}function Mi(e,t,n){var r=t.action,s=t.interactable,l=t.element;r=r||{name:null},e.interactable=s,e.element=l,(0,Te.copyAction)(e.prepared,r),e.rect=s&&r.name?s.getRect(l):null,Ai(e,n),n.fire("autoStart:prepared",{interaction:e})}function $n(e,t,n,r){var s=e.options,l=s[n.name].max,h=s[n.name].maxPerElement,d=r.autoStart.maxInteractions,f=0,v=0,m=0;if(!(l&&h&&d))return!1;for(var _=0;_<r.interactions.list.length;_++){var w=r.interactions.list[_],x=w.prepared.name;if(w.interacting()&&(++f>=d||w.interactable===e&&((v+=x===n.name?1:0)>=l||w.element===t&&(m++,x===n.name&&m>=h))))return!1}return d>0}function Ii(e,t){return g.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Ir(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function Ai(e,t){var n=e.interactable,r=e.element,s=e.prepared;if(e.pointerType==="mouse"&&n&&n.options.styleCursor){var l="";if(s.name){var h=n.options[s.name].cursorChecker;l=g.default.func(h)?h(s,n,r,e._interacting):t.actions.map[s.name].getCursor(s)}Ir(e.element,l||"",t)}else t.autoStart.cursorElement&&Ir(t.autoStart.cursorElement,"",t)}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0;var ss={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(Dn.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,z.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(r){return Ii(r,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:$n,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,s=e.event,l=e.eventTarget;n.interacting()||Mi(n,Ci(n,r,s,l,t),t)},"interactions:move":function(e,t){(function(n,r){var s=n.interaction,l=n.pointer,h=n.event,d=n.eventTarget;s.pointerType!=="mouse"||s.pointerIsDown||s.interacting()||Mi(s,Ci(s,l,h,d,r),r)})(e,t),function(n,r){var s=n.interaction;if(s.pointerIsDown&&!s.interacting()&&s.pointerWasMoved&&s.prepared.name){r.fire("autoStart:before-start",n);var l=s.interactable,h=s.prepared.name;h&&l&&(l.options[h].manualStart||!$n(l,s.element,s.prepared,r)?s.stop():(s.start(s.prepared,l,s.element),Ai(s,r)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&Ir(n.element,"",t)}},maxInteractions:Ii,withinInteractionLimit:$n,validateAction:ji},as=ss;Rt.default=as;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=void 0;var ls={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,s=e.dx,l=e.dy;if(n.prepared.name==="drag"){var h=Math.abs(s),d=Math.abs(l),f=n.interactable.options.drag,v=f.startAxis,m=h>d?"x":h<d?"y":"xy";if(n.prepared.axis=f.lockAxis==="start"?m[0]:f.lockAxis,m!=="xy"&&v!=="xy"&&v!==m){n.prepared.name=null;for(var _=r,w=function(b){if(b!==n.interactable){var S=n.interactable.options.drag;if(!S.manualStart&&b.testIgnoreAllow(S,_,r)){var j=b.getAction(n.downPointer,n.downEvent,n,_);if(j&&j.name==="drag"&&function(T,A){if(!A)return!1;var D=A.options.drag.startAxis;return T==="xy"||D==="xy"||D===T}(m,b)&&Rt.default.validateAction(j,b,_,r,t))return b}}};g.default.element(_);){var x=t.interactables.forEachMatch(_,w);if(x){n.prepared.name="drag",n.interactable=x,n.element=_;break}_=(0,Z.parentNode)(_)}}}}}};Nn.default=ls;var Zn={};function Ar(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.default=void 0;var cs={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(Rt.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=Ar(t);n>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;Ar(t)>0&&(t.prepared.name=null)}},getHoldDuration:Ar},ds=cs;Zn.default=ds;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.default=void 0;var us={id:"auto-start",install:function(e){e.usePlugin(Rt.default),e.usePlugin(Zn.default),e.usePlugin(Nn.default)}};Ht.default=us;var ft={};function ps(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):g.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function fs(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function zi(e){var t=e.Interactable;t.prototype.preventDefault=ps,t.prototype.checkAndPreventDefault=function(n){return function(r,s,l){var h=r.options.preventDefault;if(h!=="never")if(h!=="always"){if(s.events.supportsPassive&&/^touch(start|move)$/.test(l.type)){var d=(0,a.getWindow)(l.target).document,f=s.getDocOptions(d);if(!f||!f.events||f.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(l.type)||g.default.element(l.target)&&(0,Z.matchesSelector)(l.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||l.preventDefault()}else l.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var r=0;r<e.interactions.list.length;r++){var s=e.interactions.list[r];if(s.element&&(s.element===n.target||(0,Z.nodeContains)(s.element,n.target)))return void s.interactable.checkAndPreventDefault(n)}}})}Object.defineProperty(ft,"__esModule",{value:!0}),ft.default=void 0,ft.install=zi;var hs={id:"core/interactablePreventDefault",install:zi,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=fs,e},{})};ft.default=hs;var zr={};Object.defineProperty(zr,"__esModule",{value:!0}),zr.default=void 0,zr.default={};var Kt,Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(Kt||(Kt={})),Kt.touchAction,Kt.boxSizing,Kt.noListeners;var gs={id:"dev-tools",install:function(){}};Ln.default=gs;var ht={};Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=function e(t){var n={};for(var r in t){var s=t[r];g.default.plainObject(s)?n[r]=e(s):g.default.array(s)?n[r]=te.from(s):n[r]=s}return n};var gt={};function Ri(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var l,h,d=[],f=!0,v=!1;try{for(s=s.call(n);!(f=(l=s.next()).done)&&(d.push(l.value),!r||d.length!==r);f=!0);}catch(m){v=!0,h=m}finally{try{f||s.return==null||s.return()}finally{if(v)throw h}}return d}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Di(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Di(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Di(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=void 0,gt.getRectOffset=$i;var ms=function(){function e(r){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),Qe(this,"states",[]),Qe(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Qe(this,"startDelta",void 0),Qe(this,"result",void 0),Qe(this,"endResult",void 0),Qe(this,"startEdges",void 0),Qe(this,"edges",void 0),Qe(this,"interaction",void 0),this.interaction=r,this.result=Vn(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var t,n;return t=e,(n=[{key:"start",value:function(r,s){var l=r.phase,h=this.interaction,d=function(v){var m=v.interactable.options[v.prepared.name],_=m.modifiers;return _&&_.length?_:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(w){var x=m[w];return x&&x.enabled&&{options:x,methods:x._methods}}).filter(function(w){return!!w})}(h);this.prepareStates(d),this.startEdges=(0,z.default)({},h.edges),this.edges=(0,z.default)({},this.startEdges),this.startOffset=$i(h.rect,s),this.startDelta={x:0,y:0};var f=this.fillArg({phase:l,pageCoords:s,preEnd:!1});return this.result=Vn(),this.startAll(f),this.result=this.setAll(f)}},{key:"fillArg",value:function(r){var s=this.interaction;return r.interaction=s,r.interactable=s.interactable,r.element=s.element,r.rect||(r.rect=s.rect),r.edges||(r.edges=this.startEdges),r.startOffset=this.startOffset,r}},{key:"startAll",value:function(r){for(var s=0;s<this.states.length;s++){var l=this.states[s];l.methods.start&&(r.state=l,l.methods.start(r))}}},{key:"setAll",value:function(r){var s=r.phase,l=r.preEnd,h=r.skipModifiers,d=r.rect,f=r.edges;r.coords=(0,z.default)({},r.pageCoords),r.rect=(0,z.default)({},d),r.edges=(0,z.default)({},f);for(var v=h?this.states.slice(h):this.states,m=Vn(r.coords,r.rect),_=0;_<v.length;_++){var w,x=v[_],b=x.options,S=(0,z.default)({},r.coords),j=null;(w=x.methods)!=null&&w.set&&this.shouldDo(b,l,s)&&(r.state=x,j=x.methods.set(r),ee.addEdges(r.edges,r.rect,{x:r.coords.x-S.x,y:r.coords.y-S.y})),m.eventProps.push(j)}(0,z.default)(this.edges,r.edges),m.delta.x=r.coords.x-r.pageCoords.x,m.delta.y=r.coords.y-r.pageCoords.y,m.rectDelta.left=r.rect.left-d.left,m.rectDelta.right=r.rect.right-d.right,m.rectDelta.top=r.rect.top-d.top,m.rectDelta.bottom=r.rect.bottom-d.bottom;var T=this.result.coords,A=this.result.rect;if(T&&A){var D=m.rect.left!==A.left||m.rect.right!==A.right||m.rect.top!==A.top||m.rect.bottom!==A.bottom;m.changed=D||T.x!==m.coords.x||T.y!==m.coords.y}return m}},{key:"applyToInteraction",value:function(r){var s=this.interaction,l=r.phase,h=s.coords.cur,d=s.coords.start,f=this.result,v=this.startDelta,m=f.delta;l==="start"&&(0,z.default)(this.startDelta,f.delta);for(var _=0;_<[[d,v],[h,m]].length;_++){var w=Ri([[d,v],[h,m]][_],2),x=w[0],b=w[1];x.page.x+=b.x,x.page.y+=b.y,x.client.x+=b.x,x.client.y+=b.y}var S=this.result.rectDelta,j=r.rect||s.rect;j.left+=S.left,j.right+=S.right,j.top+=S.top,j.bottom+=S.bottom,j.width=j.right-j.left,j.height=j.bottom-j.top}},{key:"setAndApply",value:function(r){var s=this.interaction,l=r.phase,h=r.preEnd,d=r.skipModifiers,f=this.setAll(this.fillArg({preEnd:h,phase:l,pageCoords:r.modifiedCoords||s.coords.cur.page}));if(this.result=f,!f.changed&&(!d||d<this.states.length)&&s.interacting())return!1;if(r.modifiedCoords){var v=s.coords.cur.page,m={x:r.modifiedCoords.x-v.x,y:r.modifiedCoords.y-v.y};f.coords.x+=m.x,f.coords.y+=m.y,f.delta.x+=m.x,f.delta.y+=m.y}this.applyToInteraction(r)}},{key:"beforeEnd",value:function(r){var s=r.interaction,l=r.event,h=this.states;if(h&&h.length){for(var d=!1,f=0;f<h.length;f++){var v=h[f];r.state=v;var m=v.options,_=v.methods,w=_.beforeEnd&&_.beforeEnd(r);if(w)return this.endResult=w,!1;d=d||!d&&this.shouldDo(m,!0,r.phase,!0)}d&&s.move({event:l,preEnd:!0})}}},{key:"stop",value:function(r){var s=r.interaction;if(this.states&&this.states.length){var l=(0,z.default)({states:this.states,interactable:s.interactable,element:s.element,rect:null},r);this.fillArg(l);for(var h=0;h<this.states.length;h++){var d=this.states[h];l.state=d,d.methods.stop&&d.methods.stop(l)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(r){this.states=[];for(var s=0;s<r.length;s++){var l=r[s],h=l.options,d=l.methods,f=l.name;this.states.push({options:h,methods:d,index:s,name:f})}return this.states}},{key:"restoreInteractionCoords",value:function(r){var s=r.interaction,l=s.coords,h=s.rect,d=s.modification;if(d.result){for(var f=d.startDelta,v=d.result,m=v.delta,_=v.rectDelta,w=[[l.start,f],[l.cur,m]],x=0;x<w.length;x++){var b=Ri(w[x],2),S=b[0],j=b[1];S.page.x-=j.x,S.page.y-=j.y,S.client.x-=j.x,S.client.y-=j.y}h.left-=_.left,h.right-=_.right,h.top-=_.top,h.bottom-=_.bottom}}},{key:"shouldDo",value:function(r,s,l,h){return!(!r||r.enabled===!1||h&&!r.endOnly||r.endOnly&&!s||l==="start"&&!r.setStart)}},{key:"copyFrom",value:function(r){this.startOffset=r.startOffset,this.startDelta=r.startDelta,this.startEdges=r.startEdges,this.edges=r.edges,this.states=r.states.map(function(s){return(0,ht.default)(s)}),this.result=Vn((0,z.default)({},r.result.coords),(0,z.default)({},r.result.rect))}},{key:"destroy",value:function(){for(var r in this)this[r]=null}}])&&vs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Vn(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function $i(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}gt.default=ms;var ve={};function Wn(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(ve,"__esModule",{value:!0}),ve.addEventModifiers=Wn,ve.default=void 0,ve.makeModifier=function(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},s=function(l){var h=l||{};for(var d in h.enabled=h.enabled!==!1,n)d in h||(h[d]=n[d]);var f={options:h,methods:r,name:t,enable:function(){return h.enabled=!0,f},disable:function(){return h.enabled=!1,f}};return f};return t&&typeof t=="string"&&(s._defaults=n,s._methods=r),s};var ys={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new gt.default(t)},"interactions:before-action-start":function(e){var t=e.interaction,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":function(e){var t=e.interaction,n=t.modification,r=n.setAndApply(e);return t.edges=n.edges,r},"interactions:before-action-end":function(e){var t=e.interaction,n=t.modification,r=n.beforeEnd(e);return t.edges=n.startEdges,r},"interactions:action-start":Wn,"interactions:action-move":Wn,"interactions:action-end":Wn,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},_s=ys;ve.default=_s;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.defaults=void 0,Jt.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Qt={};function Rr(e){return Rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rr(e)}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e,t){return Dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Dr(e,t)}function ws(e,t){if(t&&(Rr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ne(e)}function ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(e){return Bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Bn(e)}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.InteractEvent=void 0;var Ni=function(e){(function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),f&&Dr(d,f)})(h,e);var t,n,r,s,l=(r=h,s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var d,f=Bn(r);if(s){var v=Bn(this).constructor;d=Reflect.construct(f,arguments,v)}else d=f.apply(this,arguments);return ws(this,d)});function h(d,f,v,m,_,w,x){var b;(function(ie,X){if(!(ie instanceof X))throw new TypeError("Cannot call a class as a function")})(this,h),oe(ne(b=l.call(this,d)),"relatedTarget",null),oe(ne(b),"screenX",void 0),oe(ne(b),"screenY",void 0),oe(ne(b),"button",void 0),oe(ne(b),"buttons",void 0),oe(ne(b),"ctrlKey",void 0),oe(ne(b),"shiftKey",void 0),oe(ne(b),"altKey",void 0),oe(ne(b),"metaKey",void 0),oe(ne(b),"page",void 0),oe(ne(b),"client",void 0),oe(ne(b),"delta",void 0),oe(ne(b),"rect",void 0),oe(ne(b),"x0",void 0),oe(ne(b),"y0",void 0),oe(ne(b),"t0",void 0),oe(ne(b),"dt",void 0),oe(ne(b),"duration",void 0),oe(ne(b),"clientX0",void 0),oe(ne(b),"clientY0",void 0),oe(ne(b),"velocity",void 0),oe(ne(b),"speed",void 0),oe(ne(b),"swipe",void 0),oe(ne(b),"axes",void 0),oe(ne(b),"preEnd",void 0),_=_||d.element;var S=d.interactable,j=(S&&S.options||Jt.defaults).deltaSource,T=(0,Me.default)(S,_,v),A=m==="start",D=m==="end",U=A?ne(b):d.prevEvent,K=A?d.coords.start:D?{page:U.page,client:U.client,timeStamp:d.coords.cur.timeStamp}:d.coords.cur;return b.page=(0,z.default)({},K.page),b.client=(0,z.default)({},K.client),b.rect=(0,z.default)({},d.rect),b.timeStamp=K.timeStamp,D||(b.page.x-=T.x,b.page.y-=T.y,b.client.x-=T.x,b.client.y-=T.y),b.ctrlKey=f.ctrlKey,b.altKey=f.altKey,b.shiftKey=f.shiftKey,b.metaKey=f.metaKey,b.button=f.button,b.buttons=f.buttons,b.target=_,b.currentTarget=_,b.preEnd=w,b.type=x||v+(m||""),b.interactable=S,b.t0=A?d.pointers[d.pointers.length-1].downTime:U.t0,b.x0=d.coords.start.page.x-T.x,b.y0=d.coords.start.page.y-T.y,b.clientX0=d.coords.start.client.x-T.x,b.clientY0=d.coords.start.client.y-T.y,b.delta=A||D?{x:0,y:0}:{x:b[j].x-U[j].x,y:b[j].y-U[j].y},b.dt=d.coords.delta.timeStamp,b.duration=b.timeStamp-b.t0,b.velocity=(0,z.default)({},d.coords.velocity[j]),b.speed=(0,B.default)(b.velocity.x,b.velocity.y),b.swipe=D||m==="inertiastart"?b.getSwipe():null,b}return t=h,(n=[{key:"getSwipe",value:function(){var d=this._interaction;if(d.prevEvent.speed<600||this.timeStamp-d.prevEvent.timeStamp>150)return null;var f=180*Math.atan2(d.prevEvent.velocityY,d.prevEvent.velocityX)/Math.PI;f<0&&(f+=360);var v=112.5<=f&&f<247.5,m=202.5<=f&&f<337.5;return{up:m,down:!m&&22.5<=f&&f<157.5,left:v,right:!v&&(292.5<=f||f<67.5),angle:f,speed:d.prevEvent.speed,velocity:{x:d.prevEvent.velocityX,y:d.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&bs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(Ze.BaseEvent);Qt.InteractEvent=Ni,Object.defineProperties(Ni.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var en={};function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xs(e,t,n){return t&&Zi(e.prototype,t),n&&Zi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(en,"__esModule",{value:!0}),en.PointerInfo=void 0;var ks=xs(function e(t,n,r,s,l){(function(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),tn(this,"id",void 0),tn(this,"pointer",void 0),tn(this,"event",void 0),tn(this,"downTime",void 0),tn(this,"downTarget",void 0),this.id=t,this.pointer=n,this.event=r,this.downTime=s,this.downTarget=l});en.PointerInfo=ks;var Un,Fn,Se={};function Es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Se,"__esModule",{value:!0}),Se.Interaction=void 0,Object.defineProperty(Se,"PointerInfo",{enumerable:!0,get:function(){return en.PointerInfo}}),Se.default=Se._ProxyValues=Se._ProxyMethods=void 0,Se._ProxyValues=Un,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Un||(Se._ProxyValues=Un={})),Se._ProxyMethods=Fn,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(Fn||(Se._ProxyMethods=Fn={}));var Os=0,Li=function(){function e(r){var s=this,l=r.pointerType,h=r.scopeFire;(function(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")})(this,e),ae(this,"interactable",null),ae(this,"element",null),ae(this,"rect",null),ae(this,"_rects",void 0),ae(this,"edges",null),ae(this,"_scopeFire",void 0),ae(this,"prepared",{name:null,axis:null,edges:null}),ae(this,"pointerType",void 0),ae(this,"pointers",[]),ae(this,"downEvent",null),ae(this,"downPointer",{}),ae(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),ae(this,"prevEvent",null),ae(this,"pointerIsDown",!1),ae(this,"pointerWasMoved",!1),ae(this,"_interacting",!1),ae(this,"_ending",!1),ae(this,"_stopped",!0),ae(this,"_proxy",null),ae(this,"simulation",null),ae(this,"doMove",(0,Te.warnOnce)(function(w){this.move(w)},"The interaction.doMove() method has been renamed to interaction.move()")),ae(this,"coords",{start:O.newCoords(),prev:O.newCoords(),cur:O.newCoords(),delta:O.newCoords(),velocity:O.newCoords()}),ae(this,"_id",Os++),this._scopeFire=h,this.pointerType=l;var d=this;this._proxy={};var f=function(w){Object.defineProperty(s._proxy,w,{get:function(){return d[w]}})};for(var v in Un)f(v);var m=function(w){Object.defineProperty(s._proxy,w,{value:function(){return d[w].apply(d,arguments)}})};for(var _ in Fn)m(_);this._scopeFire("interactions:new",{interaction:this})}var t,n;return t=e,n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(r,s,l){var h=this.updatePointer(r,s,l,!0),d=this.pointers[h];this._scopeFire("interactions:down",{pointer:r,event:s,eventTarget:l,pointerIndex:h,pointerInfo:d,type:"down",interaction:this})}},{key:"start",value:function(r,s,l){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(r.name==="gesture"?2:1)||!s.options[r.name].enabled)&&((0,Te.copyAction)(this.prepared,r),this.interactable=s,this.element=l,this.rect=s.getRect(l),this.edges=this.prepared.edges?(0,z.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(r,s,l){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(r,s,l,!1);var h,d,f=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(h=this.coords.cur.client.x-this.coords.start.client.x,d=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,B.default)(h,d)>this.pointerMoveTolerance);var v=this.getPointerIndex(r),m={pointer:r,pointerIndex:v,pointerInfo:this.pointers[v],event:s,type:"move",eventTarget:l,dx:h,dy:d,duplicate:f,interaction:this};f||O.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",m),f||this.simulation||(this.interacting()&&(m.type=null,this.move(m)),this.pointerWasMoved&&O.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(r){r&&r.event||O.setZeroCoords(this.coords.delta),(r=(0,z.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},r||{})).phase="move",this._doPhase(r)}},{key:"pointerUp",value:function(r,s,l,h){var d=this.getPointerIndex(r);d===-1&&(d=this.updatePointer(r,s,l,!1));var f=/cancel$/i.test(s.type)?"cancel":"up";this._scopeFire("interactions:".concat(f),{pointer:r,pointerIndex:d,pointerInfo:this.pointers[d],event:s,eventTarget:l,type:f,curEventTarget:h,interaction:this}),this.simulation||this.end(s),this.removePointer(r,s)}},{key:"documentBlur",value:function(r){this.end(r),this._scopeFire("interactions:blur",{event:r,type:"blur",interaction:this})}},{key:"end",value:function(r){var s;this._ending=!0,r=r||this._latestPointer.event,this.interacting()&&(s=this._doPhase({event:r,interaction:this,phase:"end"})),this._ending=!1,s===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(r){var s=O.getPointerId(r);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:te.findIndex(this.pointers,function(l){return l.id===s})}},{key:"getPointerInfo",value:function(r){return this.pointers[this.getPointerIndex(r)]}},{key:"updatePointer",value:function(r,s,l,h){var d=O.getPointerId(r),f=this.getPointerIndex(r),v=this.pointers[f];return h=h!==!1&&(h||/(down|start)$/i.test(s.type)),v?v.pointer=r:(v=new en.PointerInfo(d,r,s,null,null),f=this.pointers.length,this.pointers.push(v)),O.setCoords(this.coords.cur,this.pointers.map(function(m){return m.pointer}),this._now()),O.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),h&&(this.pointerIsDown=!0,v.downTime=this.coords.cur.timeStamp,v.downTarget=l,O.pointerExtend(this.downPointer,r),this.interacting()||(O.copyCoords(this.coords.start,this.coords.cur),O.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=s,this.pointerWasMoved=!1)),this._updateLatestPointer(r,s,l),this._scopeFire("interactions:update-pointer",{pointer:r,event:s,eventTarget:l,down:h,pointerInfo:v,pointerIndex:f,interaction:this}),f}},{key:"removePointer",value:function(r,s){var l=this.getPointerIndex(r);if(l!==-1){var h=this.pointers[l];this._scopeFire("interactions:remove-pointer",{pointer:r,event:s,eventTarget:null,pointerIndex:l,pointerInfo:h,interaction:this}),this.pointers.splice(l,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(r,s,l){this._latestPointer.pointer=r,this._latestPointer.event=s,this._latestPointer.eventTarget=l}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(r,s,l,h){return new Qt.InteractEvent(this,r,this.prepared.name,s,this.element,l,h)}},{key:"_fireEvent",value:function(r){var s;(s=this.interactable)==null||s.fire(r),(!this.prevEvent||r.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=r)}},{key:"_doPhase",value:function(r){var s=r.event,l=r.phase,h=r.preEnd,d=r.type,f=this.rect;if(f&&l==="move"&&(ee.addEdges(this.edges,f,this.coords.delta[this.interactable.options.deltaSource]),f.width=f.right-f.left,f.height=f.bottom-f.top),this._scopeFire("interactions:before-action-".concat(l),r)===!1)return!1;var v=r.iEvent=this._createPreparedEvent(s,l,h,d);return this._scopeFire("interactions:action-".concat(l),r),l==="start"&&(this.prevEvent=v),this._fireEvent(v),this._scopeFire("interactions:after-action-".concat(l),r),!0}},{key:"_now",value:function(){return Date.now()}}],n&&Es(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Se.Interaction=Li;var Ss=Li;Se.default=Ss;var et={};function Vi(e){e.pointerIsDown&&(Nr(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function Wi(e){$r(e.interaction)}function $r(e){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Nr(e.coords.cur,t),Nr(e.coords.delta,t),ee.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Ts(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Nr(e,t){var n=e.page,r=e.client,s=t.x,l=t.y;n.x+=s,n.y+=l,r.x+=s,r.y+=l}Object.defineProperty(et,"__esModule",{value:!0}),et.addTotal=Vi,et.applyPending=$r,et.default=void 0,Se._ProxyMethods.offsetBy="";var Ps={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Ts},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return Vi(e.interaction)},"interactions:before-action-start":Wi,"interactions:before-action-move":Wi,"interactions:before-action-end":function(e){var t=e.interaction;if($r(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},js=Ps;et.default=js;var vt={};function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(vt,"__esModule",{value:!0}),vt.default=vt.InertiaState=void 0;var Bi=function(){function e(r){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),fe(this,"active",!1),fe(this,"isModified",!1),fe(this,"smoothEnd",!1),fe(this,"allowResume",!1),fe(this,"modification",void 0),fe(this,"modifierCount",0),fe(this,"modifierArg",void 0),fe(this,"startCoords",void 0),fe(this,"t0",0),fe(this,"v0",0),fe(this,"te",0),fe(this,"targetOffset",void 0),fe(this,"modifiedOffset",void 0),fe(this,"currentOffset",void 0),fe(this,"lambda_v0",0),fe(this,"one_ve_v0",0),fe(this,"timeout",void 0),fe(this,"interaction",void 0),this.interaction=r}var t,n;return t=e,(n=[{key:"start",value:function(r){var s=this.interaction,l=Gn(s);if(!l||!l.enabled)return!1;var h=s.coords.velocity.client,d=(0,B.default)(h.x,h.y),f=this.modification||(this.modification=new gt.default(s));if(f.copyFrom(s.modification),this.t0=s._now(),this.allowResume=l.allowResume,this.v0=d,this.currentOffset={x:0,y:0},this.startCoords=s.coords.cur.page,this.modifierArg=f.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-s.coords.cur.timeStamp<50&&d>l.minSpeed&&d>l.endSpeed)this.startInertia();else{if(f.result=f.setAll(this.modifierArg),!f.result.changed)return!1;this.startSmoothEnd()}return s.modification.result.rect=null,s.offsetBy(this.targetOffset),s._doPhase({interaction:s,event:r,phase:"inertiastart"}),s.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),s.modification.result.rect=null,this.active=!0,s.simulation=this,!0}},{key:"startInertia",value:function(){var r=this,s=this.interaction.coords.velocity.client,l=Gn(this.interaction),h=l.resistance,d=-Math.log(l.endSpeed/this.v0)/h;this.targetOffset={x:(s.x-d)/h,y:(s.y-d)/h},this.te=d,this.lambda_v0=h/this.v0,this.one_ve_v0=1-l.endSpeed/this.v0;var f=this.modification,v=this.modifierArg;v.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},f.result=f.setAll(v),f.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+f.result.delta.x,y:this.targetOffset.y+f.result.delta.y}),this.onNextFrame(function(){return r.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var r=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return r.smoothEndTick()})}},{key:"onNextFrame",value:function(r){var s=this;this.timeout=Ie.default.request(function(){s.active&&r()})}},{key:"inertiaTick",value:function(){var r,s,l,h,d,f=this,v=this.interaction,m=Gn(v).resistance,_=(v._now()-this.t0)/1e3;if(_<this.te){var w,x=1-(Math.exp(-m*_)-this.lambda_v0)/this.one_ve_v0;this.isModified?(r=this.targetOffset.x,s=this.targetOffset.y,l=this.modifiedOffset.x,h=this.modifiedOffset.y,w={x:Ui(d=x,0,r,l),y:Ui(d,0,s,h)}):w={x:this.targetOffset.x*x,y:this.targetOffset.y*x};var b={x:w.x-this.currentOffset.x,y:w.y-this.currentOffset.y};this.currentOffset.x+=b.x,this.currentOffset.y+=b.y,v.offsetBy(b),v.move(),this.onNextFrame(function(){return f.inertiaTick()})}else v.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var r=this,s=this.interaction,l=s._now()-this.t0,h=Gn(s).smoothEndDuration;if(l<h){var d={x:Fi(l,0,this.targetOffset.x,h),y:Fi(l,0,this.targetOffset.y,h)},f={x:d.x-this.currentOffset.x,y:d.y-this.currentOffset.y};this.currentOffset.x+=f.x,this.currentOffset.y+=f.y,s.offsetBy(f),s.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return r.smoothEndTick()})}else s.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(r){var s=r.pointer,l=r.event,h=r.eventTarget,d=this.interaction;d.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),d.updatePointer(s,l,h,!0),d._doPhase({interaction:d,event:l,phase:"resume"}),(0,O.copyCoords)(d.coords.prev,d.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Ie.default.cancel(this.timeout)}}])&&Cs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Gn(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}vt.InertiaState=Bi;var Ms={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(et.default),e.usePlugin(ve.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new Bi(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var s=n;g.default.element(s);){if(s===t.element){r.resume(e);break}s=Z.parentNode(s)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":ve.addEventModifiers,"interactions:action-inertiastart":ve.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function Ui(e,t,n,r){var s=1-e;return s*s*t+2*s*e*n+e*e*r}function Fi(e,t,n,r){return-n*(e/=r)*(e-2)+t}var Is=Ms;vt.default=Is;var nn={};function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}Object.defineProperty(nn,"__esModule",{value:!0}),nn.Eventable=void 0;var zs=function(){function e(r){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),rn(this,"options",void 0),rn(this,"types",{}),rn(this,"propagationStopped",!1),rn(this,"immediatePropagationStopped",!1),rn(this,"global",void 0),this.options=(0,z.default)({},r||{})}var t,n;return t=e,(n=[{key:"fire",value:function(r){var s,l=this.global;(s=this.types[r.type])&&Gi(r,s),!r.propagationStopped&&l&&(s=l[r.type])&&Gi(r,s)}},{key:"on",value:function(r,s){var l=(0,$e.default)(r,s);for(r in l)this.types[r]=te.merge(this.types[r]||[],l[r])}},{key:"off",value:function(r,s){var l=(0,$e.default)(r,s);for(r in l){var h=this.types[r];if(h&&h.length)for(var d=0;d<l[r].length;d++){var f=l[r][d],v=h.indexOf(f);v!==-1&&h.splice(v,1)}}}},{key:"getRect",value:function(r){return null}}])&&As(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();nn.Eventable=zs;var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1};var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.createInteractStatic=function(e){var t=function n(r,s){var l=e.interactables.get(r,s);return l||((l=e.interactables.new(r,s)).events.global=n.globalEvents),l};return t.getPointerAverage=O.pointerAverage,t.getTouchBBox=O.touchBBox,t.getTouchDistance=O.touchDistance,t.getTouchAngle=O.touchAngle,t.getElementRect=Z.getElementRect,t.getElementClientRect=Z.getElementClientRect,t.matchesSelector=Z.matchesSelector,t.closest=Z.closest,t.globalEvents={},t.version="1.10.18",t.scope=e,t.use=function(n,r){return this.scope.usePlugin(n,r),this},t.isSet=function(n,r){return!!this.scope.interactables.get(n,r&&r.context)},t.on=(0,Te.warnOnce)(function(n,r,s){if(g.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),g.default.array(n)){for(var l=0;l<n.length;l++){var h=n[l];this.on(h,r,s)}return this}if(g.default.object(n)){for(var d in n)this.on(d,n[d],r);return this}return(0,on.default)(n,this.scope.actions)?this.globalEvents[n]?this.globalEvents[n].push(r):this.globalEvents[n]=[r]:this.scope.events.add(this.scope.document,n,r,{options:s}),this},"The interact.on() method is being deprecated"),t.off=(0,Te.warnOnce)(function(n,r,s){if(g.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),g.default.array(n)){for(var l=0;l<n.length;l++){var h=n[l];this.off(h,r,s)}return this}if(g.default.object(n)){for(var d in n)this.off(d,n[d],r);return this}var f;return(0,on.default)(n,this.scope.actions)?n in this.globalEvents&&(f=this.globalEvents[n].indexOf(r))!==-1&&this.globalEvents[n].splice(f,1):this.scope.events.remove(this.scope.document,n,r,s),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return ge.default.supportsTouch},t.supportsPointerEvent=function(){return ge.default.supportsPointerEvent},t.stop=function(){for(var n=0;n<this.scope.interactions.list.length;n++)this.scope.interactions.list[n].stop();return this},t.pointerMoveTolerance=function(n){return g.default.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,r){this.scope.addDocument(n,r)},t.removeDocument=function(n){this.scope.removeDocument(n)},t};var Yn={};function Rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.Interactable=void 0;var Ds=function(){function e(r,s,l,h){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e),qe(this,"options",void 0),qe(this,"_actions",void 0),qe(this,"target",void 0),qe(this,"events",new nn.Eventable),qe(this,"_context",void 0),qe(this,"_win",void 0),qe(this,"_doc",void 0),qe(this,"_scopeEvents",void 0),qe(this,"_rectChecker",void 0),this._actions=s.actions,this.target=r,this._context=s.context||l,this._win=(0,a.getWindow)((0,Z.trySelector)(r)?this._context:r),this._doc=this._win.document,this._scopeEvents=h,this.set(s)}var t,n;return t=e,(n=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(r,s){return g.default.func(s.onstart)&&this.on("".concat(r,"start"),s.onstart),g.default.func(s.onmove)&&this.on("".concat(r,"move"),s.onmove),g.default.func(s.onend)&&this.on("".concat(r,"end"),s.onend),g.default.func(s.oninertiastart)&&this.on("".concat(r,"inertiastart"),s.oninertiastart),this}},{key:"updatePerActionListeners",value:function(r,s,l){(g.default.array(s)||g.default.object(s))&&this.off(r,s),(g.default.array(l)||g.default.object(l))&&this.on(r,l)}},{key:"setPerAction",value:function(r,s){var l=this._defaults;for(var h in s){var d=h,f=this.options[r],v=s[d];d==="listeners"&&this.updatePerActionListeners(r,f.listeners,v),g.default.array(v)?f[d]=te.from(v):g.default.plainObject(v)?(f[d]=(0,z.default)(f[d]||{},(0,ht.default)(v)),g.default.object(l.perAction[d])&&"enabled"in l.perAction[d]&&(f[d].enabled=v.enabled!==!1)):g.default.bool(v)&&g.default.object(l.perAction[d])?f[d].enabled=v:f[d]=v}}},{key:"getRect",value:function(r){return r=r||(g.default.element(this.target)?this.target:null),g.default.string(this.target)&&(r=r||this._context.querySelector(this.target)),(0,Z.getElementRect)(r)}},{key:"rectChecker",value:function(r){var s=this;return g.default.func(r)?(this._rectChecker=r,this.getRect=function(l){var h=(0,z.default)({},s._rectChecker(l));return"width"in h||(h.width=h.right-h.left,h.height=h.bottom-h.top),h},this):r===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(r,s){if((0,Z.trySelector)(s)||g.default.object(s)){for(var l in this.options[r]=s,this._actions.map)this.options[l][r]=s;return this}return this.options[r]}},{key:"origin",value:function(r){return this._backCompatOption("origin",r)}},{key:"deltaSource",value:function(r){return r==="page"||r==="client"?(this.options.deltaSource=r,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(r){return this._context===r.ownerDocument||(0,Z.nodeContains)(this._context,r)}},{key:"testIgnoreAllow",value:function(r,s,l){return!this.testIgnore(r.ignoreFrom,s,l)&&this.testAllow(r.allowFrom,s,l)}},{key:"testAllow",value:function(r,s,l){return!r||!!g.default.element(l)&&(g.default.string(r)?(0,Z.matchesUpTo)(l,r,s):!!g.default.element(r)&&(0,Z.nodeContains)(r,l))}},{key:"testIgnore",value:function(r,s,l){return!(!r||!g.default.element(l))&&(g.default.string(r)?(0,Z.matchesUpTo)(l,r,s):!!g.default.element(r)&&(0,Z.nodeContains)(r,l))}},{key:"fire",value:function(r){return this.events.fire(r),this}},{key:"_onOff",value:function(r,s,l,h){g.default.object(s)&&!g.default.array(s)&&(h=l,l=null);var d=r==="on"?"add":"remove",f=(0,$e.default)(s,l);for(var v in f){v==="wheel"&&(v=ge.default.wheelEvent);for(var m=0;m<f[v].length;m++){var _=f[v][m];(0,on.default)(v,this._actions)?this.events[r](v,_):g.default.string(this.target)?this._scopeEvents["".concat(d,"Delegate")](this.target,this._context,v,_,h):this._scopeEvents[d](this.target,v,_,h)}}return this}},{key:"on",value:function(r,s,l){return this._onOff("on",r,s,l)}},{key:"off",value:function(r,s,l){return this._onOff("off",r,s,l)}},{key:"set",value:function(r){var s=this._defaults;for(var l in g.default.object(r)||(r={}),this.options=(0,ht.default)(s.base),this._actions.methodDict){var h=l,d=this._actions.methodDict[h];this.options[h]={},this.setPerAction(h,(0,z.default)((0,z.default)({},s.perAction),s.actions[h])),this[d](r[h])}for(var f in r)g.default.func(this[f])&&this[f](r[f]);return this}},{key:"unset",value:function(){if(g.default.string(this.target))for(var r in this._scopeEvents.delegatedEvents)for(var s=this._scopeEvents.delegatedEvents[r],l=s.length-1;l>=0;l--){var h=s[l],d=h.selector,f=h.context,v=h.listeners;d===this.target&&f===this._context&&s.splice(l,1);for(var m=v.length-1;m>=0;m--)this._scopeEvents.removeDelegate(this.target,this._context,r,v[m][0],v[m][1])}else this._scopeEvents.remove(this.target,"all")}}])&&Rs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Yn.Interactable=Ds;var qn={};function $s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(qn,"__esModule",{value:!0}),qn.InteractableSet=void 0;var Ns=function(){function e(r){var s=this;(function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")})(this,e),Lr(this,"list",[]),Lr(this,"selectorMap",{}),Lr(this,"scope",void 0),this.scope=r,r.addListeners({"interactable:unset":function(l){var h=l.interactable,d=h.target,f=h._context,v=g.default.string(d)?s.selectorMap[d]:d[s.scope.id],m=te.findIndex(v,function(_){return _.context===f});v[m]&&(v[m].context=null,v[m].interactable=null),v.splice(m,1)}})}var t,n;return t=e,(n=[{key:"new",value:function(r,s){s=(0,z.default)(s||{},{actions:this.scope.actions});var l=new this.scope.Interactable(r,s,this.scope.document,this.scope.events),h={context:l._context,interactable:l};return this.scope.addDocument(l._doc),this.list.push(l),g.default.string(r)?(this.selectorMap[r]||(this.selectorMap[r]=[]),this.selectorMap[r].push(h)):(l.target[this.scope.id]||Object.defineProperty(r,this.scope.id,{value:[],configurable:!0}),r[this.scope.id].push(h)),this.scope.fire("interactable:new",{target:r,options:s,interactable:l,win:this.scope._win}),l}},{key:"get",value:function(r,s){var l=s&&s.context||this.scope.document,h=g.default.string(r),d=h?this.selectorMap[r]:r[this.scope.id];if(!d)return null;var f=te.find(d,function(v){return v.context===l&&(h||v.interactable.inContext(r))});return f&&f.interactable}},{key:"forEachMatch",value:function(r,s){for(var l=0;l<this.list.length;l++){var h=this.list[l],d=void 0;if((g.default.string(h.target)?g.default.element(r)&&Z.matchesSelector(r,h.target):r===h.target)&&h.inContext(r)&&(d=s(h)),d!==void 0)return d}}}])&&$s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();qn.InteractableSet=Ns;var Xn={};function Zs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var l,h,d=[],f=!0,v=!1;try{for(s=s.call(n);!(f=(l=s.next()).done)&&(d.push(l.value),!r||d.length!==r);f=!0);}catch(m){v=!0,h=m}finally{try{f||s.return==null||s.return()}finally{if(v)throw h}}return d}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Yi(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Yi(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.default=void 0;var Ls=function(){function e(r){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),Vr(this,"currentTarget",void 0),Vr(this,"originalEvent",void 0),Vr(this,"type",void 0),this.originalEvent=r,(0,G.default)(this,r)}var t,n;return t=e,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Zs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function sn(e){if(!g.default.object(e))return{capture:!!e,passive:!1};var t=(0,z.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var Vs={id:"events",install:function(e){var t,n=[],r={},s=[],l={add:h,remove:d,addDelegate:function(m,_,w,x,b){var S=sn(b);if(!r[w]){r[w]=[];for(var j=0;j<s.length;j++){var T=s[j];h(T,w,f),h(T,w,v,!0)}}var A=r[w],D=te.find(A,function(U){return U.selector===m&&U.context===_});D||(D={selector:m,context:_,listeners:[]},A.push(D)),D.listeners.push([x,S])},removeDelegate:function(m,_,w,x,b){var S,j=sn(b),T=r[w],A=!1;if(T)for(S=T.length-1;S>=0;S--){var D=T[S];if(D.selector===m&&D.context===_){for(var U=D.listeners,K=U.length-1;K>=0;K--){var ie=Wr(U[K],2),X=ie[0],re=ie[1],je=re.capture,He=re.passive;if(X===x&&je===j.capture&&He===j.passive){U.splice(K,1),U.length||(T.splice(S,1),d(_,w,f),d(_,w,v,!0)),A=!0;break}}if(A)break}}},delegateListener:f,delegateUseCapture:v,delegatedEvents:r,documents:s,targets:n,supportsOptions:!1,supportsPassive:!1};function h(m,_,w,x){var b=sn(x),S=te.find(n,function(j){return j.eventTarget===m});S||(S={eventTarget:m,events:{}},n.push(S)),S.events[_]||(S.events[_]=[]),m.addEventListener&&!te.contains(S.events[_],w)&&(m.addEventListener(_,w,l.supportsOptions?b:b.capture),S.events[_].push(w))}function d(m,_,w,x){var b=sn(x),S=te.findIndex(n,function(K){return K.eventTarget===m}),j=n[S];if(j&&j.events)if(_!=="all"){var T=!1,A=j.events[_];if(A){if(w==="all"){for(var D=A.length-1;D>=0;D--)d(m,_,A[D],b);return}for(var U=0;U<A.length;U++)if(A[U]===w){m.removeEventListener(_,w,l.supportsOptions?b:b.capture),A.splice(U,1),A.length===0&&(delete j.events[_],T=!0);break}}T&&!Object.keys(j.events).length&&n.splice(S,1)}else for(_ in j.events)j.events.hasOwnProperty(_)&&d(m,_,"all")}function f(m,_){for(var w=sn(_),x=new Ls(m),b=r[m.type],S=Wr(O.getEventTargets(m),1)[0],j=S;g.default.element(j);){for(var T=0;T<b.length;T++){var A=b[T],D=A.selector,U=A.context;if(Z.matchesSelector(j,D)&&Z.nodeContains(U,S)&&Z.nodeContains(U,j)){var K=A.listeners;x.currentTarget=j;for(var ie=0;ie<K.length;ie++){var X=Wr(K[ie],2),re=X[0],je=X[1],He=je.capture,si=je.passive;He===w.capture&&si===w.passive&&re(x)}}}j=Z.parentNode(j)}}function v(m){return f(m,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return l.supportsOptions=!0},get passive(){return l.supportsPassive=!0}}),e.events=l,l}};Xn.default=Vs;var Hn={};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.default=void 0;var Kn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Kn.methodOrder.length;t++){var n;n=Kn.methodOrder[t];var r=Kn[n](e);if(r)return r}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,s=e.scope;if(!/down|start/i.test(n))return null;for(var l=0;l<s.interactions.list.length;l++){var h=s.interactions.list[l],d=r;if(h.simulation&&h.simulation.allowResume&&h.pointerType===t)for(;d;){if(d===h.element)return h;d=Z.parentNode(d)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,s=e.eventType,l=e.scope;if(r!=="mouse"&&r!=="pen")return null;for(var h=0;h<l.interactions.list.length;h++){var d=l.interactions.list[h];if(d.pointerType===r){if(d.simulation&&!qi(d,n))continue;if(d.interacting())return d;t||(t=d)}}if(t)return t;for(var f=0;f<l.interactions.list.length;f++){var v=l.interactions.list[f];if(!(v.pointerType!==r||/down/i.test(s)&&v.simulation))return v}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,r=0;r<n.interactions.list.length;r++){var s=n.interactions.list[r];if(qi(s,t))return s}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,r=0;r<n.interactions.list.length;r++){var s=n.interactions.list[r];if(s.pointers.length===1){var l=s.interactable;if(l&&(!l.options.gesture||!l.options.gesture.enabled))continue}else if(s.pointers.length>=2)continue;if(!s.interacting()&&t===s.pointerType)return s}return null}};function qi(e,t){return e.pointers.some(function(n){return n.id===t})}var Ws=Kn;Hn.default=Ws;var Jn={};function Br(e){return Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Br(e)}function Xi(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var l,h,d=[],f=!0,v=!1;try{for(s=s.call(n);!(f=(l=s.next()).done)&&(d.push(l.value),!r||d.length!==r);f=!0);}catch(m){v=!0,h=m}finally{try{f||s.return==null||s.return()}finally{if(v)throw h}}return d}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Hi(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Hi(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ur(e,t){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ur(e,t)}function Fs(e,t){if(t&&(Br(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Qn(e){return Qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Qn(e)}Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.default=void 0;var Fr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ki(e,t){return function(n){var r=t.interactions.list,s=O.getPointerType(n),l=Xi(O.getEventTargets(n),2),h=l[0],d=l[1],f=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var v=0;v<n.changedTouches.length;v++){var m=n.changedTouches[v],_={pointer:m,pointerId:O.getPointerId(m),pointerType:s,eventType:n.type,eventTarget:h,curEventTarget:d,scope:t},w=Ji(_);f.push([_.pointer,_.eventTarget,_.curEventTarget,w])}}else{var x=!1;if(!ge.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var b=0;b<r.length&&!x;b++)x=r[b].pointerType!=="mouse"&&r[b].pointerIsDown;x=x||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!x){var S={pointer:n,pointerId:O.getPointerId(n),pointerType:s,eventType:n.type,curEventTarget:d,eventTarget:h,scope:t},j=Ji(S);f.push([S.pointer,S.eventTarget,S.curEventTarget,j])}}for(var T=0;T<f.length;T++){var A=Xi(f[T],4),D=A[0],U=A[1],K=A[2];A[3][e](D,n,U,K)}}}function Ji(e){var t=e.pointerType,n=e.scope,r={interaction:Hn.default.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function Gr(e,t){var n=e.doc,r=e.scope,s=e.options,l=r.interactions.docEvents,h=r.events,d=h[t];for(var f in r.browser.isIOS&&!s.events&&(s.events={passive:!1}),h.delegatedEvents)d(n,f,h.delegateListener),d(n,f,h.delegateUseCapture,!0);for(var v=s&&s.events,m=0;m<l.length;m++){var _=l[m];d(n,_.type,_.listener,v)}}var Gs={id:"core/interactions",install:function(e){for(var t={},n=0;n<Fr.length;n++){var r=Fr[n];t[r]=Ki(r,e)}var s,l=ge.default.pEventTypes;function h(){for(var d=0;d<e.interactions.list.length;d++){var f=e.interactions.list[d];if(f.pointerIsDown&&f.pointerType==="touch"&&!f._interacting)for(var v=function(){var _=f.pointers[m];e.documents.some(function(w){var x=w.doc;return(0,Z.nodeContains)(x,_.downTarget)})||f.removePointer(_.pointer,_.event)},m=0;m<f.pointers.length;m++)v()}}(s=Q.default.PointerEvent?[{type:l.down,listener:h},{type:l.down,listener:t.pointerDown},{type:l.move,listener:t.pointerMove},{type:l.up,listener:t.pointerUp},{type:l.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:h},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(d){for(var f=0;f<e.interactions.list.length;f++)e.interactions.list[f].documentBlur(d)}}),e.prevTouchTime=0,e.Interaction=function(d){(function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),S&&Ur(b,S)})(x,d);var f,v,m,_,w=(m=x,_=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,S=Qn(m);if(_){var j=Qn(this).constructor;b=Reflect.construct(S,arguments,j)}else b=S.apply(this,arguments);return Fs(this,b)});function x(){return Bs(this,x),w.apply(this,arguments)}return f=x,(v=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(b){e.interactions.pointerMoveTolerance=b}},{key:"_now",value:function(){return e.now()}}])&&Us(f.prototype,v),Object.defineProperty(f,"prototype",{writable:!1}),x}(Se.default),e.interactions={list:[],new:function(d){d.scopeFire=function(v,m){return e.fire(v,m)};var f=new e.Interaction(d);return e.interactions.list.push(f),f},listeners:t,docEvents:s,pointerMoveTolerance:1},e.usePlugin(ft.default)},listeners:{"scope:add-document":function(e){return Gr(e,"add")},"scope:remove-document":function(e){return Gr(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var s=t.interactions.list[r];s.interactable===n&&(s.stop(),t.fire("interactions:destroy",{interaction:s}),s.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:Gr,doOnInteractions:Ki,methodNames:Fr},Ys=Gs;Jn.default=Ys;var an={};function Yr(e){return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yr(e)}function ln(){return ln=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=qs(e,t);if(r){var s=Object.getOwnPropertyDescriptor(r,t);return s.get?s.get.call(arguments.length<3?e:n):s.value}},ln.apply(this,arguments)}function qs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=tt(e))!==null;);return e}function qr(e,t){return qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},qr(e,t)}function Xs(e,t){if(t&&(Yr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tt(e)}function Qi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function to(e,t,n){return t&&eo(e.prototype,t),n&&eo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(an,"__esModule",{value:!0}),an.Scope=void 0,an.initScope=no;var Hs=function(){function e(){var t=this;Qi(this,e),me(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),me(this,"isInitialized",!1),me(this,"listenerMaps",[]),me(this,"browser",ge.default),me(this,"defaults",(0,ht.default)(Jt.defaults)),me(this,"Eventable",nn.Eventable),me(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),me(this,"interactStatic",(0,Zr.createInteractStatic)(this)),me(this,"InteractEvent",Qt.InteractEvent),me(this,"Interactable",void 0),me(this,"interactables",new qn.InteractableSet(this)),me(this,"_win",void 0),me(this,"document",void 0),me(this,"window",void 0),me(this,"documents",[]),me(this,"_plugins",{list:[],map:{}}),me(this,"onWindowUnload",function(r){return t.removeDocument(r.target)});var n=this;this.Interactable=function(r){(function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),v&&qr(f,v)})(d,r);var s,l,h=(s=d,l=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var f,v=tt(s);if(l){var m=tt(this).constructor;f=Reflect.construct(v,arguments,m)}else f=v.apply(this,arguments);return Xs(this,f)});function d(){return Qi(this,d),h.apply(this,arguments)}return to(d,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(f){return ln(tt(d.prototype),"set",this).call(this,f),n.fire("interactable:set",{options:f,interactable:this}),this}},{key:"unset",value:function(){ln(tt(d.prototype),"unset",this).call(this);var f=n.interactables.list.indexOf(this);f<0||(ln(tt(d.prototype),"unset",this).call(this),n.interactables.list.splice(f,1),n.fire("interactable:unset",{interactable:this}))}}]),d}(Yn.Interactable)}return to(e,[{key:"addListeners",value:function(t,n){this.listenerMaps.push({id:n,map:t})}},{key:"fire",value:function(t,n){for(var r=0;r<this.listenerMaps.length;r++){var s=this.listenerMaps[r].map[t];if(s&&s(n,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:no(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){for(var r=0,s=this.listenerMaps.length,l=t.before.reduce(function(d,f){return d[f]=!0,d[ro(f)]=!0,d},{});r<s;r++){var h=this.listenerMaps[r].id;if(l[h]||l[ro(h)])break}this.listenerMaps.splice(r,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,n){if(this.getDocIndex(t)!==-1)return!1;var r=a.getWindow(t);n=n?(0,z.default)({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(t){var n=this.getDocIndex(t),r=a.getWindow(t),s=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:r,scope:this,options:s})}},{key:"getDocIndex",value:function(t){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}},{key:"getDocOptions",value:function(t){var n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function no(e,t){return e.isInitialized=!0,g.default.window(t)&&a.init(t),Q.default.init(t),ge.default.init(t),Ie.default.init(t),e.window=t,e.document=t.document,e.usePlugin(Jn.default),e.usePlugin(Xn.default),e}function ro(e){return e&&e.replace(/\/.*$/,"")}an.Scope=Hs;var _e={};Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var io=new an.Scope,Ks=io.interactStatic;_e.default=Ks;var Js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;io.init(Js);var er={};Object.defineProperty(er,"__esModule",{value:!0}),er.default=void 0,er.default=function(){};var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0,tr.default=function(){};var nr={};function oo(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var l,h,d=[],f=!0,v=!1;try{for(s=s.call(n);!(f=(l=s.next()).done)&&(d.push(l.value),!r||d.length!==r);f=!0);}catch(m){v=!0,h=m}finally{try{f||s.return==null||s.return()}finally{if(v)throw h}}return d}}(e,t)||function(n,r){if(n){if(typeof n=="string")return so(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?so(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function so(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0,nr.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(r){var s=oo(r,2),l=s[0],h=s[1];return l in e||h in e}),n=function(r,s){for(var l=e.range,h=e.limits,d=h===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:h,f=e.offset,v=f===void 0?{x:0,y:0}:f,m={range:l,grid:e,x:null,y:null},_=0;_<t.length;_++){var w=oo(t[_],2),x=w[0],b=w[1],S=Math.round((r-v.x)/e[x]),j=Math.round((s-v.y)/e[b]);m[x]=Math.max(d.left,Math.min(d.right,S*e[x]+v.x)),m[b]=Math.max(d.top,Math.min(d.bottom,j*e[b]+v.y))}return m};return n.grid=e,n.coordFields=t,n};var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),Object.defineProperty(cn,"edgeTarget",{enumerable:!0,get:function(){return er.default}}),Object.defineProperty(cn,"elements",{enumerable:!0,get:function(){return tr.default}}),Object.defineProperty(cn,"grid",{enumerable:!0,get:function(){return nr.default}});var rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=void 0;var Qs={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,z.default)(t.snappers||{},cn),t.createSnapGrid=t.snappers.grid}},ea=Qs;rr.default=ea;var Dt={};function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ao(Object(n),!0).forEach(function(r){ta(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.default=Dt.aspectRatio=void 0;var lo={start:function(e){var t=e.state,n=e.rect,r=e.edges,s=e.pageCoords,l=t.options,h=l.ratio,d=l.enabled,f=t.options,v=f.equalDelta,m=f.modifiers;h==="preserve"&&(h=n.width/n.height),t.startCoords=(0,z.default)({},s),t.startRect=(0,z.default)({},n),t.ratio=h,t.equalDelta=v;var _=t.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(t.xIsPrimaryAxis=!(!r.left&&!r.right),t.equalDelta){var w=(_.left?1:-1)*(_.top?1:-1);t.edgeSign={x:w,y:w}}else t.edgeSign={x:_.left?-1:1,y:_.top?-1:1};if(d!==!1&&(0,z.default)(r,_),m!=null&&m.length){var x=new gt.default(e.interaction);x.copyFrom(e.interaction.modification),x.prepareStates(m),t.subModification=x,x.startAll(Xr({},e))}},set:function(e){var t=e.state,n=e.rect,r=e.coords,s=t.linkedEdges,l=(0,z.default)({},r),h=t.equalDelta?na:ra;if((0,z.default)(e.edges,s),h(t,t.xIsPrimaryAxis,r,n),!t.subModification)return null;var d=(0,z.default)({},n);(0,ee.addEdges)(s,d,{x:r.x-l.x,y:r.y-l.y});var f=t.subModification.setAll(Xr(Xr({},e),{},{rect:d,edges:s,pageCoords:r,prevCoords:r,prevRect:d})),v=f.delta;return f.changed&&(h(t,Math.abs(v.x)>Math.abs(v.y),f.coords,f.rect),(0,z.default)(r,f.coords)),f.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function na(e,t,n){var r=e.startCoords,s=e.edgeSign;t?n.y=r.y+(n.x-r.x)*s.y:n.x=r.x+(n.y-r.y)*s.x}function ra(e,t,n,r){var s=e.startRect,l=e.startCoords,h=e.ratio,d=e.edgeSign;if(t){var f=r.width/h;n.y=l.y+(f-s.height)*d.y}else{var v=r.height*h;n.x=l.x+(v-s.width)*d.x}}Dt.aspectRatio=lo;var ia=(0,ve.makeModifier)(lo,"aspectRatio");Dt.default=ia;var mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.default=void 0;var co=function(){};co._defaults={};var oa=co;mt.default=oa;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Object.defineProperty(Hr,"default",{enumerable:!0,get:function(){return mt.default}});var ke={};function Kr(e,t,n){return g.default.func(e)?ee.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):ee.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(ke,"__esModule",{value:!0}),ke.default=void 0,ke.getRestrictionRect=Kr,ke.restrict=void 0;var uo={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,s=e.interaction,l=e.pageCoords,h=r.options,d=h.elementRect,f=(0,z.default)({left:0,top:0,right:0,bottom:0},h.offset||{});if(t&&d){var v=Kr(h.restriction,s,l);if(v){var m=v.right-v.left-t.width,_=v.bottom-v.top-t.height;m<0&&(f.left+=m,f.right+=m),_<0&&(f.top+=_,f.bottom+=_)}f.left+=n.left-t.width*d.left,f.top+=n.top-t.height*d.top,f.right+=n.right-t.width*(1-d.right),f.bottom+=n.bottom-t.height*(1-d.bottom)}r.offset=f},set:function(e){var t=e.coords,n=e.interaction,r=e.state,s=r.options,l=r.offset,h=Kr(s.restriction,n,t);if(h){var d=ee.xywhToTlbr(h);t.x=Math.max(Math.min(d.right-l.right,t.x),d.left+l.left),t.y=Math.max(Math.min(d.bottom-l.bottom,t.y),d.top+l.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};ke.restrict=uo;var sa=(0,ve.makeModifier)(uo,"restrict");ke.default=sa;var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.restrictEdges=Le.default=void 0;var po={top:1/0,left:1/0,bottom:-1/0,right:-1/0},fo={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function ho(e,t){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var s=n[r];s in e||(e[s]=t[s])}return e}var go={noInner:po,noOuter:fo,start:function(e){var t,n=e.interaction,r=e.startOffset,s=e.state,l=s.options;if(l){var h=(0,ke.getRestrictionRect)(l.offset,n,n.coords.start.page);t=ee.rectToXY(h)}t=t||{x:0,y:0},s.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,s=e.state,l=s.offset,h=s.options;if(n){var d=(0,z.default)({},t),f=(0,ke.getRestrictionRect)(h.inner,r,d)||{},v=(0,ke.getRestrictionRect)(h.outer,r,d)||{};ho(f,po),ho(v,fo),n.top?t.y=Math.min(Math.max(v.top+l.top,d.y),f.top+l.top):n.bottom&&(t.y=Math.max(Math.min(v.bottom+l.bottom,d.y),f.bottom+l.bottom)),n.left?t.x=Math.min(Math.max(v.left+l.left,d.x),f.left+l.left):n.right&&(t.x=Math.max(Math.min(v.right+l.right,d.x),f.right+l.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Le.restrictEdges=go;var aa=(0,ve.makeModifier)(go,"restrictEdges");Le.default=aa;var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.restrictRect=$t.default=void 0;var la=(0,z.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},ke.restrict.defaults),vo={start:ke.restrict.start,set:ke.restrict.set,defaults:la};$t.restrictRect=vo;var ca=(0,ve.makeModifier)(vo,"restrictRect");$t.default=ca;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.restrictSize=Nt.default=void 0;var da={width:-1/0,height:-1/0},ua={width:1/0,height:1/0},mo={start:function(e){return Le.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,s=e.edges,l=n.options;if(s){var h=ee.tlbrToXywh((0,ke.getRestrictionRect)(l.min,t,e.coords))||da,d=ee.tlbrToXywh((0,ke.getRestrictionRect)(l.max,t,e.coords))||ua;n.options={endOnly:l.endOnly,inner:(0,z.default)({},Le.restrictEdges.noInner),outer:(0,z.default)({},Le.restrictEdges.noOuter)},s.top?(n.options.inner.top=r.bottom-h.height,n.options.outer.top=r.bottom-d.height):s.bottom&&(n.options.inner.bottom=r.top+h.height,n.options.outer.bottom=r.top+d.height),s.left?(n.options.inner.left=r.right-h.width,n.options.outer.left=r.right-d.width):s.right&&(n.options.inner.right=r.left+h.width,n.options.outer.right=r.left+d.width),Le.restrictEdges.set(e),n.options=l}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Nt.restrictSize=mo;var pa=(0,ve.makeModifier)(mo,"restrictSize");Nt.default=pa;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0}),Object.defineProperty(Jr,"default",{enumerable:!0,get:function(){return mt.default}});var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.snap=nt.default=void 0;var yo={start:function(e){var t,n=e.interaction,r=e.interactable,s=e.element,l=e.rect,h=e.state,d=e.startOffset,f=h.options,v=f.offsetWithOrigin?function(w){var x=w.interaction.element;return(0,ee.rectToXY)((0,ee.resolveRectLike)(w.state.options.origin,null,null,[x]))||(0,Me.default)(w.interactable,x,w.interaction.prepared.name)}(e):{x:0,y:0};if(f.offset==="startCoords")t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var m=(0,ee.resolveRectLike)(f.offset,r,s,[n]);(t=(0,ee.rectToXY)(m)||{x:0,y:0}).x+=v.x,t.y+=v.y}var _=f.relativePoints;h.offsets=l&&_&&_.length?_.map(function(w,x){return{index:x,relativePoint:w,x:d.left-l.width*w.x+t.x,y:d.top-l.height*w.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,s=r.options,l=r.offsets,h=(0,Me.default)(t.interactable,t.element,t.prepared.name),d=(0,z.default)({},n),f=[];s.offsetWithOrigin||(d.x-=h.x,d.y-=h.y);for(var v=0;v<l.length;v++)for(var m=l[v],_=d.x-m.x,w=d.y-m.y,x=0,b=s.targets.length;x<b;x++){var S,j=s.targets[x];(S=g.default.func(j)?j(_,w,t._proxy,m,x):j)&&f.push({x:(g.default.number(S.x)?S.x:_)+m.x,y:(g.default.number(S.y)?S.y:w)+m.y,range:g.default.number(S.range)?S.range:s.range,source:j,index:x,offset:m})}for(var T={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},A=0;A<f.length;A++){var D=f[A],U=D.range,K=D.x-d.x,ie=D.y-d.y,X=(0,B.default)(K,ie),re=X<=U;U===1/0&&T.inRange&&T.range!==1/0&&(re=!1),T.target&&!(re?T.inRange&&U!==1/0?X/U<T.distance/T.range:U===1/0&&T.range!==1/0||X<T.distance:!T.inRange&&X<T.distance)||(T.target=D,T.distance=X,T.range=U,T.inRange=re,T.delta.x=K,T.delta.y=ie)}return T.inRange&&(n.x=T.target.x,n.y=T.target.y),r.closest=T,T},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};nt.snap=yo;var fa=(0,ve.makeModifier)(yo,"snap");nt.default=fa;var Xe={};function _o(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.snapSize=Xe.default=void 0;var bo={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],nt.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,n,r=e.interaction,s=e.state,l=e.coords,h=s.options,d=s.offsets,f={x:l.x-d[0].x,y:l.y-d[0].y};s.options=(0,z.default)({},h),s.options.targets=[];for(var v=0;v<(h.targets||[]).length;v++){var m=(h.targets||[])[v],_=void 0;if(_=g.default.func(m)?m(f.x,f.y,r):m){for(var w=0;w<s.targetFields.length;w++){var x=(t=s.targetFields[w],n=2,function(T){if(Array.isArray(T))return T}(t)||function(T,A){var D=T==null?null:typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(D!=null){var U,K,ie=[],X=!0,re=!1;try{for(D=D.call(T);!(X=(U=D.next()).done)&&(ie.push(U.value),!A||ie.length!==A);X=!0);}catch(je){re=!0,K=je}finally{try{X||D.return==null||D.return()}finally{if(re)throw K}}return ie}}(t,n)||function(T,A){if(T){if(typeof T=="string")return _o(T,A);var D=Object.prototype.toString.call(T).slice(8,-1);return D==="Object"&&T.constructor&&(D=T.constructor.name),D==="Map"||D==="Set"?Array.from(T):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?_o(T,A):void 0}}(t,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),b=x[0],S=x[1];if(b in _||S in _){_.x=_[b],_.y=_[S];break}}s.options.targets.push(_)}}var j=nt.snap.set(e);return s.options=h,j},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Xe.snapSize=bo;var ha=(0,ve.makeModifier)(bo,"snapSize");Xe.default=ha;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.snapEdges=Zt.default=void 0;var wo={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Xe.snapSize.start(e)):null},set:Xe.snapSize.set,defaults:(0,z.default)((0,ht.default)(Xe.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Zt.snapEdges=wo;var ga=(0,ve.makeModifier)(wo,"snapEdges");Zt.default=ga;var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0}),Object.defineProperty(Qr,"default",{enumerable:!0,get:function(){return mt.default}});var ei={};Object.defineProperty(ei,"__esModule",{value:!0}),Object.defineProperty(ei,"default",{enumerable:!0,get:function(){return mt.default}});var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=void 0;var va={aspectRatio:Dt.default,restrictEdges:Le.default,restrict:ke.default,restrictRect:$t.default,restrictSize:Nt.default,snapEdges:Zt.default,snap:nt.default,snapSize:Xe.default,spring:Qr.default,avoid:Hr.default,transform:ei.default,rubberband:Jr.default};Lt.default=va;var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.default=void 0;var ma={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(ve.default),e.usePlugin(rr.default),t.modifiers=Lt.default,Lt.default){var r=Lt.default[n],s=r._defaults,l=r._methods;s._methods=l,e.defaults.perAction[n]=s}}},ya=ma;dn.default=ya;var yt={};function ti(e){return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(e)}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(e,t){return ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ni(e,t)}function ba(e,t){if(t&&(ti(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ri(e)}function ri(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ir(e){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ir(e)}Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=yt.PointerEvent=void 0;var wa=function(e){(function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");d.prototype=Object.create(f&&f.prototype,{constructor:{value:d,writable:!0,configurable:!0}}),Object.defineProperty(d,"prototype",{writable:!1}),f&&ni(d,f)})(h,e);var t,n,r,s,l=(r=h,s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var d,f=ir(r);if(s){var v=ir(this).constructor;d=Reflect.construct(f,arguments,v)}else d=f.apply(this,arguments);return ba(this,d)});function h(d,f,v,m,_,w){var x;if(function(j,T){if(!(j instanceof T))throw new TypeError("Cannot call a class as a function")}(this,h),x=l.call(this,_),O.pointerExtend(ri(x),v),v!==f&&O.pointerExtend(ri(x),f),x.timeStamp=w,x.originalEvent=v,x.type=d,x.pointerId=O.getPointerId(f),x.pointerType=O.getPointerType(f),x.target=m,x.currentTarget=null,d==="tap"){var b=_.getPointerIndex(f);x.dt=x.timeStamp-_.pointers[b].downTime;var S=x.timeStamp-_.tapTime;x.double=!!_.prevTap&&_.prevTap.type!=="doubletap"&&_.prevTap.target===x.target&&S<500}else d==="doubletap"&&(x.dt=f.timeStamp-_.tapTime,x.double=!0);return x}return t=h,(n=[{key:"_subtractOrigin",value:function(d){var f=d.x,v=d.y;return this.pageX-=f,this.pageY-=v,this.clientX-=f,this.clientY-=v,this}},{key:"_addOrigin",value:function(d){var f=d.x,v=d.y;return this.pageX+=f,this.pageY+=v,this.clientX+=f,this.clientY+=v,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&_a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(Ze.BaseEvent);yt.PointerEvent=yt.default=wa;var un={};Object.defineProperty(un,"__esModule",{value:!0}),un.default=void 0;var or={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=or,e.defaults.actions.pointerEvents=or.defaults,(0,z.default)(e.actions.phaselessTypes,or.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,s=e.event,l=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&ii(e),rt({interaction:n,pointer:r,event:s,eventTarget:l,type:"move"},t))},"interactions:down":function(e,t){(function(n,r){for(var s=n.interaction,l=n.pointer,h=n.event,d=n.eventTarget,f=n.pointerIndex,v=s.pointers[f].hold,m=Z.getPath(d),_={interaction:s,pointer:l,event:h,eventTarget:d,type:"hold",targets:[],path:m,node:null},w=0;w<m.length;w++){var x=m[w];_.node=x,r.fire("pointerEvents:collect-targets",_)}if(_.targets.length){for(var b=1/0,S=0;S<_.targets.length;S++){var j=_.targets[S].eventable.options.holdDuration;j<b&&(b=j)}v.duration=b,v.timeout=setTimeout(function(){rt({interaction:s,eventTarget:d,pointer:l,event:h,type:"hold"},r)},b)}})(e,t),rt(e,t)},"interactions:up":function(e,t){ii(e),rt(e,t),function(n,r){var s=n.interaction,l=n.pointer,h=n.event,d=n.eventTarget;s.pointerWasMoved||rt({interaction:s,eventTarget:d,pointer:l,event:h,type:"tap"},r)}(e,t)},"interactions:cancel":function(e,t){ii(e),rt(e,t)}},PointerEvent:yt.PointerEvent,fire:rt,collectEventTargets:xo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function rt(e,t){var n=e.interaction,r=e.pointer,s=e.event,l=e.eventTarget,h=e.type,d=e.targets,f=d===void 0?xo(e,t):d,v=new yt.PointerEvent(h,r,s,l,n,t.now());t.fire("pointerEvents:new",{pointerEvent:v});for(var m={interaction:n,pointer:r,event:s,eventTarget:l,targets:f,type:h,pointerEvent:v},_=0;_<f.length;_++){var w=f[_];for(var x in w.props||{})v[x]=w.props[x];var b=(0,Me.default)(w.eventable,w.node);if(v._subtractOrigin(b),v.eventable=w.eventable,v.currentTarget=w.node,w.eventable.fire(v),v._addOrigin(b),v.immediatePropagationStopped||v.propagationStopped&&_+1<f.length&&f[_+1].node!==v.currentTarget)break}if(t.fire("pointerEvents:fired",m),h==="tap"){var S=v.double?rt({interaction:n,pointer:r,event:s,eventTarget:l,type:"doubletap"},t):v;n.prevTap=S,n.tapTime=S.timeStamp}return v}function xo(e,t){var n=e.interaction,r=e.pointer,s=e.event,l=e.eventTarget,h=e.type,d=n.getPointerIndex(r),f=n.pointers[d];if(h==="tap"&&(n.pointerWasMoved||!f||f.downTarget!==l))return[];for(var v=Z.getPath(l),m={interaction:n,pointer:r,event:s,eventTarget:l,type:h,path:v,targets:[],node:null},_=0;_<v.length;_++){var w=v[_];m.node=w,t.fire("pointerEvents:collect-targets",m)}return h==="hold"&&(m.targets=m.targets.filter(function(x){var b;return x.eventable.options.holdDuration===((b=n.pointers[d])==null?void 0:b.hold.duration)})),m.targets}function ii(e){var t=e.interaction,n=e.pointerIndex,r=t.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var xa=or;un.default=xa;var sr={};function ka(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(sr,"__esModule",{value:!0}),sr.default=void 0;var Ea={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(un.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=ka,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,s=e.eventTarget,l=e.targets;if(r.type==="hold"&&l.length){var h=l[0].eventable.options.holdRepeatInterval;h<=0||(n.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:n,eventTarget:s,type:"hold",pointer:r,event:r},t)},h))}}})},Oa=Ea;sr.default=Oa;var ar={};function Sa(e){return(0,z.default)(this.events.options,e),this}Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var Ta={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Sa;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(r,s){var l=n.call(this,r,s);return l===this&&(this.events.options[r]=s),l}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,s=e.type,l=e.eventTarget;t.interactables.forEachMatch(r,function(h){var d=h.events,f=d.options;d.types[s]&&d.types[s].length&&h.testIgnoreAllow(f,r,l)&&n.push({node:r,eventable:d,props:{interactable:h}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(n){return t.getRect(n)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;(0,z.default)(n.events.options,t.pointerEvents.defaults),(0,z.default)(n.events.options,r.pointerEvents||{})}}},Pa=Ta;ar.default=Pa;var pn={};Object.defineProperty(pn,"__esModule",{value:!0}),pn.default=void 0;var ja={id:"pointer-events",install:function(e){e.usePlugin(un),e.usePlugin(sr.default),e.usePlugin(ar.default)}},Ca=ja;pn.default=Ca;var Vt={};function ko(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(n){return function(r,s,l){for(var h=g.default.string(r.target)?te.from(r._context.querySelectorAll(r.target)):[r.target],d=l.window.Promise,f=d?[]:null,v=function(){var _=h[m],w=r.getRect(_);if(!w)return"break";var x=te.find(l.interactions.list,function(A){return A.interacting()&&A.interactable===r&&A.element===_&&A.prepared.name===s.name}),b=void 0;if(x)x.move(),f&&(b=x._reflowPromise||new d(function(A){x._reflowResolve=A}));else{var S=(0,ee.tlbrToXywh)(w),j={page:{x:S.x,y:S.y},client:{x:S.x,y:S.y},timeStamp:l.now()},T=O.coordsToEvent(j);b=function(A,D,U,K,ie){var X=A.interactions.new({pointerType:"reflow"}),re={interaction:X,event:ie,pointer:ie,eventTarget:U,phase:"reflow"};X.interactable=D,X.element=U,X.prevEvent=ie,X.updatePointer(ie,ie,U,!0),O.setZeroCoords(X.coords.delta),(0,Te.copyAction)(X.prepared,K),X._doPhase(re);var je=A.window.Promise,He=je?new je(function(si){X._reflowResolve=si}):void 0;return X._reflowPromise=He,X.start(K,D,U),X._interacting?(X.move(re),X.end(ie)):(X.stop(),X._reflowResolve()),X.removePointer(ie,ie),He}(l,r,_,s,T)}f&&f.push(b)},m=0;m<h.length&&v()!=="break";m++);return f&&d.all(f).then(function(){return r})}(this,n,e)}}Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.default=void 0,Vt.install=ko;var Ma={id:"reflow",install:ko,listeners:{"interactions:stop":function(e,t){var n=e.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),te.remove(t.interactions.list,n))}}},Ia=Ma;Vt.default=Ia;var _t={};Object.defineProperty(_t,"__esModule",{value:!0}),_t.default=void 0,_e.default.use(ft.default),_e.default.use(et.default),_e.default.use(pn.default),_e.default.use(vt.default),_e.default.use(dn.default),_e.default.use(Ht.default),_e.default.use(qt.default),_e.default.use(Ye.default),_e.default.use(Vt.default);var Aa=_e.default;_t.default=Aa,_e.default.default=_e.default,qt.default,Ye.default,Ht.default,ft.default,Ln.default,vt.default,_e.default,dn.default,et.default,pn.default,Vt.default;var bt={exports:{}};function oi(e){return oi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oi(e)}Object.defineProperty(bt.exports,"__esModule",{value:!0}),bt.exports.default=void 0;var za=_t.default;if(bt.exports.default=za,oi(bt)==="object"&&bt)try{bt.exports=_t.default}catch{}return _t.default.default=_t.default,bt.exports})})(Wo);var fc=Wo.exports;const dr=pc(fc),hc=c=>{var i=c.target,o=(parseFloat(i.getAttribute("data-left"))||0)+c.dx,a=(parseFloat(i.getAttribute("data-top"))||0)+c.dy;i.style.transform="translate("+o+"px, "+a+"px)",i.setAttribute("data-left",o),i.setAttribute("data-top",a)};class gc extends he{constructor(o){const a=document.createElement("div");super(a);R(this,"page_id");R(this,"store");R(this,"page_frame");R(this,"snap_to_grid",!0);R(this,"snap_precision",8);R(this,"auto_group",!0);R(this,"auto_unmask",!0);R(this,"multi_selection_is_active",!1);R(this,"local_selection",new Set);R(this,"tag_along",new Map);R(this,"reorder_widgets_to_unmask",(o,a)=>{const u=this.store.model.pages[this.page_id].properties.zorder||[];let p=[...u];for(const y of o)p=mc(y,a,p);for(const y of o)p=vc(y,a,p);return u.length===p.length&&u.every((y,g)=>y===p[g])?[]:p});a.className="g-designer",ce(a,{display:"flex",overflow:"hidden",position:"relative",userSelect:"none",webkitUserSelect:"none"}),this.page_id="",this.store=o,this.page_frame=document.createElement("div"),dr(".draggable").on("tap",u=>{const p=u.target.getAttribute("data-id");if(!p){console.warn("widget_id not found in on tap",p);return}this.local_selection.has(p)?this.local_selection=new Set:this.local_selection=new Set([p]),this.store.update_widgets_selection(this,this.page_id,[...this.local_selection]),u.preventDefault()}).resizable({allowFrom:".handle",edges:{left:!0,right:!0,bottom:!0,top:!0},listeners:{start:u=>{const p=u.target.getAttribute("data-id");if(!p){console.warn("widget_id not found in resize start");return}this.local_selection=new Set([p])},move(u){var p=u.target,y=parseFloat(p.getAttribute("data-left"))||0,g=parseFloat(p.getAttribute("data-top"))||0;p.style.width=u.rect.width+"px",p.style.height=u.rect.height+"px",y+=u.deltaRect.left,g+=u.deltaRect.top,p.style.transform="translate("+y+"px,"+g+"px)",p.setAttribute("data-left",y),p.setAttribute("data-top",g),p.textContent=Math.round(u.rect.width)+""+Math.round(u.rect.height)},end:u=>{this._update_after_drag({mode:"resize",width:u.rect.width,height:u.rect.height})}},modifiers:[dr.modifiers.restrictEdges({outer:"parent"}),dr.modifiers.restrictSize({min:{width:8,height:8}})],inertia:!0}).draggable({inertia:!1,modifiers:[dr.modifiers.restrictRect({restriction:"parent",endOnly:!0})],autoScroll:!0,listeners:{start:u=>{const p=u.target.getAttribute("data-id");if(!p){console.warn("widget_id not found in drag start");return}this.local_selection=new Set([p])},move:hc,end:u=>{this._update_after_drag({mode:"drag"})}}})}set_children(){this.htmlElement.innerHTML="",this.page_frame=document.createElement("div"),ce(this.page_frame,{display:"flex",overflow:"hidden",position:"relative",backgroundColor:"red",width:"1px",height:"1px"}),this.htmlElement.appendChild(this.page_frame);const o=this.store.model.pages[this.page_id];if(o){{const a=this.store.model.pages[this.page_id].widgets[""].properties;ce(this.page_frame,{width:`${a.width}px`,height:`${a.height}px`,backgroundColor:a.background_color})}for(const a of o.properties.zorder??[]){const u=o.widgets[a];u&&this.addChild(a,u.properties,this.store.widgets_selection.includes(a))}}}addChild(o,a,u=!1){const p=new xt;p.htmlElement.className="draggable",ce(p.htmlElement,{touchAction:"none",userSelect:"none",transform:"translate(0px, 0px)",boxSizing:"border-box"}),this.htmlElement.appendChild(p.htmlElement);const y=N=>{N.width=`${a.width??de.width}px`,N.height=`${a.height??de.height}px`,N.backgroundColor=a.background_color??de.background_color,N.color=a.foreground_color??de.foreground_color,N.borderStyle="solid";const q=a.border_width??de.border_width;N.borderWidth=`${q}px`,N.borderColor=a.border_color??de.border_color};let g=p.htmlElement.style;g.position="absolute",g.overflow="visible",g.left=`${a.left??de.left}px`,g.top=`${a.top??de.top}px`,y(g);const k="10px",E="user-select:none;border-color:black;border-style:solid;border-width:2px;background-color:transparent;",I=`
		<div class="handle" style="${E}position:absolute;width:${k};height:${k};top:calc(-${k} - ${g.borderWidth});left:calc(100% + ${g.borderWidth})"></div>
		<div class="handle" style="${E}position:relative;width:${k};height:${k};top:calc(100% + ${g.borderWidth});left:calc(100% + ${g.borderWidth})"></div>

		<div class="handle" style="${E}position:absolute;width:${k};height:${k};top:calc(-${k} - ${g.borderWidth});left:calc(-${k} - ${g.borderWidth})"></div>
		<div class="handle" style="${E}position:relative;width:${k};height:${k};top:calc(100% - ${k} + ${g.borderWidth});left:calc(-${k} - ${g.borderWidth})"></div>
		`;p.htmlElement.innerHTML=`
		${u?I:""}
		<div class="movable_area" data-id=${o} style="overflow:hidden;user-select:none;background-color:white;position:absolute;top:0;left:0;right:0;bottom:0">
			${(a.label??a.type??"").replaceAll("<","&lt;").replaceAll(">","$gt;").replaceAll("&","&amp;")}
		</div>
		`;const J=p.htmlElement.querySelector(".movable_area");J&&y(J.style),p.htmlElement.setAttribute("data-id",o)}set_current_page(o){this.page_id=o,this.set_children()}pages_changed(o,a,u,p){u.includes(this.page_id)&&this.set_children()}widgets_changed(o,a,u,p,y){if(a===this.page_id)for(const g of[u,p,y])for(const k of g){if(Sn(this.page_id,k)){this.set_children();return}if(k===""){const E=this.store.model.pages[this.page_id].widgets[""].properties;ce(this.page_frame,{width:`${E.width}px`,height:`${E.height}px`,backgroundColor:E.background_color})}}}widgets_selection_changed(o,a,u){a===this.page_id&&this.set_children()}pages_selection_changed(o,a){a.length>0&&a[0]!==this.page_id&&this.set_current_page(a[0])}_update_after_drag(o){const a=[],u=new Set([...this.local_selection]);if(o.mode==="drag")for(const p of this.tag_along)for(const y of p[1])Sn(this.page_id,y)&&u.add(y);for(const p of u){const y=this.htmlElement.querySelector(`[data-id='${p}']`);if(y){const g=this.store.model.pages[this.page_id].widgets[p].properties,k=g.top+parseFloat(y.getAttribute("data-top")??"0"),E=g.left+parseFloat(y.getAttribute("data-left")??"0");o.mode==="drag"?a.push({category:"widget",id:p,properties:{top:k,left:E}}):a.push({category:"widget",id:p,properties:{top:k,left:E,width:o.width,height:o.height}})}}if(this.auto_unmask){const p=new Map(Object.entries(this.store.model.pages[this.page_id].widgets));for(let g=0;g<a.length;g++){const k={...this.store.model.pages[this.page_id].widgets[a[g].id]};k.properties={...k.properties,...a[g].properties},p.set(a[g].id,k)}const y=this.reorder_widgets_to_unmask(u,p);this.store.update_widgets(this,this.page_id,a,y)}else this.store.update_widgets(this,this.page_id,a,[]),this.store.update_widgets_selection(null,this.page_id,[...this.local_selection])}}function Bo(c,i){if(c.properties.left&&i.properties.left&&c.properties.width&&i.properties.width&&c.properties.top&&i.properties.top&&c.properties.height&&i.properties.height){const o=c.properties.left<=i.properties.left&&c.properties.left+c.properties.width>=i.properties.left+i.properties.width,a=c.properties.top<=i.properties.top&&c.properties.top+c.properties.height>=i.properties.top+i.properties.height;return o&&a}return!1}const vc=(c,i,o)=>{const a=o.findIndex(y=>y===c);if(a===-1)return o;const u=i.get(c);let p=a;for(let y=a+1;y<o.length;y++){const g=i.get(o[y]);Bo(g,u)&&(p=y)}if(p===a)return o;{const y=o.slice(0,a),g=o.slice(a+1,p+1),k=[c],E=o.slice(p+1);return[].concat(y,g,k,E)}},mc=(c,i,o)=>{const a=yc(c,i,o);if(a.length===0)return o;const u=o.findIndex(y=>y===a.slice(-1)[0]);let p=[];for(let y=0;y<o.length;y++)y<u?p.push(o[y]):y===u?(p.push(c),p.push(o[y])):o[y]!==c&&p.push(o[y]);return p},yc=(c,i,o)=>{const a=i.get(c);let u=[];const p=o.findIndex(y=>y===c);if(p===-1)return u;for(let y=p-1;y>=0;y--){const g=i.get(o[y]);Bo(a,g)&&u.push(o[y])}return u};class _c extends tc{new_page(){const i={category:"widget",id:"",properties:{...de,type:"",label:"page",width:this.model.properties.width,height:this.model.properties.height,background_color:"#e6e6e6"}};this.add_pages(null,[{category:"Page",properties:{...Vo()},widgets:{"":i}}])}}const bc=c=>{c.style.backgroundColor="lightgray";const i=new _c;i.new_page();const o=Object.keys(i.model.pages)[0],a=new gc(i);a.setWidth(740),a.setHeight(580),a.setBackgroundColor("darkgrey"),a.set_current_page(o),i.register_interest(a);let u=B=>{};const p=new ic(i).setWidth(100,"%").setHeight(100,"%"),y=new he(c),g=$a("horizontal","start","start",8);y.setLayout(g);const k="showOpenFilePicker"in window;let E=null;const I=async()=>{if(!("showOpenFilePicker"in window))return;let B;[B]=await window.showOpenFilePicker();const O=await(await B.getFile()).text();u(Po(O)),E=B},J=async()=>{if(!("showSaveFilePicker"in window))return;if(E===null){const G={types:[{description:"Wireframe Project File",accept:{"text/plain":[".txt"]}}],multiple:!1};E=await window.showSaveFilePicker(G)}const B=await E.createWritable();await B.write(JSON.stringify(i.model)),await B.close()},N=new La;let q="";N.onChange((B,G)=>{if(G.length===0)return;let O=new FileReader;q=G[0].name,O.readAsText(G[0]),O.onload=()=>{O.result&&u(Po(O.result.toString()))},O.onerror=function(){console.log(O.error)}});const Be=new Ee("Save a copy"),Pe=kr();Be.onClick(()=>{q=q||"new wireframe project.txt";const B={type:"text/plain"},G=new File([JSON.stringify(i.model)],q,B);let O=document.getElementById(Pe);if(O||(O=document.createElement("a"),c.appendChild(O)),!O){console.error("cannot create link for project download");return}O.style.display="none",O.href=window.URL.createObjectURL(G),O.setAttribute("download",q),O.click()});const we=new Ee("save project");we.onClick(()=>{J()});const Q=new Ee("open project");Q.onClick(()=>{I()});const ue=new Ee("+").setAriaLabel("add page").setTooltip("add page");ue.onClick(()=>{a.page_id!==""&&i.new_page()});const Ce=new Ee("+").setAriaLabel("add widget").setTooltip("add widget");Ce.onClick(()=>{a.page_id!==""&&i.add_widgets(null,a.page_id,[{category:"widget",properties:{...de,left:48,top:48}}])});const Pn=new Ee("copy");Pn.onClick(()=>{if(a.page_id!==""){const B=i.model.pages[a.page_id];if(B){const G=[];for(const O of i.widgets_selection){const pe=B.widgets[O];pe&&G.push(pr(pe))}i.copy(G)}}});const ge=new Ee("paste");ge.onClick(()=>{if(i.get_clipboard().length>0&&a.page_id!==""&&i.model.pages[a.page_id]){const G=[];for(const O of i.get_clipboard())if(O.category==="widget"){const pe=jo(pr(O),"id");Sn(a.page_id,O.id)&&(pe.properties.left&&(pe.properties.left+=32),pe.properties.top&&(pe.properties.top+=32)),G.push(pe)}i.add_widgets(null,a.page_id,G)}});const xe=new Ee("x2").setAriaLabel("duplicate widget").setTooltip("duplicate widget");xe.onClick(()=>{if(a.page_id!==""){const B=i.model.pages[a.page_id];if(B){const G=[];for(const O of i.widgets_selection){const pe=B.widgets[O];if(pe){const ye=jo(pr(pe),"id");ye.properties.left&&(ye.properties.left+=32),ye.properties.top&&(ye.properties.top+=32),G.push(ye)}}i.add_widgets(null,a.page_id,G)}}});const jn=new Ee("-").setAriaLabel("delete widget").setTooltip("delete widget");jn.onClick(()=>{if(a.page_id!==""){const B=i.model.pages[a.page_id];B&&i.delete_widgets(null,B.id,i.widgets_selection)}});const Z=B=>{if(a.page_id!==""){const G=i.model.pages[a.page_id];if(G){const O=[];for(const Ne of i.widgets_selection){const dt=G.widgets[Ne];dt&&O.push(dt.id)}const ye=[...G.properties.zorder].filter(Ne=>!O.includes(Ne)),Yt=O.sort((Ne,dt)=>G.properties.zorder.findIndex(Ze=>Ze===Ne)-G.properties.zorder.findIndex(Ze=>Ze===dt)),Cn=B==="full_front"?[...ye,...Yt]:[...Yt,...ye];i.update_pages(null,[{category:"Page",id:G.id,properties:{zorder:Cn},widgets:{}}])}}},Tt=new Ee("to front").onClick(()=>{Z("full_front")}),Pt=new Ee("to back").onClick(()=>{Z("full_back")}),lt=new lr(a.snap_to_grid,"snap to grid");lt.onChange(()=>{a.snap_to_grid=lt.isChecked()});const jt=new lr(a.multi_selection_is_active,"multi-selection");jt.onChange(()=>{a.multi_selection_is_active=jt.isChecked()});const Ct=new lr(a.auto_group,"auto group");Ct.onChange(()=>{a.auto_group=Ct.isChecked()});const Mt=new lr(a.auto_unmask,"auto unmask");Mt.onChange(()=>{a.auto_unmask=Mt.isChecked()});const z=new Ee("Pages"),ee=new Ee("Props"),It=Wt(Eo(z,ee,Ce,Pn,ge,xe,jn,Tt,Pt).setGap(8),Eo(lt,jt,Ct,Mt).setGap(8)),At=new sc({width:`${i.model.properties.width}px`,height:`${i.model.properties.height}px`}),Me=new Ee("run");Me.onClick(B=>{At.setWidth(i.model.properties.width).setHeight(i.model.properties.height),At.setContent(uc(i.model,a.page_id))}),It.addChild(Me);const $e=new oc(i);$e.set_current_page(o),i.register_interest($e);const ct=new Va().setWidth(1024).setHeight(640);{const B=new Oo("horizontal").resize_panel(2,12,"rem");B.setChildren(a.setWidth(100,"%").setHeight(100,"%").setAutoGrow(),$e.setWidth(100,"%").setAutoGrow()),ee.onClick(()=>{B.is_panel_visible(2)?B.hide_panel(2):B.show_panel(2)});const G=new Oo("horizontal").resize_panel(1,128,"px");G.setChildren(Wt(ue,p.setAutoGrow()),Wt(It,B.setWidth(100,"%").setHeight(100,"%").setAutoGrow())),ct.addPanel("designer",G),z.onClick(()=>{G.is_panel_visible(1)?G.hide_panel(1):G.show_panel(1)})}ct.addPanel("simulator",Wt(Me,At));{const B=new di("number",`${i.model.properties.width}`).setWidth(5,"rem");B.onChange(()=>{i.model.properties.width=parseInt(B.getValue(),10)});const G=new di("number",`${i.model.properties.height}`).setWidth(5,"rem");G.onChange(()=>{i.model.properties.height=parseInt(G.getValue(),10)});const O=new Za().configure_as_properties_grid();O.addChildAt(new fn("Screen dimensions"),1,1,2,1),O.addChildAt(new fn("width"),1,2),O.addChildAt(B,2,2),O.addChildAt(new fn("height"),1,3),O.addChildAt(G,2,3),u=ye=>{i.set_model(ye),B.setValue(`${i.model.properties.width}`),G.setValue(`${i.model.properties.height}`)};const pe=k?[Q,we]:[N,Be];ct.addPanel("project",Wt(...pe,O))}g.addChild(ct.setWidth(100,"%").setHeight(100,"dvh"))},wc=document.getElementById("app");bc(wc);
