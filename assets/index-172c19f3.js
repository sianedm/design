var Da=Object.defineProperty;var $a=(c,i,o)=>i in c?Da(c,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):c[i]=o;var I=(c,i,o)=>($a(c,typeof i!="symbol"?i+"":i,o),o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const m of u.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}})();class be{constructor(i){I(this,"htmlElement");I(this,"previous_css_display","");i.style.overflow===""&&(i.style.overflow="hidden"),i.style.margin===""&&(i.style.margin="0"),i.style.padding===""&&(i.style.padding="0"),i.style.fontSize===""&&(i.style.fontSize="1rem"),i.className="g-base-element",this.htmlElement=i}setLayout(i){hr(i),this.htmlElement.firstChild&&this.htmlElement.removeChild(this.htmlElement.firstChild),this.htmlElement.appendChild(i.htmlElement)}onClick(i){this.htmlElement.addEventListener("click",()=>{i(this)})}setBorderWidth(i){return this.htmlElement.style.borderWidth=`${i}px`,i>0?this.htmlElement.style.borderStyle="solid":this.htmlElement.style.borderStyle="none",this}setBorderRadius(i){return this.htmlElement.style.borderRadius=`${i}px`,this}setBackgroundColor(i){return this.htmlElement.style.backgroundColor=i,this}setBorderColor(i){return this.htmlElement.style.borderColor=i,this}setForegroundColor(i){return this.htmlElement.style.color=i,this}setWidth(i,o="px"){return this.htmlElement.style.width=`${i}${o}`,this}setHeight(i,o="px"){return this.htmlElement.style.height=`${i}${o}`,this}setAutoGrow(i=1){return this.htmlElement.style.flexGrow=`${i}`,this}enable(){return this.htmlElement.removeAttribute("disabled"),this}disable(){return this.htmlElement.setAttribute("disabled",""),this}is_visible(){return this.htmlElement.style.display!=="none"}hide(){return this.htmlElement.style.display!=="none"&&(this.previous_css_display=this.htmlElement.style.display),this.htmlElement.style.display="none",this}show(){return this.htmlElement.style.display==="none"&&(this.htmlElement.style.display=this.previous_css_display),this}setAriaLabel(i){return this.htmlElement.setAttribute("aria-label",i),this}setTooltip(i){return this.htmlElement.setAttribute("title",i),this}}const Q=(c,i)=>{Object.assign(c.style,i)},Mt=(c,i)=>{c.htmlElement.appendChild(i.htmlElement)},hr=c=>{c.htmlElement.style.width="100%",c.htmlElement.style.height="100%"};class It extends be{constructor(){const i=document.createElement("div");super(i)}}class vi extends be{constructor(i,o,s,l){const u=document.createElement("div");super(u),u.className="g-linear-layout",u.style.display="flex",this.setDirection(i),this.setDistribution(o||"center"),this.setAlignment(s||"center"),this.setGap(l||0)}addChild(i){return this.htmlElement.appendChild(i.htmlElement),this}setDirection(i){let o;switch(i){case"horizontal":o="row";break;case"vertical":o="column";break}return this.htmlElement.style.flexDirection=o,this}setDistribution(i){let o;switch(i){case"start":o="flex-start";break;case"center":o="center";break;case"end":o="flex-end";break;case"space_between":o="space-between";break;case"space_around":o="space-around";break;case"space_evenly":o="space-evenly";break}return this.htmlElement.style.justifyContent=o,this}setAlignment(i){let o;switch(i){case"start":o="flex-start";break;case"center":o="center";break;case"end":o="flex-end";break;case"stretch":o="stretch";break}return this.htmlElement.style.alignItems=o,this}setGap(i){return this.htmlElement.style.gap=`${i}px`,this}}const Na=(c,i,o,s)=>new vi(c,i,o,s);class Mo extends vi{constructor(){super("vertical"),this.htmlElement.className="g-v-layout"}}class Io extends vi{constructor(){super("horizontal"),this.htmlElement.className="g-h-layout"}}const Ut=(...c)=>{const i=new Mo;for(const o of c)i.addChild(o);return i},Oo=(...c)=>{const i=new Io;for(const o of c)i.addChild(o);return i};class La extends be{constructor(){const i=document.createElement("div");super(i),i.className="g-absolute-layout",Q(i,{display:"flex",overflow:"hidden",position:"relative"})}addChild(i,o){let s=i.htmlElement.style;s.position="absolute";const l=o;l.top!==void 0&&(s.top=`${l.top}px`),l.left!==void 0&&(s.left=`${l.left}px`),l.right!==void 0&&(s.right=`${l.right}px`),l.bottom!==void 0&&(s.bottom=`${l.bottom}px`),l.width!==void 0&&(s.width=`${l.width}px`),l.height!==void 0&&(s.height=`${l.height}px`),this.htmlElement.appendChild(i.htmlElement)}}class Za extends It{constructor(){super();I(this,"is_configured",!1);this.htmlElement.className="g-grid-layout",Q(this.htmlElement,{display:"grid",overflow:"hidden"})}configure_as_properties_grid(){return Q(this.htmlElement,{gridTemplateColumns:"auto auto",gridAutoRows:"auto"}),this.is_configured=!0,this}configure_as_uniform(o,s){if(Number.isInteger(s)&&o>0&&Number.isInteger(s)&&s>0)Q(this.htmlElement,{gridTemplateColumns:`repeat(${Math.trunc(o)}, 1fr)`,gridTemplateRows:`repeat(${Math.trunc(s)}, 1fr)`}),this.is_configured=!0;else throw new Error("requires positive integer for its parameters");return this}addChild(o){if(!this.is_configured)throw new Error("grid layout need to be configured before adding elements");this.htmlElement.appendChild(o.htmlElement)}addChildAt(o,s,l,u=1,m=1){if(!this.is_configured)throw new Error("grid layout need to be configured before adding elements");Q(o.htmlElement,{gridColumn:`${Math.trunc(s)} / ${Math.trunc(s+u)}`,gridRow:`${Math.trunc(l)} / ${Math.trunc(l+m)}`}),this.htmlElement.appendChild(o.htmlElement)}}class Yt extends be{constructor(i){const o=document.createElement("p");super(o),o.innerText=i,o.className="g-label"}setValue(i){this.htmlElement.innerText=i}getValue(){return this.htmlElement.innerText}}class Me extends be{constructor(i){const o=document.createElement("button");super(o),o.innerText=i,o.className="g-button"}setValue(i){this.htmlElement.innerText=i}getValue(){return this.htmlElement.innerText}onClick(i){return this.htmlElement.addEventListener("click",()=>{i(this)}),this}}class cr extends be{constructor(o,s){const l=document.createElement("label");super(l);I(this,"checkbox");const u=document.createElement("span");u.innerText=s;const m=document.createElement("input");m.type="checkbox",m.checked=o,this.checkbox=m,l.appendChild(u),l.appendChild(m),this.htmlElement.className="g-checkbox"}isChecked(){return this.checkbox.checked}onChange(o){return this.checkbox.addEventListener("change",()=>{o(this)}),this}}class Va extends be{constructor(){const i=document.createElement("input");super(i),this.htmlElement.className="g-file-selector",i.type="file"}onChange(i){return this.htmlElement.addEventListener("change",()=>{const o=[],s=this.htmlElement.files;if(s)for(let l=0;l<(s==null?void 0:s.length);l++)o.push(s[l]);i(this,o)}),this}}class ui extends be{constructor(i,o){const s=document.createElement("input");super(s),s.className="g-text-input",s.type=i,s.value=o}setValue(i){this.htmlElement.value=i}getValue(){return this.htmlElement.value}onChange(i){this.htmlElement.tagName==="select"?this.htmlElement.addEventListener("change",()=>{i()}):this.htmlElement.addEventListener("input",()=>{i()})}}class Wa extends be{constructor(){const o=document.createElement("div");super(o);I(this,"labels");I(this,"panel_area");I(this,"labels_buttons");I(this,"panels");o.className="g-tab-panel",Q(o,{borderStyle:"solid",borderColor:"black",borderWidth:"1px"}),this.labels_buttons=[],this.panels=[],this.labels=new Io,this.labels.setDistribution("start"),this.panel_area=new La,this.panel_area.htmlElement.style.flexGrow="1",this.panel_area.htmlElement.style.width="";let s=new Mo;s.setDistribution("start"),s.setAlignment("stretch"),hr(s),s.addChild(this.labels),s.addChild(this.panel_area),Mt(this,s)}addPanel(o,s){for(const m of this.labels_buttons)m.htmlElement.style.fontStyle="normal";let l=new Me(o);l.htmlElement.style.fontStyle="italic",this.labels.addChild(l),this.labels_buttons.push(l);const u=new be(document.createElement("div"));Mt(u,s),s.htmlElement.style.width="100%",s.htmlElement.style.height="100%",this.panel_area.addChild(u,{top:0,left:0,right:0,bottom:0}),this.panels.length>0&&this.panels[this.panels.length-1].hide(),this.panels.push(u),l.onClick(m=>{for(const g of this.panels)g===u?g.show():g.hide();for(const g of this.labels_buttons)g===l?m.htmlElement.style.fontStyle="italic":(!g.htmlElement.style.fontStyle||g.htmlElement.style.fontStyle!=="normal")&&(g.htmlElement.style.fontStyle="normal")})}}class Ba extends be{constructor(i){super(i),i.className="g-base-listview",Q(i,{display:"flex",justifyContent:"start",alignItems:"stretch"})}addChild(i){let o=new be(document.createElement("div"));o.htmlElement.style.overflow="visible",i.htmlElement.style.width="100%",i.htmlElement.style.height="100%",Mt(o,i),Mt(this,o)}RemoveAllChildren(){this.htmlElement.innerHTML=""}setGap(i){this.htmlElement.style.gap=`${i}px`}}class Fa extends Ba{constructor(){const i=document.createElement("div");super(i),i.className="g-v-listview",Q(i,{flexDirection:"column",overflowY:"auto"})}}class ci extends be{constructor(){const o=document.createElement("select");super(o);I(this,"getValue",()=>this.htmlElement.value||"");I(this,"setValue",o=>{this.htmlElement.value=o});o.className="g-dropdown",o.setAttribute("size","1"),o.style.borderImageWidth="0",o.value=""}onChange(o){this.htmlElement.addEventListener("change",()=>{o(this)})}setItems(o,s,l){this.htmlElement.innerHTML="";for(let u=0;u<s.length;u++){const m=s[u],g=document.createElement("option");g.value=l[u],g.innerText=m,this.htmlElement.appendChild(g)}this.htmlElement.value=o}setNbItemsShown(o){this.htmlElement.setAttribute("size",o.toString())}}class So extends be{constructor(o){const l=o==="horizontal"?"col-resize":"row-resize",u=document.createElement("div");super(u);I(this,"first_panel");I(this,"second_panel");I(this,"resizer");I(this,"x_origin_drag",0);I(this,"y_origin_drag",0);I(this,"size_first_panel",0);I(this,"direction");u.className="g-split-panel",Q(u,{display:"flex",flexDirection:o==="horizontal"?"row":"column",flexWrap:"nowrap"}),this.direction=o,this.first_panel=document.createElement("div"),this.first_panel.style.overflow="hidden",this.first_panel.style.flexGrow="1",this.resizer=document.createElement("div"),this.resizer.style.userSelect="all",this.resizer.style.webkitUserSelect="all",this.resizer.style.cursor=l,this.resizer.style.backgroundColor="gray",o==="horizontal"?this.resizer.style.width="8px":this.resizer.style.height="8px",this.second_panel=document.createElement("div"),this.second_panel.style.overflow="hidden",this.second_panel.style.flexGrow="1",u.appendChild(this.first_panel),u.appendChild(this.resizer),u.appendChild(this.second_panel);const m=()=>{this.size_first_panel=o==="horizontal"?this.first_panel.getBoundingClientRect().width:this.first_panel.getBoundingClientRect().height,this.first_panel.style.cursor=l,this.second_panel.style.cursor=l,u.style.cursor=l,document.body.style.cursor=l,this.first_panel.style.userSelect="none",this.first_panel.style.webkitUserSelect="none",this.first_panel.style.pointerEvents="none",this.second_panel.style.userSelect="none",this.second_panel.style.webkitUserSelect="none",this.second_panel.style.pointerEvents="none",document.addEventListener("mousemove",W),document.addEventListener("mouseup",$),document.addEventListener("mousecancel",$),document.addEventListener("touchmove",T,!1),document.addEventListener("touchend",$),document.addEventListener("touchcancel",$)},g=Z=>{this.x_origin_drag=Z.touches[0].clientX,this.y_origin_drag=Z.touches[0].clientY,m()},w=Z=>{Z.button===0&&(this.x_origin_drag=Z.clientX,this.y_origin_drag=Z.clientY,m())},E=(Z,oe)=>{if(o==="horizontal"){const ie=Z-this.x_origin_drag,ne=this.size_first_panel+ie;this.first_panel.style.width=`${ne}px`;const H=this.htmlElement.getBoundingClientRect().width-ne-8;this.second_panel.style.width=`${H}px`}else{const ie=oe-this.y_origin_drag,ne=this.size_first_panel+ie;this.first_panel.style.height=`${ne}px`;const H=this.htmlElement.getBoundingClientRect().height-ne-8;this.second_panel.style.height=`${H}px`}},T=Z=>{E(Z.touches[0].clientX,Z.touches[0].clientY)},W=Z=>{E(Z.clientX,Z.clientY)},$=()=>{this.first_panel.style.cursor="",this.second_panel.style.cursor="",u.style.cursor="",document.body.style.cursor="",this.first_panel.style.userSelect="",this.first_panel.style.webkitUserSelect="",this.first_panel.style.pointerEvents="",this.second_panel.style.userSelect="",this.second_panel.style.webkitUserSelect="",this.second_panel.style.pointerEvents="",document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",$),document.removeEventListener("mousecancel",$),document.removeEventListener("touchmove",T),document.removeEventListener("touchend",$),document.removeEventListener("touchcancel",$)};this.resizer.addEventListener("mousedown",w),this.resizer.addEventListener("touchstart",g)}setChildren(o,s){hr(o),this.first_panel.innerHTML="",this.first_panel.appendChild(o.htmlElement),hr(s),this.second_panel.innerHTML="",this.second_panel.appendChild(s.htmlElement)}is_panel_visible(o){return o===1?this.first_panel.style.display!=="none":o===2?this.second_panel.style.display!=="none":!1}hide_panel(o){o===1&&(this.first_panel.style.display="none",this.resizer.style.display="none"),o===2&&(this.second_panel.style.display="none",this.resizer.style.display="none")}show_panel(o){o===1&&(this.first_panel.style.display="block",this.second_panel.style.display!=="none"&&(this.resizer.style.display="block")),o===2&&(this.second_panel.style.display="block",this.first_panel.style.display!=="none"&&(this.resizer.style.display="block"))}resize_panel(o,s,l="px"){let u=o===1?this.first_panel:this.second_panel;return u.style.flexGrow="0",this.direction==="horizontal"?u.style.width=`${s}${l}`:u.style.height=`${s}${l}`,this}}class Ua extends be{constructor(){const i=document.createElement("table");super(i),i.className="g-table",i.createTBody()}add(i,o){const s=document.createElement("tr"),l=document.createElement("td");l.innerText=i,s.appendChild(l);const u=document.createElement("td");u.appendChild(o.htmlElement),s.appendChild(u),this.htmlElement.tBodies[0].appendChild(s)}}var ee;(function(c){c.assertEqual=l=>l;function i(l){}c.assertIs=i;function o(l){throw new Error}c.assertNever=o,c.arrayToEnum=l=>{const u={};for(const m of l)u[m]=m;return u},c.getValidEnumValues=l=>{const u=c.objectKeys(l).filter(g=>typeof l[l[g]]!="number"),m={};for(const g of u)m[g]=l[g];return c.objectValues(m)},c.objectValues=l=>c.objectKeys(l).map(function(u){return l[u]}),c.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const u=[];for(const m in l)Object.prototype.hasOwnProperty.call(l,m)&&u.push(m);return u},c.find=(l,u)=>{for(const m of l)if(u(m))return m},c.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function s(l,u=" | "){return l.map(m=>typeof m=="string"?`'${m}'`:m).join(u)}c.joinValues=s,c.jsonStringifyReplacer=(l,u)=>typeof u=="bigint"?u.toString():u})(ee||(ee={}));var pi;(function(c){c.mergeShapes=(i,o)=>({...i,...o})})(pi||(pi={}));const A=ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ht=c=>{switch(typeof c){case"undefined":return A.undefined;case"string":return A.string;case"number":return isNaN(c)?A.nan:A.number;case"boolean":return A.boolean;case"function":return A.function;case"bigint":return A.bigint;case"symbol":return A.symbol;case"object":return Array.isArray(c)?A.array:c===null?A.null:c.then&&typeof c.then=="function"&&c.catch&&typeof c.catch=="function"?A.promise:typeof Map<"u"&&c instanceof Map?A.map:typeof Set<"u"&&c instanceof Set?A.set:typeof Date<"u"&&c instanceof Date?A.date:A.object;default:return A.unknown}},C=ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ga=c=>JSON.stringify(c,null,2).replace(/"([^"]+)":/g,"$1:");class Ve extends Error{constructor(i){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const o=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,o):this.__proto__=o,this.name="ZodError",this.issues=i}get errors(){return this.issues}format(i){const o=i||function(u){return u.message},s={_errors:[]},l=u=>{for(const m of u.issues)if(m.code==="invalid_union")m.unionErrors.map(l);else if(m.code==="invalid_return_type")l(m.returnTypeError);else if(m.code==="invalid_arguments")l(m.argumentsError);else if(m.path.length===0)s._errors.push(o(m));else{let g=s,w=0;for(;w<m.path.length;){const E=m.path[w];w===m.path.length-1?(g[E]=g[E]||{_errors:[]},g[E]._errors.push(o(m))):g[E]=g[E]||{_errors:[]},g=g[E],w++}}};return l(this),s}toString(){return this.message}get message(){return JSON.stringify(this.issues,ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(i=o=>o.message){const o={},s=[];for(const l of this.issues)l.path.length>0?(o[l.path[0]]=o[l.path[0]]||[],o[l.path[0]].push(i(l))):s.push(i(l));return{formErrors:s,fieldErrors:o}}get formErrors(){return this.flatten()}}Ve.create=c=>new Ve(c);const _n=(c,i)=>{let o;switch(c.code){case C.invalid_type:c.received===A.undefined?o="Required":o=`Expected ${c.expected}, received ${c.received}`;break;case C.invalid_literal:o=`Invalid literal value, expected ${JSON.stringify(c.expected,ee.jsonStringifyReplacer)}`;break;case C.unrecognized_keys:o=`Unrecognized key(s) in object: ${ee.joinValues(c.keys,", ")}`;break;case C.invalid_union:o="Invalid input";break;case C.invalid_union_discriminator:o=`Invalid discriminator value. Expected ${ee.joinValues(c.options)}`;break;case C.invalid_enum_value:o=`Invalid enum value. Expected ${ee.joinValues(c.options)}, received '${c.received}'`;break;case C.invalid_arguments:o="Invalid function arguments";break;case C.invalid_return_type:o="Invalid function return type";break;case C.invalid_date:o="Invalid date";break;case C.invalid_string:typeof c.validation=="object"?"includes"in c.validation?(o=`Invalid input: must include "${c.validation.includes}"`,typeof c.validation.position=="number"&&(o=`${o} at one or more positions greater than or equal to ${c.validation.position}`)):"startsWith"in c.validation?o=`Invalid input: must start with "${c.validation.startsWith}"`:"endsWith"in c.validation?o=`Invalid input: must end with "${c.validation.endsWith}"`:ee.assertNever(c.validation):c.validation!=="regex"?o=`Invalid ${c.validation}`:o="Invalid";break;case C.too_small:c.type==="array"?o=`Array must contain ${c.exact?"exactly":c.inclusive?"at least":"more than"} ${c.minimum} element(s)`:c.type==="string"?o=`String must contain ${c.exact?"exactly":c.inclusive?"at least":"over"} ${c.minimum} character(s)`:c.type==="number"?o=`Number must be ${c.exact?"exactly equal to ":c.inclusive?"greater than or equal to ":"greater than "}${c.minimum}`:c.type==="date"?o=`Date must be ${c.exact?"exactly equal to ":c.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(c.minimum))}`:o="Invalid input";break;case C.too_big:c.type==="array"?o=`Array must contain ${c.exact?"exactly":c.inclusive?"at most":"less than"} ${c.maximum} element(s)`:c.type==="string"?o=`String must contain ${c.exact?"exactly":c.inclusive?"at most":"under"} ${c.maximum} character(s)`:c.type==="number"?o=`Number must be ${c.exact?"exactly":c.inclusive?"less than or equal to":"less than"} ${c.maximum}`:c.type==="bigint"?o=`BigInt must be ${c.exact?"exactly":c.inclusive?"less than or equal to":"less than"} ${c.maximum}`:c.type==="date"?o=`Date must be ${c.exact?"exactly":c.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(c.maximum))}`:o="Invalid input";break;case C.custom:o="Invalid input";break;case C.invalid_intersection_types:o="Intersection results could not be merged";break;case C.not_multiple_of:o=`Number must be a multiple of ${c.multipleOf}`;break;case C.not_finite:o="Number must be finite";break;default:o=i.defaultError,ee.assertNever(c)}return{message:o}};let Ao=_n;function Ya(c){Ao=c}function gr(){return Ao}const mr=c=>{const{data:i,path:o,errorMaps:s,issueData:l}=c,u=[...o,...l.path||[]],m={...l,path:u};let g="";const w=s.filter(E=>!!E).slice().reverse();for(const E of w)g=E(m,{data:i,defaultError:g}).message;return{...l,path:u,message:l.message||g}},Xa=[];function z(c,i){const o=mr({issueData:i,data:c.data,path:c.path,errorMaps:[c.common.contextualErrorMap,c.schemaErrorMap,gr(),_n].filter(s=>!!s)});c.common.issues.push(o)}class Ce{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(i,o){const s=[];for(const l of o){if(l.status==="aborted")return F;l.status==="dirty"&&i.dirty(),s.push(l.value)}return{status:i.value,value:s}}static async mergeObjectAsync(i,o){const s=[];for(const l of o)s.push({key:await l.key,value:await l.value});return Ce.mergeObjectSync(i,s)}static mergeObjectSync(i,o){const s={};for(const l of o){const{key:u,value:m}=l;if(u.status==="aborted"||m.status==="aborted")return F;u.status==="dirty"&&i.dirty(),m.status==="dirty"&&i.dirty(),(typeof m.value<"u"||l.alwaysSet)&&(s[u.value]=m.value)}return{status:i.value,value:s}}}const F=Object.freeze({status:"aborted"}),zo=c=>({status:"dirty",value:c}),Ie=c=>({status:"valid",value:c}),fi=c=>c.status==="aborted",hi=c=>c.status==="dirty",vr=c=>c.status==="valid",yr=c=>typeof Promise<"u"&&c instanceof Promise;var L;(function(c){c.errToObj=i=>typeof i=="string"?{message:i}:i||{},c.toString=i=>typeof i=="string"?i:i==null?void 0:i.message})(L||(L={}));class Xe{constructor(i,o,s,l){this._cachedPath=[],this.parent=i,this.data=o,this._path=s,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Po=(c,i)=>{if(vr(i))return{success:!0,data:i.value};if(!c.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const o=new Ve(c.common.issues);return this._error=o,this._error}}};function Y(c){if(!c)return{};const{errorMap:i,invalid_type_error:o,required_error:s,description:l}=c;if(i&&(o||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return i?{errorMap:i,description:l}:{errorMap:(m,g)=>m.code!=="invalid_type"?{message:g.defaultError}:typeof g.data>"u"?{message:s??g.defaultError}:{message:o??g.defaultError},description:l}}class K{constructor(i){this.spa=this.safeParseAsync,this._def=i,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(i){return ht(i.data)}_getOrReturnCtx(i,o){return o||{common:i.parent.common,data:i.data,parsedType:ht(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}_processInputParams(i){return{status:new Ce,ctx:{common:i.parent.common,data:i.data,parsedType:ht(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}}_parseSync(i){const o=this._parse(i);if(yr(o))throw new Error("Synchronous parse encountered promise.");return o}_parseAsync(i){const o=this._parse(i);return Promise.resolve(o)}parse(i,o){const s=this.safeParse(i,o);if(s.success)return s.data;throw s.error}safeParse(i,o){var s;const l={common:{issues:[],async:(s=o==null?void 0:o.async)!==null&&s!==void 0?s:!1,contextualErrorMap:o==null?void 0:o.errorMap},path:(o==null?void 0:o.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:ht(i)},u=this._parseSync({data:i,path:l.path,parent:l});return Po(l,u)}async parseAsync(i,o){const s=await this.safeParseAsync(i,o);if(s.success)return s.data;throw s.error}async safeParseAsync(i,o){const s={common:{issues:[],contextualErrorMap:o==null?void 0:o.errorMap,async:!0},path:(o==null?void 0:o.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:ht(i)},l=this._parse({data:i,path:s.path,parent:s}),u=await(yr(l)?l:Promise.resolve(l));return Po(s,u)}refine(i,o){const s=l=>typeof o=="string"||typeof o>"u"?{message:o}:typeof o=="function"?o(l):o;return this._refinement((l,u)=>{const m=i(l),g=()=>u.addIssue({code:C.custom,...s(l)});return typeof Promise<"u"&&m instanceof Promise?m.then(w=>w?!0:(g(),!1)):m?!0:(g(),!1)})}refinement(i,o){return this._refinement((s,l)=>i(s)?!0:(l.addIssue(typeof o=="function"?o(s,l):o),!1))}_refinement(i){return new Be({schema:this,typeName:V.ZodEffects,effect:{type:"refinement",refinement:i}})}superRefine(i){return this._refinement(i)}optional(){return st.create(this,this._def)}nullable(){return Dt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return We.create(this,this._def)}promise(){return Kt.create(this,this._def)}or(i){return En.create([this,i],this._def)}and(i){return kn.create(this,i,this._def)}transform(i){return new Be({...Y(this._def),schema:this,typeName:V.ZodEffects,effect:{type:"transform",transform:i}})}default(i){const o=typeof i=="function"?i:()=>i;return new Cn({...Y(this._def),innerType:this,defaultValue:o,typeName:V.ZodDefault})}brand(){return new Do({typeName:V.ZodBranded,type:this,...Y(this._def)})}catch(i){const o=typeof i=="function"?i:()=>i;return new xr({...Y(this._def),innerType:this,catchValue:o,typeName:V.ZodCatch})}describe(i){const o=this.constructor;return new o({...this._def,description:i})}pipe(i){return jn.create(this,i)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qa=/^c[^\s-]{8,}$/i,Ha=/^[a-z][a-z0-9]*$/,Ka=/[0-9A-HJKMNP-TV-Z]{26}/,Ja=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Qa=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,el=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,tl=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,nl=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,rl=c=>c.precision?c.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${c.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${c.precision}}Z$`):c.precision===0?c.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):c.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function il(c,i){return!!((i==="v4"||!i)&&tl.test(c)||(i==="v6"||!i)&&nl.test(c))}class Ze extends K{constructor(){super(...arguments),this._regex=(i,o,s)=>this.refinement(l=>i.test(l),{validation:o,code:C.invalid_string,...L.errToObj(s)}),this.nonempty=i=>this.min(1,L.errToObj(i)),this.trim=()=>new Ze({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Ze({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Ze({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(i){if(this._def.coerce&&(i.data=String(i.data)),this._getType(i)!==A.string){const u=this._getOrReturnCtx(i);return z(u,{code:C.invalid_type,expected:A.string,received:u.parsedType}),F}const s=new Ce;let l;for(const u of this._def.checks)if(u.kind==="min")i.data.length<u.value&&(l=this._getOrReturnCtx(i,l),z(l,{code:C.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="max")i.data.length>u.value&&(l=this._getOrReturnCtx(i,l),z(l,{code:C.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="length"){const m=i.data.length>u.value,g=i.data.length<u.value;(m||g)&&(l=this._getOrReturnCtx(i,l),m?z(l,{code:C.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):g&&z(l,{code:C.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),s.dirty())}else if(u.kind==="email")Qa.test(i.data)||(l=this._getOrReturnCtx(i,l),z(l,{validation:"email",code:C.invalid_string,message:u.message}),s.dirty());else if(u.kind==="emoji")el.test(i.data)||(l=this._getOrReturnCtx(i,l),z(l,{validation:"emoji",code:C.invalid_string,message:u.message}),s.dirty());else if(u.kind==="uuid")Ja.test(i.data)||(l=this._getOrReturnCtx(i,l),z(l,{validation:"uuid",code:C.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid")qa.test(i.data)||(l=this._getOrReturnCtx(i,l),z(l,{validation:"cuid",code:C.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid2")Ha.test(i.data)||(l=this._getOrReturnCtx(i,l),z(l,{validation:"cuid2",code:C.invalid_string,message:u.message}),s.dirty());else if(u.kind==="ulid")Ka.test(i.data)||(l=this._getOrReturnCtx(i,l),z(l,{validation:"ulid",code:C.invalid_string,message:u.message}),s.dirty());else if(u.kind==="url")try{new URL(i.data)}catch{l=this._getOrReturnCtx(i,l),z(l,{validation:"url",code:C.invalid_string,message:u.message}),s.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(i.data)||(l=this._getOrReturnCtx(i,l),z(l,{validation:"regex",code:C.invalid_string,message:u.message}),s.dirty())):u.kind==="trim"?i.data=i.data.trim():u.kind==="includes"?i.data.includes(u.value,u.position)||(l=this._getOrReturnCtx(i,l),z(l,{code:C.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),s.dirty()):u.kind==="toLowerCase"?i.data=i.data.toLowerCase():u.kind==="toUpperCase"?i.data=i.data.toUpperCase():u.kind==="startsWith"?i.data.startsWith(u.value)||(l=this._getOrReturnCtx(i,l),z(l,{code:C.invalid_string,validation:{startsWith:u.value},message:u.message}),s.dirty()):u.kind==="endsWith"?i.data.endsWith(u.value)||(l=this._getOrReturnCtx(i,l),z(l,{code:C.invalid_string,validation:{endsWith:u.value},message:u.message}),s.dirty()):u.kind==="datetime"?rl(u).test(i.data)||(l=this._getOrReturnCtx(i,l),z(l,{code:C.invalid_string,validation:"datetime",message:u.message}),s.dirty()):u.kind==="ip"?il(i.data,u.version)||(l=this._getOrReturnCtx(i,l),z(l,{validation:"ip",code:C.invalid_string,message:u.message}),s.dirty()):ee.assertNever(u);return{status:s.value,value:i.data}}_addCheck(i){return new Ze({...this._def,checks:[...this._def.checks,i]})}email(i){return this._addCheck({kind:"email",...L.errToObj(i)})}url(i){return this._addCheck({kind:"url",...L.errToObj(i)})}emoji(i){return this._addCheck({kind:"emoji",...L.errToObj(i)})}uuid(i){return this._addCheck({kind:"uuid",...L.errToObj(i)})}cuid(i){return this._addCheck({kind:"cuid",...L.errToObj(i)})}cuid2(i){return this._addCheck({kind:"cuid2",...L.errToObj(i)})}ulid(i){return this._addCheck({kind:"ulid",...L.errToObj(i)})}ip(i){return this._addCheck({kind:"ip",...L.errToObj(i)})}datetime(i){var o;return typeof i=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:i}):this._addCheck({kind:"datetime",precision:typeof(i==null?void 0:i.precision)>"u"?null:i==null?void 0:i.precision,offset:(o=i==null?void 0:i.offset)!==null&&o!==void 0?o:!1,...L.errToObj(i==null?void 0:i.message)})}regex(i,o){return this._addCheck({kind:"regex",regex:i,...L.errToObj(o)})}includes(i,o){return this._addCheck({kind:"includes",value:i,position:o==null?void 0:o.position,...L.errToObj(o==null?void 0:o.message)})}startsWith(i,o){return this._addCheck({kind:"startsWith",value:i,...L.errToObj(o)})}endsWith(i,o){return this._addCheck({kind:"endsWith",value:i,...L.errToObj(o)})}min(i,o){return this._addCheck({kind:"min",value:i,...L.errToObj(o)})}max(i,o){return this._addCheck({kind:"max",value:i,...L.errToObj(o)})}length(i,o){return this._addCheck({kind:"length",value:i,...L.errToObj(o)})}get isDatetime(){return!!this._def.checks.find(i=>i.kind==="datetime")}get isEmail(){return!!this._def.checks.find(i=>i.kind==="email")}get isURL(){return!!this._def.checks.find(i=>i.kind==="url")}get isEmoji(){return!!this._def.checks.find(i=>i.kind==="emoji")}get isUUID(){return!!this._def.checks.find(i=>i.kind==="uuid")}get isCUID(){return!!this._def.checks.find(i=>i.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(i=>i.kind==="cuid2")}get isULID(){return!!this._def.checks.find(i=>i.kind==="ulid")}get isIP(){return!!this._def.checks.find(i=>i.kind==="ip")}get minLength(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i}get maxLength(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i}}Ze.create=c=>{var i;return new Ze({checks:[],typeName:V.ZodString,coerce:(i=c==null?void 0:c.coerce)!==null&&i!==void 0?i:!1,...Y(c)})};function ol(c,i){const o=(c.toString().split(".")[1]||"").length,s=(i.toString().split(".")[1]||"").length,l=o>s?o:s,u=parseInt(c.toFixed(l).replace(".","")),m=parseInt(i.toFixed(l).replace(".",""));return u%m/Math.pow(10,l)}class mt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(i){if(this._def.coerce&&(i.data=Number(i.data)),this._getType(i)!==A.number){const u=this._getOrReturnCtx(i);return z(u,{code:C.invalid_type,expected:A.number,received:u.parsedType}),F}let s;const l=new Ce;for(const u of this._def.checks)u.kind==="int"?ee.isInteger(i.data)||(s=this._getOrReturnCtx(i,s),z(s,{code:C.invalid_type,expected:"integer",received:"float",message:u.message}),l.dirty()):u.kind==="min"?(u.inclusive?i.data<u.value:i.data<=u.value)&&(s=this._getOrReturnCtx(i,s),z(s,{code:C.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),l.dirty()):u.kind==="max"?(u.inclusive?i.data>u.value:i.data>=u.value)&&(s=this._getOrReturnCtx(i,s),z(s,{code:C.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),l.dirty()):u.kind==="multipleOf"?ol(i.data,u.value)!==0&&(s=this._getOrReturnCtx(i,s),z(s,{code:C.not_multiple_of,multipleOf:u.value,message:u.message}),l.dirty()):u.kind==="finite"?Number.isFinite(i.data)||(s=this._getOrReturnCtx(i,s),z(s,{code:C.not_finite,message:u.message}),l.dirty()):ee.assertNever(u);return{status:l.value,value:i.data}}gte(i,o){return this.setLimit("min",i,!0,L.toString(o))}gt(i,o){return this.setLimit("min",i,!1,L.toString(o))}lte(i,o){return this.setLimit("max",i,!0,L.toString(o))}lt(i,o){return this.setLimit("max",i,!1,L.toString(o))}setLimit(i,o,s,l){return new mt({...this._def,checks:[...this._def.checks,{kind:i,value:o,inclusive:s,message:L.toString(l)}]})}_addCheck(i){return new mt({...this._def,checks:[...this._def.checks,i]})}int(i){return this._addCheck({kind:"int",message:L.toString(i)})}positive(i){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L.toString(i)})}negative(i){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L.toString(i)})}multipleOf(i,o){return this._addCheck({kind:"multipleOf",value:i,message:L.toString(o)})}finite(i){return this._addCheck({kind:"finite",message:L.toString(i)})}safe(i){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:L.toString(i)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:L.toString(i)})}get minValue(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i}get maxValue(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i}get isInt(){return!!this._def.checks.find(i=>i.kind==="int"||i.kind==="multipleOf"&&ee.isInteger(i.value))}get isFinite(){let i=null,o=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(o===null||s.value>o)&&(o=s.value):s.kind==="max"&&(i===null||s.value<i)&&(i=s.value)}return Number.isFinite(o)&&Number.isFinite(i)}}mt.create=c=>new mt({checks:[],typeName:V.ZodNumber,coerce:(c==null?void 0:c.coerce)||!1,...Y(c)});class vt extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(i){if(this._def.coerce&&(i.data=BigInt(i.data)),this._getType(i)!==A.bigint){const u=this._getOrReturnCtx(i);return z(u,{code:C.invalid_type,expected:A.bigint,received:u.parsedType}),F}let s;const l=new Ce;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?i.data<u.value:i.data<=u.value)&&(s=this._getOrReturnCtx(i,s),z(s,{code:C.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),l.dirty()):u.kind==="max"?(u.inclusive?i.data>u.value:i.data>=u.value)&&(s=this._getOrReturnCtx(i,s),z(s,{code:C.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),l.dirty()):u.kind==="multipleOf"?i.data%u.value!==BigInt(0)&&(s=this._getOrReturnCtx(i,s),z(s,{code:C.not_multiple_of,multipleOf:u.value,message:u.message}),l.dirty()):ee.assertNever(u);return{status:l.value,value:i.data}}gte(i,o){return this.setLimit("min",i,!0,L.toString(o))}gt(i,o){return this.setLimit("min",i,!1,L.toString(o))}lte(i,o){return this.setLimit("max",i,!0,L.toString(o))}lt(i,o){return this.setLimit("max",i,!1,L.toString(o))}setLimit(i,o,s,l){return new vt({...this._def,checks:[...this._def.checks,{kind:i,value:o,inclusive:s,message:L.toString(l)}]})}_addCheck(i){return new vt({...this._def,checks:[...this._def.checks,i]})}positive(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:L.toString(i)})}negative(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:L.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:L.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:L.toString(i)})}multipleOf(i,o){return this._addCheck({kind:"multipleOf",value:i,message:L.toString(o)})}get minValue(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i}get maxValue(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i}}vt.create=c=>{var i;return new vt({checks:[],typeName:V.ZodBigInt,coerce:(i=c==null?void 0:c.coerce)!==null&&i!==void 0?i:!1,...Y(c)})};class bn extends K{_parse(i){if(this._def.coerce&&(i.data=!!i.data),this._getType(i)!==A.boolean){const s=this._getOrReturnCtx(i);return z(s,{code:C.invalid_type,expected:A.boolean,received:s.parsedType}),F}return Ie(i.data)}}bn.create=c=>new bn({typeName:V.ZodBoolean,coerce:(c==null?void 0:c.coerce)||!1,...Y(c)});class zt extends K{_parse(i){if(this._def.coerce&&(i.data=new Date(i.data)),this._getType(i)!==A.date){const u=this._getOrReturnCtx(i);return z(u,{code:C.invalid_type,expected:A.date,received:u.parsedType}),F}if(isNaN(i.data.getTime())){const u=this._getOrReturnCtx(i);return z(u,{code:C.invalid_date}),F}const s=new Ce;let l;for(const u of this._def.checks)u.kind==="min"?i.data.getTime()<u.value&&(l=this._getOrReturnCtx(i,l),z(l,{code:C.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),s.dirty()):u.kind==="max"?i.data.getTime()>u.value&&(l=this._getOrReturnCtx(i,l),z(l,{code:C.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),s.dirty()):ee.assertNever(u);return{status:s.value,value:new Date(i.data.getTime())}}_addCheck(i){return new zt({...this._def,checks:[...this._def.checks,i]})}min(i,o){return this._addCheck({kind:"min",value:i.getTime(),message:L.toString(o)})}max(i,o){return this._addCheck({kind:"max",value:i.getTime(),message:L.toString(o)})}get minDate(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i!=null?new Date(i):null}get maxDate(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i!=null?new Date(i):null}}zt.create=c=>new zt({checks:[],coerce:(c==null?void 0:c.coerce)||!1,typeName:V.ZodDate,...Y(c)});class _r extends K{_parse(i){if(this._getType(i)!==A.symbol){const s=this._getOrReturnCtx(i);return z(s,{code:C.invalid_type,expected:A.symbol,received:s.parsedType}),F}return Ie(i.data)}}_r.create=c=>new _r({typeName:V.ZodSymbol,...Y(c)});class wn extends K{_parse(i){if(this._getType(i)!==A.undefined){const s=this._getOrReturnCtx(i);return z(s,{code:C.invalid_type,expected:A.undefined,received:s.parsedType}),F}return Ie(i.data)}}wn.create=c=>new wn({typeName:V.ZodUndefined,...Y(c)});class xn extends K{_parse(i){if(this._getType(i)!==A.null){const s=this._getOrReturnCtx(i);return z(s,{code:C.invalid_type,expected:A.null,received:s.parsedType}),F}return Ie(i.data)}}xn.create=c=>new xn({typeName:V.ZodNull,...Y(c)});class Ht extends K{constructor(){super(...arguments),this._any=!0}_parse(i){return Ie(i.data)}}Ht.create=c=>new Ht({typeName:V.ZodAny,...Y(c)});class At extends K{constructor(){super(...arguments),this._unknown=!0}_parse(i){return Ie(i.data)}}At.create=c=>new At({typeName:V.ZodUnknown,...Y(c)});class at extends K{_parse(i){const o=this._getOrReturnCtx(i);return z(o,{code:C.invalid_type,expected:A.never,received:o.parsedType}),F}}at.create=c=>new at({typeName:V.ZodNever,...Y(c)});class br extends K{_parse(i){if(this._getType(i)!==A.undefined){const s=this._getOrReturnCtx(i);return z(s,{code:C.invalid_type,expected:A.void,received:s.parsedType}),F}return Ie(i.data)}}br.create=c=>new br({typeName:V.ZodVoid,...Y(c)});class We extends K{_parse(i){const{ctx:o,status:s}=this._processInputParams(i),l=this._def;if(o.parsedType!==A.array)return z(o,{code:C.invalid_type,expected:A.array,received:o.parsedType}),F;if(l.exactLength!==null){const m=o.data.length>l.exactLength.value,g=o.data.length<l.exactLength.value;(m||g)&&(z(o,{code:m?C.too_big:C.too_small,minimum:g?l.exactLength.value:void 0,maximum:m?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),s.dirty())}if(l.minLength!==null&&o.data.length<l.minLength.value&&(z(o,{code:C.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),s.dirty()),l.maxLength!==null&&o.data.length>l.maxLength.value&&(z(o,{code:C.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),s.dirty()),o.common.async)return Promise.all([...o.data].map((m,g)=>l.type._parseAsync(new Xe(o,m,o.path,g)))).then(m=>Ce.mergeArray(s,m));const u=[...o.data].map((m,g)=>l.type._parseSync(new Xe(o,m,o.path,g)));return Ce.mergeArray(s,u)}get element(){return this._def.type}min(i,o){return new We({...this._def,minLength:{value:i,message:L.toString(o)}})}max(i,o){return new We({...this._def,maxLength:{value:i,message:L.toString(o)}})}length(i,o){return new We({...this._def,exactLength:{value:i,message:L.toString(o)}})}nonempty(i){return this.min(1,i)}}We.create=(c,i)=>new We({type:c,minLength:null,maxLength:null,exactLength:null,typeName:V.ZodArray,...Y(i)});function Gt(c){if(c instanceof ge){const i={};for(const o in c.shape){const s=c.shape[o];i[o]=st.create(Gt(s))}return new ge({...c._def,shape:()=>i})}else return c instanceof We?new We({...c._def,type:Gt(c.element)}):c instanceof st?st.create(Gt(c.unwrap())):c instanceof Dt?Dt.create(Gt(c.unwrap())):c instanceof qe?qe.create(c.items.map(i=>Gt(i))):c}class ge extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const i=this._def.shape(),o=ee.objectKeys(i);return this._cached={shape:i,keys:o}}_parse(i){if(this._getType(i)!==A.object){const E=this._getOrReturnCtx(i);return z(E,{code:C.invalid_type,expected:A.object,received:E.parsedType}),F}const{status:s,ctx:l}=this._processInputParams(i),{shape:u,keys:m}=this._getCached(),g=[];if(!(this._def.catchall instanceof at&&this._def.unknownKeys==="strip"))for(const E in l.data)m.includes(E)||g.push(E);const w=[];for(const E of m){const T=u[E],W=l.data[E];w.push({key:{status:"valid",value:E},value:T._parse(new Xe(l,W,l.path,E)),alwaysSet:E in l.data})}if(this._def.catchall instanceof at){const E=this._def.unknownKeys;if(E==="passthrough")for(const T of g)w.push({key:{status:"valid",value:T},value:{status:"valid",value:l.data[T]}});else if(E==="strict")g.length>0&&(z(l,{code:C.unrecognized_keys,keys:g}),s.dirty());else if(E!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const E=this._def.catchall;for(const T of g){const W=l.data[T];w.push({key:{status:"valid",value:T},value:E._parse(new Xe(l,W,l.path,T)),alwaysSet:T in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const E=[];for(const T of w){const W=await T.key;E.push({key:W,value:await T.value,alwaysSet:T.alwaysSet})}return E}).then(E=>Ce.mergeObjectSync(s,E)):Ce.mergeObjectSync(s,w)}get shape(){return this._def.shape()}strict(i){return L.errToObj,new ge({...this._def,unknownKeys:"strict",...i!==void 0?{errorMap:(o,s)=>{var l,u,m,g;const w=(m=(u=(l=this._def).errorMap)===null||u===void 0?void 0:u.call(l,o,s).message)!==null&&m!==void 0?m:s.defaultError;return o.code==="unrecognized_keys"?{message:(g=L.errToObj(i).message)!==null&&g!==void 0?g:w}:{message:w}}}:{}})}strip(){return new ge({...this._def,unknownKeys:"strip"})}passthrough(){return new ge({...this._def,unknownKeys:"passthrough"})}extend(i){return new ge({...this._def,shape:()=>({...this._def.shape(),...i})})}merge(i){return new ge({unknownKeys:i._def.unknownKeys,catchall:i._def.catchall,shape:()=>({...this._def.shape(),...i._def.shape()}),typeName:V.ZodObject})}setKey(i,o){return this.augment({[i]:o})}catchall(i){return new ge({...this._def,catchall:i})}pick(i){const o={};return ee.objectKeys(i).forEach(s=>{i[s]&&this.shape[s]&&(o[s]=this.shape[s])}),new ge({...this._def,shape:()=>o})}omit(i){const o={};return ee.objectKeys(this.shape).forEach(s=>{i[s]||(o[s]=this.shape[s])}),new ge({...this._def,shape:()=>o})}deepPartial(){return Gt(this)}partial(i){const o={};return ee.objectKeys(this.shape).forEach(s=>{const l=this.shape[s];i&&!i[s]?o[s]=l:o[s]=l.optional()}),new ge({...this._def,shape:()=>o})}required(i){const o={};return ee.objectKeys(this.shape).forEach(s=>{if(i&&!i[s])o[s]=this.shape[s];else{let u=this.shape[s];for(;u instanceof st;)u=u._def.innerType;o[s]=u}}),new ge({...this._def,shape:()=>o})}keyof(){return Ro(ee.objectKeys(this.shape))}}ge.create=(c,i)=>new ge({shape:()=>c,unknownKeys:"strip",catchall:at.create(),typeName:V.ZodObject,...Y(i)});ge.strictCreate=(c,i)=>new ge({shape:()=>c,unknownKeys:"strict",catchall:at.create(),typeName:V.ZodObject,...Y(i)});ge.lazycreate=(c,i)=>new ge({shape:c,unknownKeys:"strip",catchall:at.create(),typeName:V.ZodObject,...Y(i)});class En extends K{_parse(i){const{ctx:o}=this._processInputParams(i),s=this._def.options;function l(u){for(const g of u)if(g.result.status==="valid")return g.result;for(const g of u)if(g.result.status==="dirty")return o.common.issues.push(...g.ctx.common.issues),g.result;const m=u.map(g=>new Ve(g.ctx.common.issues));return z(o,{code:C.invalid_union,unionErrors:m}),F}if(o.common.async)return Promise.all(s.map(async u=>{const m={...o,common:{...o.common,issues:[]},parent:null};return{result:await u._parseAsync({data:o.data,path:o.path,parent:m}),ctx:m}})).then(l);{let u;const m=[];for(const w of s){const E={...o,common:{...o.common,issues:[]},parent:null},T=w._parseSync({data:o.data,path:o.path,parent:E});if(T.status==="valid")return T;T.status==="dirty"&&!u&&(u={result:T,ctx:E}),E.common.issues.length&&m.push(E.common.issues)}if(u)return o.common.issues.push(...u.ctx.common.issues),u.result;const g=m.map(w=>new Ve(w));return z(o,{code:C.invalid_union,unionErrors:g}),F}}get options(){return this._def.options}}En.create=(c,i)=>new En({options:c,typeName:V.ZodUnion,...Y(i)});const pr=c=>c instanceof Sn?pr(c.schema):c instanceof Be?pr(c.innerType()):c instanceof Pn?[c.value]:c instanceof yt?c.options:c instanceof Tn?Object.keys(c.enum):c instanceof Cn?pr(c._def.innerType):c instanceof wn?[void 0]:c instanceof xn?[null]:null;class Or extends K{_parse(i){const{ctx:o}=this._processInputParams(i);if(o.parsedType!==A.object)return z(o,{code:C.invalid_type,expected:A.object,received:o.parsedType}),F;const s=this.discriminator,l=o.data[s],u=this.optionsMap.get(l);return u?o.common.async?u._parseAsync({data:o.data,path:o.path,parent:o}):u._parseSync({data:o.data,path:o.path,parent:o}):(z(o,{code:C.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),F)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(i,o,s){const l=new Map;for(const u of o){const m=pr(u.shape[i]);if(!m)throw new Error(`A discriminator value for key \`${i}\` could not be extracted from all schema options`);for(const g of m){if(l.has(g))throw new Error(`Discriminator property ${String(i)} has duplicate value ${String(g)}`);l.set(g,u)}}return new Or({typeName:V.ZodDiscriminatedUnion,discriminator:i,options:o,optionsMap:l,...Y(s)})}}function gi(c,i){const o=ht(c),s=ht(i);if(c===i)return{valid:!0,data:c};if(o===A.object&&s===A.object){const l=ee.objectKeys(i),u=ee.objectKeys(c).filter(g=>l.indexOf(g)!==-1),m={...c,...i};for(const g of u){const w=gi(c[g],i[g]);if(!w.valid)return{valid:!1};m[g]=w.data}return{valid:!0,data:m}}else if(o===A.array&&s===A.array){if(c.length!==i.length)return{valid:!1};const l=[];for(let u=0;u<c.length;u++){const m=c[u],g=i[u],w=gi(m,g);if(!w.valid)return{valid:!1};l.push(w.data)}return{valid:!0,data:l}}else return o===A.date&&s===A.date&&+c==+i?{valid:!0,data:c}:{valid:!1}}class kn extends K{_parse(i){const{status:o,ctx:s}=this._processInputParams(i),l=(u,m)=>{if(fi(u)||fi(m))return F;const g=gi(u.value,m.value);return g.valid?((hi(u)||hi(m))&&o.dirty(),{status:o.value,value:g.data}):(z(s,{code:C.invalid_intersection_types}),F)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([u,m])=>l(u,m)):l(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}kn.create=(c,i,o)=>new kn({left:c,right:i,typeName:V.ZodIntersection,...Y(o)});class qe extends K{_parse(i){const{status:o,ctx:s}=this._processInputParams(i);if(s.parsedType!==A.array)return z(s,{code:C.invalid_type,expected:A.array,received:s.parsedType}),F;if(s.data.length<this._def.items.length)return z(s,{code:C.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),F;!this._def.rest&&s.data.length>this._def.items.length&&(z(s,{code:C.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o.dirty());const u=[...s.data].map((m,g)=>{const w=this._def.items[g]||this._def.rest;return w?w._parse(new Xe(s,m,s.path,g)):null}).filter(m=>!!m);return s.common.async?Promise.all(u).then(m=>Ce.mergeArray(o,m)):Ce.mergeArray(o,u)}get items(){return this._def.items}rest(i){return new qe({...this._def,rest:i})}}qe.create=(c,i)=>{if(!Array.isArray(c))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qe({items:c,typeName:V.ZodTuple,rest:null,...Y(i)})};class On extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){const{status:o,ctx:s}=this._processInputParams(i);if(s.parsedType!==A.object)return z(s,{code:C.invalid_type,expected:A.object,received:s.parsedType}),F;const l=[],u=this._def.keyType,m=this._def.valueType;for(const g in s.data)l.push({key:u._parse(new Xe(s,g,s.path,g)),value:m._parse(new Xe(s,s.data[g],s.path,g))});return s.common.async?Ce.mergeObjectAsync(o,l):Ce.mergeObjectSync(o,l)}get element(){return this._def.valueType}static create(i,o,s){return o instanceof K?new On({keyType:i,valueType:o,typeName:V.ZodRecord,...Y(s)}):new On({keyType:Ze.create(),valueType:i,typeName:V.ZodRecord,...Y(o)})}}class wr extends K{_parse(i){const{status:o,ctx:s}=this._processInputParams(i);if(s.parsedType!==A.map)return z(s,{code:C.invalid_type,expected:A.map,received:s.parsedType}),F;const l=this._def.keyType,u=this._def.valueType,m=[...s.data.entries()].map(([g,w],E)=>({key:l._parse(new Xe(s,g,s.path,[E,"key"])),value:u._parse(new Xe(s,w,s.path,[E,"value"]))}));if(s.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const w of m){const E=await w.key,T=await w.value;if(E.status==="aborted"||T.status==="aborted")return F;(E.status==="dirty"||T.status==="dirty")&&o.dirty(),g.set(E.value,T.value)}return{status:o.value,value:g}})}else{const g=new Map;for(const w of m){const E=w.key,T=w.value;if(E.status==="aborted"||T.status==="aborted")return F;(E.status==="dirty"||T.status==="dirty")&&o.dirty(),g.set(E.value,T.value)}return{status:o.value,value:g}}}}wr.create=(c,i,o)=>new wr({valueType:i,keyType:c,typeName:V.ZodMap,...Y(o)});class Rt extends K{_parse(i){const{status:o,ctx:s}=this._processInputParams(i);if(s.parsedType!==A.set)return z(s,{code:C.invalid_type,expected:A.set,received:s.parsedType}),F;const l=this._def;l.minSize!==null&&s.data.size<l.minSize.value&&(z(s,{code:C.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),o.dirty()),l.maxSize!==null&&s.data.size>l.maxSize.value&&(z(s,{code:C.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),o.dirty());const u=this._def.valueType;function m(w){const E=new Set;for(const T of w){if(T.status==="aborted")return F;T.status==="dirty"&&o.dirty(),E.add(T.value)}return{status:o.value,value:E}}const g=[...s.data.values()].map((w,E)=>u._parse(new Xe(s,w,s.path,E)));return s.common.async?Promise.all(g).then(w=>m(w)):m(g)}min(i,o){return new Rt({...this._def,minSize:{value:i,message:L.toString(o)}})}max(i,o){return new Rt({...this._def,maxSize:{value:i,message:L.toString(o)}})}size(i,o){return this.min(i,o).max(i,o)}nonempty(i){return this.min(1,i)}}Rt.create=(c,i)=>new Rt({valueType:c,minSize:null,maxSize:null,typeName:V.ZodSet,...Y(i)});class Xt extends K{constructor(){super(...arguments),this.validate=this.implement}_parse(i){const{ctx:o}=this._processInputParams(i);if(o.parsedType!==A.function)return z(o,{code:C.invalid_type,expected:A.function,received:o.parsedType}),F;function s(g,w){return mr({data:g,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,gr(),_n].filter(E=>!!E),issueData:{code:C.invalid_arguments,argumentsError:w}})}function l(g,w){return mr({data:g,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,gr(),_n].filter(E=>!!E),issueData:{code:C.invalid_return_type,returnTypeError:w}})}const u={errorMap:o.common.contextualErrorMap},m=o.data;return this._def.returns instanceof Kt?Ie(async(...g)=>{const w=new Ve([]),E=await this._def.args.parseAsync(g,u).catch($=>{throw w.addIssue(s(g,$)),w}),T=await m(...E);return await this._def.returns._def.type.parseAsync(T,u).catch($=>{throw w.addIssue(l(T,$)),w})}):Ie((...g)=>{const w=this._def.args.safeParse(g,u);if(!w.success)throw new Ve([s(g,w.error)]);const E=m(...w.data),T=this._def.returns.safeParse(E,u);if(!T.success)throw new Ve([l(E,T.error)]);return T.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...i){return new Xt({...this._def,args:qe.create(i).rest(At.create())})}returns(i){return new Xt({...this._def,returns:i})}implement(i){return this.parse(i)}strictImplement(i){return this.parse(i)}static create(i,o,s){return new Xt({args:i||qe.create([]).rest(At.create()),returns:o||At.create(),typeName:V.ZodFunction,...Y(s)})}}class Sn extends K{get schema(){return this._def.getter()}_parse(i){const{ctx:o}=this._processInputParams(i);return this._def.getter()._parse({data:o.data,path:o.path,parent:o})}}Sn.create=(c,i)=>new Sn({getter:c,typeName:V.ZodLazy,...Y(i)});class Pn extends K{_parse(i){if(i.data!==this._def.value){const o=this._getOrReturnCtx(i);return z(o,{received:o.data,code:C.invalid_literal,expected:this._def.value}),F}return{status:"valid",value:i.data}}get value(){return this._def.value}}Pn.create=(c,i)=>new Pn({value:c,typeName:V.ZodLiteral,...Y(i)});function Ro(c,i){return new yt({values:c,typeName:V.ZodEnum,...Y(i)})}class yt extends K{_parse(i){if(typeof i.data!="string"){const o=this._getOrReturnCtx(i),s=this._def.values;return z(o,{expected:ee.joinValues(s),received:o.parsedType,code:C.invalid_type}),F}if(this._def.values.indexOf(i.data)===-1){const o=this._getOrReturnCtx(i),s=this._def.values;return z(o,{received:o.data,code:C.invalid_enum_value,options:s}),F}return Ie(i.data)}get options(){return this._def.values}get enum(){const i={};for(const o of this._def.values)i[o]=o;return i}get Values(){const i={};for(const o of this._def.values)i[o]=o;return i}get Enum(){const i={};for(const o of this._def.values)i[o]=o;return i}extract(i){return yt.create(i)}exclude(i){return yt.create(this.options.filter(o=>!i.includes(o)))}}yt.create=Ro;class Tn extends K{_parse(i){const o=ee.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(i);if(s.parsedType!==A.string&&s.parsedType!==A.number){const l=ee.objectValues(o);return z(s,{expected:ee.joinValues(l),received:s.parsedType,code:C.invalid_type}),F}if(o.indexOf(i.data)===-1){const l=ee.objectValues(o);return z(s,{received:s.data,code:C.invalid_enum_value,options:l}),F}return Ie(i.data)}get enum(){return this._def.values}}Tn.create=(c,i)=>new Tn({values:c,typeName:V.ZodNativeEnum,...Y(i)});class Kt extends K{unwrap(){return this._def.type}_parse(i){const{ctx:o}=this._processInputParams(i);if(o.parsedType!==A.promise&&o.common.async===!1)return z(o,{code:C.invalid_type,expected:A.promise,received:o.parsedType}),F;const s=o.parsedType===A.promise?o.data:Promise.resolve(o.data);return Ie(s.then(l=>this._def.type.parseAsync(l,{path:o.path,errorMap:o.common.contextualErrorMap})))}}Kt.create=(c,i)=>new Kt({type:c,typeName:V.ZodPromise,...Y(i)});class Be extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===V.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(i){const{status:o,ctx:s}=this._processInputParams(i),l=this._def.effect||null;if(l.type==="preprocess"){const m=l.transform(s.data);return s.common.async?Promise.resolve(m).then(g=>this._def.schema._parseAsync({data:g,path:s.path,parent:s})):this._def.schema._parseSync({data:m,path:s.path,parent:s})}const u={addIssue:m=>{z(s,m),m.fatal?o.abort():o.dirty()},get path(){return s.path}};if(u.addIssue=u.addIssue.bind(u),l.type==="refinement"){const m=g=>{const w=l.refinement(g,u);if(s.common.async)return Promise.resolve(w);if(w instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(s.common.async===!1){const g=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return g.status==="aborted"?F:(g.status==="dirty"&&o.dirty(),m(g.value),{status:o.value,value:g.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(g=>g.status==="aborted"?F:(g.status==="dirty"&&o.dirty(),m(g.value).then(()=>({status:o.value,value:g.value}))))}if(l.type==="transform")if(s.common.async===!1){const m=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!vr(m))return m;const g=l.transform(m.value,u);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:o.value,value:g}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(m=>vr(m)?Promise.resolve(l.transform(m.value,u)).then(g=>({status:o.value,value:g})):m);ee.assertNever(l)}}Be.create=(c,i,o)=>new Be({schema:c,typeName:V.ZodEffects,effect:i,...Y(o)});Be.createWithPreprocess=(c,i,o)=>new Be({schema:i,effect:{type:"preprocess",transform:c},typeName:V.ZodEffects,...Y(o)});class st extends K{_parse(i){return this._getType(i)===A.undefined?Ie(void 0):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}st.create=(c,i)=>new st({innerType:c,typeName:V.ZodOptional,...Y(i)});class Dt extends K{_parse(i){return this._getType(i)===A.null?Ie(null):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}Dt.create=(c,i)=>new Dt({innerType:c,typeName:V.ZodNullable,...Y(i)});class Cn extends K{_parse(i){const{ctx:o}=this._processInputParams(i);let s=o.data;return o.parsedType===A.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:o.path,parent:o})}removeDefault(){return this._def.innerType}}Cn.create=(c,i)=>new Cn({innerType:c,typeName:V.ZodDefault,defaultValue:typeof i.default=="function"?i.default:()=>i.default,...Y(i)});class xr extends K{_parse(i){const{ctx:o}=this._processInputParams(i),s={...o,common:{...o.common,issues:[]}},l=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return yr(l)?l.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Ve(s.common.issues)},input:s.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Ve(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}xr.create=(c,i)=>new xr({innerType:c,typeName:V.ZodCatch,catchValue:typeof i.catch=="function"?i.catch:()=>i.catch,...Y(i)});class Er extends K{_parse(i){if(this._getType(i)!==A.nan){const s=this._getOrReturnCtx(i);return z(s,{code:C.invalid_type,expected:A.nan,received:s.parsedType}),F}return{status:"valid",value:i.data}}}Er.create=c=>new Er({typeName:V.ZodNaN,...Y(c)});const sl=Symbol("zod_brand");class Do extends K{_parse(i){const{ctx:o}=this._processInputParams(i),s=o.data;return this._def.type._parse({data:s,path:o.path,parent:o})}unwrap(){return this._def.type}}class jn extends K{_parse(i){const{status:o,ctx:s}=this._processInputParams(i);if(s.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?F:u.status==="dirty"?(o.dirty(),zo(u.value)):this._def.out._parseAsync({data:u.value,path:s.path,parent:s})})();{const l=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?F:l.status==="dirty"?(o.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:s.path,parent:s})}}static create(i,o){return new jn({in:i,out:o,typeName:V.ZodPipeline})}}const $o=(c,i={},o)=>c?Ht.create().superRefine((s,l)=>{var u,m;if(!c(s)){const g=typeof i=="function"?i(s):typeof i=="string"?{message:i}:i,w=(m=(u=g.fatal)!==null&&u!==void 0?u:o)!==null&&m!==void 0?m:!0,E=typeof g=="string"?{message:g}:g;l.addIssue({code:"custom",...E,fatal:w})}}):Ht.create(),al={object:ge.lazycreate};var V;(function(c){c.ZodString="ZodString",c.ZodNumber="ZodNumber",c.ZodNaN="ZodNaN",c.ZodBigInt="ZodBigInt",c.ZodBoolean="ZodBoolean",c.ZodDate="ZodDate",c.ZodSymbol="ZodSymbol",c.ZodUndefined="ZodUndefined",c.ZodNull="ZodNull",c.ZodAny="ZodAny",c.ZodUnknown="ZodUnknown",c.ZodNever="ZodNever",c.ZodVoid="ZodVoid",c.ZodArray="ZodArray",c.ZodObject="ZodObject",c.ZodUnion="ZodUnion",c.ZodDiscriminatedUnion="ZodDiscriminatedUnion",c.ZodIntersection="ZodIntersection",c.ZodTuple="ZodTuple",c.ZodRecord="ZodRecord",c.ZodMap="ZodMap",c.ZodSet="ZodSet",c.ZodFunction="ZodFunction",c.ZodLazy="ZodLazy",c.ZodLiteral="ZodLiteral",c.ZodEnum="ZodEnum",c.ZodEffects="ZodEffects",c.ZodNativeEnum="ZodNativeEnum",c.ZodOptional="ZodOptional",c.ZodNullable="ZodNullable",c.ZodDefault="ZodDefault",c.ZodCatch="ZodCatch",c.ZodPromise="ZodPromise",c.ZodBranded="ZodBranded",c.ZodPipeline="ZodPipeline"})(V||(V={}));const ll=(c,i={message:`Input not instance of ${c.name}`})=>$o(o=>o instanceof c,i),No=Ze.create,Lo=mt.create,cl=Er.create,dl=vt.create,Zo=bn.create,ul=zt.create,pl=_r.create,fl=wn.create,hl=xn.create,gl=Ht.create,ml=At.create,vl=at.create,yl=br.create,_l=We.create,bl=ge.create,wl=ge.strictCreate,xl=En.create,El=Or.create,kl=kn.create,Ol=qe.create,Sl=On.create,Pl=wr.create,Tl=Rt.create,Cl=Xt.create,jl=Sn.create,Ml=Pn.create,Il=yt.create,Al=Tn.create,zl=Kt.create,To=Be.create,Rl=st.create,Dl=Dt.create,$l=Be.createWithPreprocess,Nl=jn.create,Ll=()=>No().optional(),Zl=()=>Lo().optional(),Vl=()=>Zo().optional(),Wl={string:c=>Ze.create({...c,coerce:!0}),number:c=>mt.create({...c,coerce:!0}),boolean:c=>bn.create({...c,coerce:!0}),bigint:c=>vt.create({...c,coerce:!0}),date:c=>zt.create({...c,coerce:!0})},Bl=F;var fe=Object.freeze({__proto__:null,defaultErrorMap:_n,setErrorMap:Ya,getErrorMap:gr,makeIssue:mr,EMPTY_PATH:Xa,addIssueToContext:z,ParseStatus:Ce,INVALID:F,DIRTY:zo,OK:Ie,isAborted:fi,isDirty:hi,isValid:vr,isAsync:yr,get util(){return ee},get objectUtil(){return pi},ZodParsedType:A,getParsedType:ht,ZodType:K,ZodString:Ze,ZodNumber:mt,ZodBigInt:vt,ZodBoolean:bn,ZodDate:zt,ZodSymbol:_r,ZodUndefined:wn,ZodNull:xn,ZodAny:Ht,ZodUnknown:At,ZodNever:at,ZodVoid:br,ZodArray:We,ZodObject:ge,ZodUnion:En,ZodDiscriminatedUnion:Or,ZodIntersection:kn,ZodTuple:qe,ZodRecord:On,ZodMap:wr,ZodSet:Rt,ZodFunction:Xt,ZodLazy:Sn,ZodLiteral:Pn,ZodEnum:yt,ZodNativeEnum:Tn,ZodPromise:Kt,ZodEffects:Be,ZodTransformer:Be,ZodOptional:st,ZodNullable:Dt,ZodDefault:Cn,ZodCatch:xr,ZodNaN:Er,BRAND:sl,ZodBranded:Do,ZodPipeline:jn,custom:$o,Schema:K,ZodSchema:K,late:al,get ZodFirstPartyTypeKind(){return V},coerce:Wl,any:gl,array:_l,bigint:dl,boolean:Zo,date:ul,discriminatedUnion:El,effect:To,enum:Il,function:Cl,instanceof:ll,intersection:kl,lazy:jl,literal:Ml,map:Pl,nan:cl,nativeEnum:Al,never:vl,null:hl,nullable:Dl,number:Lo,object:bl,oboolean:Vl,onumber:Zl,optional:Rl,ostring:Ll,pipeline:Nl,preprocess:$l,promise:zl,record:Sl,set:Tl,strictObject:wl,string:No,symbol:pl,transformer:To,tuple:Ol,undefined:fl,union:xl,unknown:ml,void:yl,NEVER:Bl,ZodIssueCode:C,quotelessJson:Ga,ZodError:Ve});const mi=fe.string(),yn=fe.number().finite().positive(),di=mi,Vo=fe.object({label:mi,left:fe.number().finite(),top:fe.number().finite(),width:yn,height:yn,background_color:di,foreground_color:di,border_color:di,border_width:yn.or(fe.literal(0)),on_click:mi,type:fe.enum(["","rectangle","checkbox","button","radio button","select","image"])}),Fl=Vo.partial(),yi=fe.string(),Ul=fe.object({category:fe.literal("widget"),id:yi,properties:Vo});fe.object({category:fe.literal("widget"),id:yi,properties:Fl});const Gl=fe.object({zorder:yi.array()}),Yl=Gl.partial(),Xl=fe.string(),ql=fe.object({category:fe.literal("Page"),id:Xl,properties:Yl,widgets:fe.record(fe.string(),Ul)}),Hl=fe.object({width:yn.default(320),height:yn.default(240)}),Kl=fe.string(),Jl=fe.object({category:fe.literal("project"),id:Kl,properties:Hl,pages:fe.record(fe.string(),ql)}),Co=c=>Jl.parse(JSON.parse(c)),_i=":",gt=(c,i)=>i.startsWith(`${c}${_i}`),qt=c=>c.substring(0,c.indexOf(_i)),ce={label:"element",left:0,top:0,width:32,height:32,background_color:"#c8c8c8",foreground_color:"#000000",border_color:"#000000",border_width:0,on_click:"",type:"rectangle"},Wo=()=>({design_width:640,design_height:480,zorder:[]}),Ql={category:"project",properties:{width:240,height:320},pages:{}},ec=c=>{let i={};for(const o in c.widgets)i[o]=c.widgets[o];return{...c,properties:{...Wo(),...c.properties},widgets:i}},jo=(c,i)=>{const o={...c};return i in o&&delete o[i],o},fr=c=>window.structuredClone(c),kr=()=>Math.random().toString(36).substring(2,9)+new Date().getTime().toString(36),tc=c=>`${c}${_i}${kr()}`;class nc{constructor(){I(this,"model");I(this,"listeners",new Set);I(this,"widgets_selection",[]);I(this,"pages_selection",[]);I(this,"clipboard",[]);this.model={...fr(Ql),id:kr()}}set_model(i){this.model=i,this.widgets_selection=[],this.pages_selection=[Object.keys(this.model.pages)[0]],this.listeners.forEach(o=>{o.pages_changed(null,Object.keys(this.model.pages),[],[])}),this.listeners.forEach(o=>{o.pages_selection_changed(null,this.pages_selection)})}copy(i){this.clipboard=i}get_clipboard(){return[...this.clipboard]}register_interest(i){this.listeners.add(i)}unregister_interest(i){this.listeners.delete(i)}add_pages(i,o){const s=[];for(const l of o){const u=kr();s.push(u),this.model.pages[u]={...l,id:u}}this.listeners.forEach(l=>{l.pages_changed(i,s,[],[])})}add_widgets(i,o,s){const l=[];this.widgets_selection=[];for(const u of s){const m=tc(o);l.push(m);const g=this.model.pages[o];g.properties.zorder=g.properties.zorder??[],g.properties.zorder.push(m),g.widgets[m]={...u,properties:{...ce,...u.properties},id:m},this.widgets_selection.push(m)}this.listeners.forEach(u=>{u.widgets_changed(i,o,l,[],[]),u.widgets_selection_changed(i,o,l)})}update_pages(i,o){const s=[];for(const l of o){let u=this.model.pages[l.id];u&&(s.push(u.id),this.model.pages[l.id]={...u,properties:{...u.properties,...l.properties},widgets:{...u.widgets,...l.widgets}})}this.listeners.forEach(l=>{l.pages_changed(i,[],s,[])})}update_widgets(i,o,s,l){const u=[];for(const m of s){let g=this.model.pages[o].widgets[m.id];g&&(u.push(m.id),this.model.pages[o].widgets[m.id]={...g,properties:{...g.properties,...m.properties}},l.length>0&&(this.model.pages[o].properties.zorder=l))}this.listeners.forEach(m=>{m.widgets_changed(i,o,[],u,[])})}delete_pages(i,o){const s=[];for(const l of o)delete this.model.pages[l],s.push(l);this.listeners.forEach(l=>{l.pages_changed(i,[],[],s)})}delete_widgets(i,o,s){const l=[];for(const m of s){const g=this.model.pages[o];delete g.widgets[m],g.properties.zorder&&(g.properties.zorder=g.properties.zorder.filter(w=>w!==m)),l.push(m)}let u=[...this.widgets_selection];for(const m of s)u.includes(m)&&u.splice(u.indexOf(m),1);u.length<this.widgets_selection.length&&this.update_widgets_selection(null,o,u),this.listeners.forEach(m=>{m.widgets_changed(i,o,[],[],l)})}update_pages_selection(i,o){this.pages_selection=[...o],this.listeners.forEach(s=>{s.pages_selection_changed(i,this.pages_selection)})}update_widgets_selection(i,o,s){this.widgets_selection=[...s],this.listeners.forEach(l=>{l.widgets_selection_changed(i,o,this.widgets_selection)})}}let rc=class extends Yt{constructor(o){super("");I(this,"id");this.id=o}getId(){return this.id}};class ic extends It{constructor(o){super();I(this,"page_id");I(this,"store");I(this,"children",[]);I(this,"canvas");I(this,"content");I(this,"scale",1);I(this,"requested_width");I(this,"requested_height");this.htmlElement.className="g-page_view",Q(this.htmlElement,{overflow:"hidden",position:"relative",backgroundColor:"gray",padding:"0",display:"flex",justifyContent:"center",alignItems:"center"}),this.page_id="",this.requested_width=0,this.requested_height=0,this.store=o,this.content=new It,Q(this.htmlElement,{overflow:"hidden",position:"relative",backgroundColor:"darkgrey",padding:"0"}),this.canvas=new It,Q(this.canvas.htmlElement,{position:"relative",overflow:"visible",border:"1px",color:"black",borderStyle:"solid",backgroundColor:"lightgray"}),Mt(this.content,this.canvas),Mt(this,this.content)}setWidth(o){return this.requested_width=o,super.setWidth(o),this}setHeight(o){return this.requested_height=o,super.setHeight(o),this}set_scale(o){this.scale=o,this.page_id!==""&&this.rescale()}set_current_page(o){this.page_id=o,this.rescale(),this.set_children()}rescale(){const o=this.store.model.pages[this.page_id].widgets[""].properties.width??0,s=this.store.model.pages[this.page_id].widgets[""].properties.height??0;this.scale<=0&&(this.scale=Math.min(this.requested_height/s,this.requested_width/o)),Q(this.canvas.htmlElement,{transformOrigin:"0 0",transform:`scale(${this.scale} , ${this.scale})`}),this.content.setWidth(o*this.scale),this.content.setHeight(s*this.scale),this.canvas.setWidth(o),this.canvas.setHeight(s)}set_children(){this.canvas.htmlElement.innerHTML="";const o=this.store.model.pages[this.page_id];if(o){{const s=this.store.model.pages[this.page_id].widgets[""].properties;Q(this.canvas.htmlElement,{backgroundColor:s.background_color})}for(const s of o.properties.zorder??[]){const l=o.widgets[s];if(l){const u=new rc(s);this.addChild(u,l.properties)}}}}pages_changed(o,s,l,u){o!==this&&l.includes(this.page_id)&&this.set_children()}widgets_changed(o,s,l,u,m){if(o!==this&&s===this.page_id)for(const g of[l,u,m])for(const w of g){if(gt(this.page_id,w)){this.set_children();return}if(w===""){const E=this.store.model.pages[this.page_id].widgets[""].properties;Q(this.canvas.htmlElement,{backgroundColor:E.background_color}),this.rescale()}}}widgets_selection_changed(o,s,l){}pages_selection_changed(o,s){s.includes(this.page_id)?this.setBackgroundColor("#050505"):this.setBackgroundColor("#F0F0F0")}addChild(o,s){this.children.push(o);let l=o.htmlElement.style;l.position="absolute",l.left=`${s.left??ce.left}px`,l.top=`${s.top??ce.top}px`,l.width=`${s.width??ce.width}px`,l.height=`${s.height??ce.height}px`,l.backgroundColor=s.background_color??ce.background_color,l.color=s.foreground_color??ce.foreground_color,l.borderStyle="solid",l.borderWidth=`${s.border_width??ce.border_width}px`,l.borderColor=s.border_color??ce.border_color,o.setValue(s.label??s.type??""),Mt(this.canvas,o)}}class oc extends It{constructor(o){super();I(this,"store");I(this,"list");this.htmlElement.className="g-page_list",this.htmlElement.style.backgroundColor="darkgrey",this.store=o,this.list=new Fa,this.list.htmlElement.style.width="100%",this.list.htmlElement.style.height="100%",this.htmlElement.appendChild(this.list.htmlElement),this.store.register_interest(this),this.set_children()}set_children(){this.list.RemoveAllChildren();for(const o of Object.keys(this.store.model.pages)){const s=new ic(this.store).setWidth(160).setHeight(120);s.set_scale(.25),s.set_current_page(o),s.onClick(()=>{this.store.update_pages_selection(s,[o])}),this.store.register_interest(s),this.list.addChild(s)}}pages_changed(o,s,l,u){o!==this&&(s.length>0||u.length>0)&&this.set_children()}widgets_changed(o,s,l,u,m){}widgets_selection_changed(o,s,l){}pages_selection_changed(o,s){}}class sc extends It{constructor(o){super();I(this,"store");I(this,"props",{});I(this,"nb_elements");I(this,"page_id","");I(this,"target_page_list",new ci);this.store=o;const s=new Ua;this.nb_elements=new Yt("0");const l=[{type:"widget_type",name:"type",label:"Type"},{type:"text",name:"label",label:"Label"},{type:"number",name:"top",label:"Y"},{type:"number",name:"left",label:"X"},{type:"number",name:"width",label:"W"},{type:"number",name:"height",label:"H"},{type:"color",name:"background_color",label:"Bg Color"},{type:"color",name:"foreground_color",label:"Color"},{type:"number",name:"border_width",label:"Border width"},{type:"color",name:"border_color",label:"Border color"},{type:"page",name:"on_click",label:"On click"}],u=(g,w)=>({elt:null,build:()=>{if(g==="page"){const E=new ci;E.setNbItemsShown(1);const T=Object.keys(this.store.model.pages);return E.setItems("",["",...T.map(W=>this.store.model.pages[W].widgets[""].properties.label)],["",...T]),E.onChange(()=>{const $=(this.store.widgets_selection.length===0?[""]:this.store.widgets_selection).filter(Z=>qt(Z)===this.page_id||Z==="").map(Z=>({category:"widget",id:Z,properties:{[w]:this.props[w].elt.getValue()}}));this.store.update_widgets(this,this.page_id,$,[])}),E}else{let E;if(g==="widget_type"){let T=new ci;T.setItems("rectangle",["Rectangle","Checkbox","Button","Radio Button","Select","Image"],["rectangle","checkbox","button","radio button","select","image"]),E=T}else E=new ui(g,""),g==="number"?E.setWidth(4,"rem"):g==="text"&&E.setWidth(8,"rem");return E.onChange(()=>{const T=this.props[w].elt.getValue(),$=(this.store.widgets_selection.length===0?[""]:this.store.widgets_selection).filter(Z=>qt(Z)===this.page_id||Z==="").map(Z=>({category:"widget",id:Z,properties:{[w]:g==="number"?parseFloat(T):T}}));this.store.widgets_selection.length===0&&this.store.update_pages(this,[{category:"Page",id:this.page_id,properties:{},widgets:{}}]),this.store.update_widgets(this,this.page_id,$,[])}),E}},update_field:E=>{var T,W;g==="page"?this.props[w].elt.setValue(E):g==="widget_type"&&E===""?(T=this.props[w].elt)==null||T.hide():(g==="widget_type"&&((W=this.props[w].elt)==null||W.show()),this.props[w].elt.setValue(E))},multi_values:()=>{g==="page"?this.props[w].elt.setValue(""):this.props[w].elt.setValue("")}});for(const g of l){const w=u(g.type,g.name);this.props[g.name]=w,w.elt=w.build(),s.add(g.label+":",w.elt),g.type==="page"&&(this.target_page_list=w.elt)}const m=Ut(s).setDistribution("start");m.htmlElement.style.overflowY="auto",this.setLayout(m)}set_current_page(o){this.page_id=o,this.widgets_selection_changed(null,o,o===""?[]:this.store.widgets_selection.filter(s=>gt(o,s)))}pages_changed(o,s,l,u){{const m=Object.keys(this.store.model.pages);let g="";this.store.model.pages[this.page_id]&&(g=this.store.model.pages[this.page_id].widgets[""].properties.on_click),this.target_page_list.setItems(g,["",...m.map(w=>this.store.model.pages[w].widgets[""].properties.label)],["",...m])}}widgets_changed(o,s,l,u,m){if(s===this.page_id&&(this.widgets_selection_changed(o,s,this.store.widgets_selection),u.includes(""))){const g=Object.keys(this.store.model.pages),w=this.store.model.pages[this.page_id].widgets[""].properties.on_click;this.target_page_list.setItems(w,["",...g.map(E=>this.store.model.pages[E].widgets[""].properties.label)],["",...g])}}widgets_selection_changed(o,s,l){if(s!==this.page_id||(this.nb_elements.setValue(`${l.length}`),o===this))return;let u=this.store.widgets_selection.filter(m=>qt(m)===this.page_id||m==="").map(m=>this.store.model.pages[this.page_id].widgets[m]);if(u.length===0&&this.page_id!==""&&(u=[this.store.model.pages[this.page_id].widgets[""]]),u.length===0){for(const m of Object.keys(this.props)){const g=this.props[m];g.elt&&g.elt.hide()}return}for(const m of Object.keys(this.props)){const g=this.props[m];g.elt&&g.elt.show();const w=new Set(u.map(E=>E.properties[m]||""));if(w.size===1){const E=Array.from(w.values())[0];g.update_field(E)}else g.multi_values()}}pages_selection_changed(o,s){s.length===0?this.set_current_page(""):this.page_id!==s[0]&&this.set_current_page(s[0])}}const dr={label:"label",content_page:"generic page",flyout_page:"master/detail page",navigation_page:"navigation page",tabbed_page:"tabbed page",generic_container:"container",absolute_layout:"",flow_layout:"",grid_layout:"",horizontal_layout:"",vertical_layout:"",checkbox:"checkbox",date_picker:"date picker",notepad:"note pad",radio:"radio button",text_entry:"text entry",button:"button"},ac=()=>{const c=[],i=[],o={};for(const s of Object.keys(dr).sort((l,u)=>dr[l].localeCompare(dr[u]))){let l=dr[s];l!==""&&(c.push(s),i.push(l),o[s]=l)}return{types:c,labels:i,label_from_type:o}};ac();const lc=c=>{throw new Error(`ERROR! Reached forbidden guard function with unexpected value: ${JSON.stringify(c)}`)};class cc extends Yt{constructor(o,s,l=0){super("");I(this,"id");I(this,"controller");I(this,"_border_width");this.id=o,this.controller=s,this._border_width=l}getId(){return this.id}setInfo(o){this.controller.update_widget_properties(this.id,o)}set_selected(o){o?this.setBorderWidth(2):this.setBorderWidth(this._border_width)}}class dc extends be{constructor(o){const s=document.createElement("div");super(s);I(this,"page_id");I(this,"store");I(this,"children",[]);I(this,"snap_to_grid",!0);I(this,"snap_precision",8);I(this,"auto_group",!0);I(this,"auto_unmask",!0);I(this,"multi_selection_is_active",!1);I(this,"local_selection",new Set);I(this,"tag_along",new Map);I(this,"page_frame");I(this,"reorder_widgets_to_unmask",(o,s)=>{const l=this.store.model.pages[this.page_id].properties.zorder||[];let u=[...l];for(const m of o)u=pc(m,s,u);for(const m of o)u=uc(m,s,u);return l.length===u.length&&l.every((m,g)=>m===u[g])?[]:u});s.className="g-designer",Q(s,{display:"flex",overflow:"hidden",position:"relative"}),this.page_frame=document.createElement("div"),Q(this.page_frame,{display:"flex",overflow:"hidden",position:"relative",backgroundColor:"red",width:"1px",height:"1px"}),s.appendChild(this.page_frame);let l=!1,u=0,m=0,g=0,w=0,E=0,T=0;this.page_frame.onpointerdown=W=>{W.preventDefault(),l=!0,u=W.x,m=W.y},this.page_frame.onpointerup=()=>{l&&(l=!1,E+=g,T+=w,this.clear_widgets_selection())},this.htmlElement.onpointerup=()=>{l&&(l=!1,E+=g,T+=w)},this.htmlElement.onpointerleave=()=>{l&&(l=!1,E+=g,T+=w)},this.page_frame.onpointermove=W=>{W.preventDefault(),l&&(g=W.x-u,w=W.y-m,this.page_frame.style.translate=`${g+E}px ${w+T}px`)},this.page_id="",this.store=o}round_to_snap(o,s){const l=s?this.snap_precision:1,u=Math.abs(o%l),m=Math.abs(o);return u<l/2?Math.sign(o)*Math.round(m-u):Math.sign(o)*Math.round(m+(l-u))}update_widget_properties(o,s){this.store.update_widgets(this,this.page_id,[{category:"widget",id:o,properties:s}],[])}set_current_page(o){this.page_id=o,this.set_children()}set_children(){this.page_frame.innerHTML="";const o=this.store.model.pages[this.page_id];if(o){{const s=this.store.model.pages[this.page_id].widgets[""].properties;Q(this.page_frame,{width:`${s.width}px`,height:`${s.height}px`,backgroundColor:s.background_color})}for(const s of o.properties.zorder??[]){const l=o.widgets[s];if(l){const u=new cc(s,this,l.properties.border_width);this.addChild(u,l.properties),this.store.widgets_selection.includes(u.id)&&u.setBorderWidth(2)}}}}pages_changed(o,s,l,u){l.includes(this.page_id)&&this.set_children()}widgets_changed(o,s,l,u,m){if(s===this.page_id)for(const g of[l,u,m])for(const w of g){if(gt(this.page_id,w)){this.set_children();return}if(w===""){const E=this.store.model.pages[this.page_id].widgets[""].properties;Q(this.page_frame,{width:`${E.width}px`,height:`${E.height}px`,backgroundColor:E.background_color})}}}widgets_selection_changed(o,s,l){if(s===this.page_id)for(const u of this.children)u.set_selected(l.includes(u.id))}pages_selection_changed(o,s){s.length>0&&s[0]!==this.page_id&&this.set_current_page(s[0])}addChild(o,s){this.children.push(o);let l=o.htmlElement.style;l.position="absolute",l.left=`${s.left??ce.left}px`,l.top=`${s.top??ce.top}px`,l.width=`${s.width??ce.width}px`,l.height=`${s.height??ce.height}px`,l.backgroundColor=s.background_color??ce.background_color,l.color=s.foreground_color??ce.foreground_color,l.borderStyle="solid",l.borderWidth=`${s.border_width??ce.border_width}px`,l.borderColor=s.border_color??ce.border_color,o.setValue(s.label??s.type??""),o.htmlElement.setAttribute("data-id",o.id),this.page_frame.appendChild(o.htmlElement),this.make_draggable(o),this.make_resizable(o)}with_children(o){return this.auto_group?[...hc(o,this.store.model.pages[this.page_id])]:[]}clear_widgets_selection(){this.local_selection=new Set,this.store.update_widgets_selection(this,this.page_id,[])}manage_selection(o,s,l,u){const m=this.multi_selection_is_active||u.shiftKey;if(s&&m&&this.store.widgets_selection.includes(o)?this.local_selection=new Set(this.store.widgets_selection.filter(g=>qt(g)===this.page_id&&g!==o)):s&&m&&!this.store.widgets_selection.includes(o)?this.local_selection=new Set([o,...this.store.widgets_selection.filter(g=>qt(g)===this.page_id)]):s&&!m&&this.store.widgets_selection.includes(o)?this.local_selection=new Set:s&&!m&&!this.store.widgets_selection.includes(o)?this.local_selection=new Set([o]):!s&&m&&this.store.widgets_selection.includes(o)?this.local_selection=new Set([...this.store.widgets_selection]):!s&&m&&!this.store.widgets_selection.includes(o)?this.local_selection=new Set([o,...this.store.widgets_selection.filter(g=>qt(g)===this.page_id)]):!s&&!m&&this.store.widgets_selection.includes(o)?this.local_selection=new Set([...this.store.widgets_selection]):!s&&!m&&!this.store.widgets_selection.includes(o)&&(this.local_selection=new Set([o])),this.tag_along.clear(),this.auto_group)for(const g of this.local_selection)this.tag_along.set(g,new Set(this.with_children(g)));l&&this.store.update_widgets_selection(null,this.page_id,[...this.local_selection])}make_draggable(o){const s=o.htmlElement;let l=0,u=0,m=!1;const g=T=>{T.button===0&&(T.stopPropagation(),m=!1,l=T.clientX,u=T.clientY,document.addEventListener("pointermove",w),document.addEventListener("pointerup",E))},w=T=>{T.preventDefault(),T.stopPropagation();const W=T.clientX-l,$=T.clientY-u;m||(m=!0,this.manage_selection(o.id,!1,!0,T));const Z=new Set([...this.local_selection]);for(const oe of this.tag_along)for(const ie of oe[1])gt(this.page_id,ie)&&Z.add(ie);for(const oe of Z){const ie=this.store.model.pages[this.page_id].widgets[oe].properties,ne=this.page_frame.querySelector(`[data-id='${oe}']`);if(ne){const H=this.round_to_snap(ie.top+$,this.snap_to_grid),re=this.round_to_snap(ie.left+W,this.snap_to_grid);ne.setAttribute("data-top",`${H}`),ne.setAttribute("data-left",`${re}`),ne.style.top=`${H}px`,ne.style.left=`${re}px`}}},E=T=>{if(document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",E),!m)this.manage_selection(o.id,!0,!0,T),m=!1;else{const W=[],$=new Set([...this.local_selection]);for(const Z of this.tag_along)for(const oe of Z[1])gt(this.page_id,oe)&&$.add(oe);for(const Z of $){const oe=this.page_frame.querySelector(`[data-id='${Z}']`);if(oe){const ie=parseFloat(oe.getAttribute("data-top")??"0"),ne=parseFloat(oe.getAttribute("data-left")??"0");W.push({category:"widget",id:Z,properties:{top:ie,left:ne}})}}if(this.auto_unmask){const Z=new Map(Object.entries(this.store.model.pages[this.page_id].widgets));for(let ie=0;ie<W.length;ie++){const ne=this.store.model.pages[this.page_id].widgets[W[ie].id];ne.properties={...ne.properties,...W[ie].properties},Z.set(W[ie].id,ne)}const oe=this.reorder_widgets_to_unmask($,Z);this.store.update_widgets(this,this.page_id,W,oe)}else this.store.update_widgets(this,this.page_id,W,[]),this.store.update_widgets_selection(null,this.page_id,[...this.local_selection])}};s.style.position="absolute",s.style.cursor="default",s.style.userSelect="none",s.addEventListener("pointerdown",g)}make_resizable(o){const s=o.htmlElement,l=4,u=(ie,ne)=>{let H=0,re=0,_e=0,De=0,ye=0,we=0,He=!1,D=null,xe=null,ve=null,me=null;const lt=M=>{M.stopPropagation(),ye=M.clientX,we=M.clientY,H=parseFloat(window.getComputedStyle(s).top.replace("px","")),re=parseFloat(window.getComputedStyle(s).left.replace("px","")),_e=parseFloat(window.getComputedStyle(s).width.replace("px","")),De=parseFloat(window.getComputedStyle(s).height.replace("px","")),document.addEventListener("pointermove",Ke),document.addEventListener("pointerup",Je)},Ke=M=>{M.preventDefault();const U=M.clientX-ye,ze=M.clientY-we;He||(He=!0,this.manage_selection(o.id,!1,!1,M));const ue=this.page_frame.querySelector(`[data-id='${o.id}']`);switch(ne){case"top":{D=this.round_to_snap(H+ze,this.snap_to_grid),ve=Math.max(H+De-D,l),ue.style.top=`${D}px`,ue.style.height=`${ve}px`;break}case"left":{xe=this.round_to_snap(re+U,this.snap_to_grid),me=Math.max(re+_e-xe,l),ue.style.left=`${xe}px`,ue.style.width=`${me}px`;break}case"top_left":{D=this.round_to_snap(H+ze,this.snap_to_grid),ve=Math.max(H+De-D,l),ue.style.top=`${D}px`,ue.style.height=`${ve}px`,xe=this.round_to_snap(re+U,this.snap_to_grid),me=Math.max(re+_e-xe,l),ue.style.left=`${xe}px`,ue.style.width=`${me}px`;break}case"right":{me=Math.max(this.round_to_snap(_e+U,this.snap_to_grid),l),ue.style.width=`${me}px`;break}case"top_right":{D=this.round_to_snap(H+ze,this.snap_to_grid),ve=Math.max(H+De-D,l),ue.style.top=`${D}px`,ue.style.height=`${ve}px`,me=Math.max(this.round_to_snap(_e+U,this.snap_to_grid),l),ue.style.width=`${me}px`;break}case"bottom":{ve=Math.max(this.round_to_snap(De+ze,this.snap_to_grid),l),ue.style.height=`${ve}px`;break}case"bottom_left":{ve=Math.max(this.round_to_snap(De+ze,this.snap_to_grid),l),ue.style.height=`${ve}px`,xe=this.round_to_snap(re+U,this.snap_to_grid),me=Math.max(re+_e-xe,l),ue.style.left=`${xe}px`,ue.style.width=`${me}px`;break}case"bottom_right":{ve=Math.max(this.round_to_snap(De+ze,this.snap_to_grid),l),ue.style.height=`${ve}px`,me=Math.max(this.round_to_snap(_e+U,this.snap_to_grid),l),ue.style.width=`${me}px`;break}default:lc(ne)}},Je=M=>{document.removeEventListener("pointermove",Ke),document.removeEventListener("pointerup",Je),He||this.manage_selection(o.id,!He,!0,M);{let U={};D&&(U.top=D),xe&&(U.left=xe),me&&(U.width=me),ve&&(U.height=ve),o.setInfo(U)}};ie.addEventListener("pointerdown",lt)},m="8px",g=document.createElement("div");Q(g,{position:"absolute",cursor:"row-resize",top:"0",left:"0",right:"0",height:m,userSelect:"none"}),u(g,"top"),s.appendChild(g);const w=document.createElement("div");Q(w,{position:"absolute",cursor:"col-resize",left:"0",top:"0",bottom:"0",width:m,userSelect:"none"}),u(w,"left"),s.appendChild(w);const E=document.createElement("div");Q(E,{position:"absolute",cursor:"col-resize",right:"0",top:"0",bottom:"0",width:m,userSelect:"none"}),u(E,"right"),s.appendChild(E);const T=document.createElement("div");Q(T,{position:"absolute",cursor:"row-resize",bottom:"0",left:"0",right:"0",height:m,userSelect:"none"}),u(T,"bottom"),s.appendChild(T);const W=document.createElement("div");Q(W,{position:"absolute",cursor:"nw-resize",top:"0",left:"0",width:m,height:m,userSelect:"none"}),u(W,"top_left"),s.appendChild(W);const $=document.createElement("div");Q($,{position:"absolute",cursor:"ne-resize",top:"0",right:"0",width:m,height:m,userSelect:"none"}),u($,"top_right"),s.appendChild($);const Z=document.createElement("div");Q(Z,{position:"absolute",cursor:"sw-resize",bottom:"0",left:"0",width:m,height:m,userSelect:"none"}),u(Z,"bottom_left"),s.appendChild(Z);const oe=document.createElement("div");Q(oe,{position:"absolute",cursor:"se-resize",bottom:"0",right:"0",width:m,height:m,userSelect:"none"}),u(oe,"bottom_right"),s.appendChild(oe)}}function Sr(c,i){if(c.properties.left&&i.properties.left&&c.properties.width&&i.properties.width&&c.properties.top&&i.properties.top&&c.properties.height&&i.properties.height){const o=c.properties.left<=i.properties.left&&c.properties.left+c.properties.width>=i.properties.left+i.properties.width,s=c.properties.top<=i.properties.top&&c.properties.top+c.properties.height>=i.properties.top+i.properties.height;return o&&s}return!1}const uc=(c,i,o)=>{const s=o.findIndex(m=>m===c);if(s===-1)return o;const l=i.get(c);let u=s;for(let m=s+1;m<o.length;m++){const g=i.get(o[m]);Sr(g,l)&&(u=m)}if(u===s)return o;{const m=o.slice(0,s),g=o.slice(s+1,u+1),w=[c],E=o.slice(u+1);return[].concat(m,g,w,E)}},pc=(c,i,o)=>{const s=fc(c,i,o);if(s.length===0)return o;const l=o.findIndex(m=>m===s.slice(-1)[0]);let u=[];for(let m=0;m<o.length;m++)m<l?u.push(o[m]):m===l?(u.push(c),u.push(o[m])):o[m]!==c&&u.push(o[m]);return u},fc=(c,i,o)=>{const s=i.get(c);let l=[];const u=o.findIndex(m=>m===c);if(u===-1)return l;for(let m=u-1;m>=0;m--){const g=i.get(o[m]);Sr(s,g)&&l.push(o[m])}return l},hc=(c,i)=>{let o=[],s=!1;for(const l of i.properties.zorder)s?Sr(i.widgets[c],i.widgets[l])&&o.push(l):l===c&&(s=!0);return o},gc=(c,i)=>{const o=i.properties.zorder||[];let s=o.findIndex(l=>l===c);if(s===-1)return null;for(let l=s-1;l>=0;l--){const u=i.widgets[o[l]];if(Sr(u,i.widgets[c]))return u}return null};class mc extends be{constructor({width:o,height:s}){const l=document.createElement("iframe");super(l);I(this,"channel");I(this,"port1");I(this,"message_handler");I(this,"iframe");I(this,"onLoad");this.iframe=l,o&&Q(l,{width:o}),s&&Q(l,{height:s}),this.channel=new MessageChannel,this.port1=this.channel.port1,this.onLoad=()=>{var u;this.message_handler&&(this.port1.onmessage=this.messageHandler),(u=this.iframe.contentWindow)==null||u.postMessage("init","*",[this.channel.port2])},l.addEventListener("load",this.onLoad)}newChannel(){this.channel=new MessageChannel,this.port1=this.channel.port1,this.iframe.addEventListener("load",this.onLoad)}messageHandler(o){this.message_handler&&this.message_handler(o)}setContent(o){this.newChannel(),this.iframe.srcdoc=o}setUrl(o){this.newChannel(),this.iframe.src=o}sendMessage(o){var s;(s=this.port1)==null||s.postMessage(o)}onMessage(o){this.port1.onmessage=o}}const vc=(c,i=!0,o=!0)=>{var w;const s=ec(c),l=new Map;for(let E of s.properties.zorder){const T=((w=gc(E,s))==null?void 0:w.id)||"",W=l.get(T)||[];W.push(E),l.set(T,W)}const u=100/s.widgets[""].properties.width,m=100/s.widgets[""].properties.height,g=(E,T,W)=>{var re;let $=((re=s.widgets[E])==null?void 0:re.properties)??{};E===""&&($.left=0,$.top=0);const Z=E===""?`class="page" data-page_id="${c.id}"`:"",oe=E===""?"":$.label??"",ie=$.on_click===""?"":`onClick="navigate_to('${$.on_click}')"`;let ne=`<div ${Z} style="${E===""&&i?"visibility:visible;":""}background-color:${$.background_color};color:${$.foreground_color};stroke55:${$.foreground_color};border-color:${$.border_color}${$.type!=="rectangle"?"":`;border-width:${$.border_width}px`};border-style:solid;`;ne+=`overflow:hidden;position:absolute;width:${$.width*u}vw;height:${$.height*m}vh;left:${($.left-T)*u}vw;top:${($.top-W)*m}vh;"
			${ie}>${oe}`;const H=l.get(E)||[];return ne+=H.map(_e=>g(_e,$.left,$.top)).join(""),ne+="</div>",ne};return o?`<html><head></head><body style="background-color:lightblue">${g("",0,0)}</body></html>`:g("",0,0)},yc=(c,i)=>`<html><head></head><body style="background-color:lightblue">
	<style>
	:root {
		box-sizing: border-box;
	}
	  
	*, ::before, ::after {
		box-sizing: inherit;
	}

	.page { visibility:hidden; }


.svg-fill-parent { /* required to allow svg to fill parent + stretch */
height: 100%; width: 100%;
}
.sketch-select {
border-style: solid;
border-width: 10px 10px 10px 10px;
border-image: url(doodlecss/button.svg) 10 10 10 10 stretch stretch;
color: black;
padding-right: 16px;
background: url(doodlecss/caret.svg) no-repeat right transparent;
background-position-x: calc(100% - 10px);

display: flex; align-items:center; /* center text vertically */
}
.sketch-button {
border-style: solid;
border-width: 10px 10px 10px 10px;
border-image: url(doodlecss/button.svg) 10 10 10 10 stretch stretch;
color: black;
display: flex; align-items:center; justify-content: center; /* center text vertically and horizontally*/
}
.sketch-textinput {
border-style: solid;
border-width: 10px 10px 10px 10px;
border-image: url(doodlecss/button.svg) 10 10 10 10 stretch stretch;
color: black;
text-align: left;
}
.sketch-image {
border-style: solid;
border-width: 3px 3px 3px 3px;
border-image: url(doodlecss/button.svg) 3 3 3 3 stretch stretch;
border-radius: 3px;
}
.sketch-hr {
border-style: solid;
border-width: 0px 3px 6px 3px;
border-image: url(doodlecss/hr.svg) 0 3 6 3 stretch stretch;
}
.sketch-label {
color: black;
display: flex; flex-direction: row; align-items:center; justify-content: flex-start;
}

	</style> 
		<script>
		const navigate_to = (page_id) => {
			const pages = document.querySelectorAll(".page");
			if(pages) {
				pages.forEach((p) => { p.style.visibility = 'hidden'; });
			}
			const target_page = document.querySelector("[data-page_id='" + page_id + "']");
			if(target_page) {
				target_page.style.visibility = 'visible';
			}
			else {
				console.log('target page not found');
			}
		};
		<\/script> ${Object.values(c.pages).map(l=>vc(l,l.id===i,!1))}</body></html>`;function _c(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var Bo={exports:{}};(function(c,i){(function(o){c.exports=o()})(function(){var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,o.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.getWindow=function(e){return(0,o.default)(e)?e:(e.ownerDocument||e).defaultView||u.window},s.init=m,s.window=s.realWindow=void 0;var l=void 0;s.realWindow=l;var u=void 0;function m(e){s.realWindow=l=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),s.window=u=e}s.window=u,typeof window<"u"&&window&&m(window);var g={};function w(e){return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(e)}Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var E=function(e){return!!e&&w(e)==="object"},T=function(e){return typeof e=="function"},W={window:function(e){return e===s.window||(0,o.default)(e)},docFrag:function(e){return E(e)&&e.nodeType===11},object:E,func:T,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||w(e)!=="object")return!1;var t=s.getWindow(e)||s.window;return/object|function/.test(typeof Element>"u"?"undefined":w(Element))?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return E(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return E(e)&&e.length!==void 0&&T(e.splice)}};g.default=W;var $={};function Z(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.prepared.axis;n==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):n==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function oe(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="drag"){var r=n.prepared.axis;if(r==="x"||r==="y"){var a=r==="x"?"y":"x";t.page[a]=n.coords.start.page[a],t.client[a]=n.coords.start.client[a],t.delta[a]=0}}}Object.defineProperty($,"__esModule",{value:!0}),$.default=void 0;var ie={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=ie.draggable,t.map.drag=ie,t.methodDict.drag="draggable",r.actions.drag=ie.defaults},listeners:{"interactions:before-action-move":Z,"interactions:action-resume":Z,"interactions:action-move":oe,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,a=n.options.drag;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||r&n.options.drag.mouseButtons))return e.action={name:"drag",axis:a.lockAxis==="start"?a.startAxis:a.lockAxis},!1}},draggable:function(e){return g.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):g.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:Z,move:oe,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},ne=ie;$.default=ne;var H={};Object.defineProperty(H,"__esModule",{value:!0}),H.default=void 0;var re={init:function(e){var t=e;re.document=t.document,re.DocumentFragment=t.DocumentFragment||_e,re.SVGElement=t.SVGElement||_e,re.SVGSVGElement=t.SVGSVGElement||_e,re.SVGElementInstance=t.SVGElementInstance||_e,re.Element=t.Element||_e,re.HTMLElement=t.HTMLElement||re.Element,re.Event=t.Event,re.Touch=t.Touch||_e,re.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function _e(){}var De=re;H.default=De;var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0;var we={init:function(e){var t=H.default.Element,n=e.navigator||{};we.supportsTouch="ontouchstart"in e||g.default.func(e.DocumentTouch)&&H.default.document instanceof e.DocumentTouch,we.supportsPointerEvent=n.pointerEnabled!==!1&&!!H.default.PointerEvent,we.isIOS=/iP(hone|od|ad)/.test(n.platform),we.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),we.isIe9=/MSIE 9/.test(n.userAgent),we.isOperaMobile=n.appName==="Opera"&&we.supportsTouch&&/Presto/.test(n.userAgent),we.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",we.pEventTypes=we.supportsPointerEvent?H.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,we.wheelEvent=H.default.document&&"onmousewheel"in H.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},He=we;ye.default=He;var D={};function xe(e){var t=e.parentNode;if(g.default.docFrag(t)){for(;(t=t.host)&&g.default.docFrag(t););return t}return t}function ve(e,t){return s.window!==s.realWindow&&(t=t.replace(/\/deep\//g," ")),e[ye.default.prefixedMatchesSelector](t)}Object.defineProperty(D,"__esModule",{value:!0}),D.closest=function(e,t){for(;g.default.element(e);){if(ve(e,t))return e;e=xe(e)}return null},D.getActualElement=function(e){return e.correspondingUseElement||e},D.getElementClientRect=Je,D.getElementRect=function(e){var t=Je(e);if(!ye.default.isIOS7&&t){var n=Ke(s.getWindow(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t},D.getPath=function(e){for(var t=[];e;)t.push(e),e=xe(e);return t},D.getScrollXY=Ke,D.indexOfDeepestElement=function(e){for(var t,n=[],r=0;r<e.length;r++){var a=e[r],d=e[t];if(a&&r!==t)if(d){var h=me(a),p=me(d);if(h!==a.ownerDocument)if(p!==a.ownerDocument)if(h!==p){n=n.length?n:lt(d);var f=void 0;if(d instanceof H.default.HTMLElement&&a instanceof H.default.SVGElement&&!(a instanceof H.default.SVGSVGElement)){if(a===p)continue;f=a.ownerSVGElement}else f=a;for(var v=lt(f,d.ownerDocument),y=0;v[y]&&v[y]===n[y];)y++;var _=[v[y-1],v[y],n[y]];if(_[0])for(var x=_[0].lastChild;x;){if(x===_[1]){t=r,n=v;break}if(x===_[2])break;x=x.previousSibling}}else k=a,b=d,(parseInt(s.getWindow(k).getComputedStyle(k).zIndex,10)||0)>=(parseInt(s.getWindow(b).getComputedStyle(b).zIndex,10)||0)&&(t=r);else t=r}else t=r}var k,b;return t},D.matchesSelector=ve,D.matchesUpTo=function(e,t,n){for(;g.default.element(e);){if(ve(e,t))return!0;if((e=xe(e))===n)return ve(e,t)}return!1},D.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},D.parentNode=xe,D.trySelector=function(e){return!!g.default.string(e)&&(H.default.document.querySelector(e),!0)};var me=function(e){return e.parentNode||e.host};function lt(e,t){for(var n,r=[],a=e;(n=me(a))&&a!==t&&n!==a.ownerDocument;)r.unshift(a),a=n;return r}function Ke(e){return{x:(e=e||s.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function Je(e){var t=e instanceof H.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e,t){for(var n in t)e[n]=t[n];return e};var U={};function ze(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ue(e,t,n){return e==="parent"?(0,D.parentNode)(n):e==="self"?t.getRect(n):(0,D.closest)(n,e)}Object.defineProperty(U,"__esModule",{value:!0}),U.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top},U.getStringOptionResult=ue,U.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},U.resolveRectLike=function(e,t,n,r){var a,d=e;return g.default.string(d)?d=ue(d,t,n):g.default.func(d)&&(d=d.apply(void 0,function(h){if(Array.isArray(h))return ze(h)}(a=r)||function(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}(a)||function(h,p){if(h){if(typeof h=="string")return ze(h,p);var f=Object.prototype.toString.call(h).slice(8,-1);return f==="Object"&&h.constructor&&(f=h.constructor.name),f==="Map"||f==="Set"?Array.from(h):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?ze(h,p):void 0}}(a)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),g.default.element(d)&&(d=(0,D.getElementRect)(d)),d},U.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,M.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},U.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,M.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e};var Ne={};Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=function(e,t,n){var r=e.options[n],a=r&&r.origin||e.options.origin,d=(0,U.resolveRectLike)(a,e,t,[e&&t]);return(0,U.rectToXY)(d)||{x:0,y:0}};var Fe={};function _t(e){return e.trim().split(/ +/)}Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=function e(t,n,r){if(r=r||{},g.default.string(t)&&t.search(" ")!==-1&&(t=_t(t)),g.default.array(t))return t.reduce(function(f,v){return(0,M.default)(f,e(v,n,r))},r);if(g.default.object(t)&&(n=t,t=""),g.default.func(n))r[t]=r[t]||[],r[t].push(n);else if(g.default.array(n))for(var a=0;a<n.length;a++){var d;d=n[a],e(t,d,r)}else if(g.default.object(n))for(var h in n){var p=_t(h).map(function(f){return"".concat(t).concat(f)});e(p,n[h],r)}return r};var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0,X.default=function(e,t){return Math.sqrt(e*e+t*t)};var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.default=function(e,t){e.__set||(e.__set={});var n=function(a){typeof e[a]!="function"&&a!=="__set"&&Object.defineProperty(e,a,{get:function(){return a in e.__set?e.__set[a]:e.__set[a]=t[a]},set:function(d){e.__set[a]=d},configurable:!0})};for(var r in t)n(r);return e};var O={};function Ee(e){return e instanceof H.default.Event||e instanceof H.default.Touch}function Pe(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function Jt(e,t){return t=t||{x:0,y:0},ye.default.isOperaMobile&&Ee(e)?(Pe("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):Pe("page",e,t),t}function Mn(e,t){return t=t||{},ye.default.isOperaMobile&&Ee(e)?Pe("screen",e,t):Pe("client",e,t),t}function Ue(e){var t=[];return g.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function bt(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var a in t)t[a]+=r[a]}for(var d in t)t[d]/=e.length;return t}Object.defineProperty(O,"__esModule",{value:!0}),O.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},O.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},O.getClientXY=Mn,O.getEventTargets=function(e){var t=g.default.func(e.composedPath)?e.composedPath():e.path;return[D.getActualElement(t?t[0]:e.target),D.getActualElement(e.currentTarget)]},O.getPageXY=Jt,O.getPointerId=function(e){return g.default.number(e.pointerId)?e.pointerId:e.identifier},O.getPointerType=function(e){return g.default.string(e.pointerType)?e.pointerType:g.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof H.default.Touch?"touch":"mouse"},O.getTouchPair=Ue,O.getXY=Pe,O.isNativePointer=Ee,O.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},O.pointerAverage=bt,Object.defineProperty(O,"pointerExtend",{enumerable:!0,get:function(){return q.default}}),O.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},O.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},O.setCoords=function(e,t,n){var r=t.length>1?bt(t):t[0];Jt(r,e.page),Mn(r,e.client),e.timeStamp=n},O.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},O.touchAngle=function(e,t){var n=t+"X",r=t+"Y",a=Ue(e),d=a[1][n]-a[0][n],h=a[1][r]-a[0][r];return 180*Math.atan2(h,d)/Math.PI},O.touchBBox=function(e){if(!e.length)return null;var t=Ue(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),a=Math.max(t[0].pageX,t[1].pageX),d=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:a,bottom:d,width:a-n,height:d-r}},O.touchDistance=function(e,t){var n=t+"X",r=t+"Y",a=Ue(e),d=a[0][n]-a[1][n],h=a[0][r]-a[1][r];return(0,X.default)(d,h)};var Ge={};function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.BaseEvent=void 0;var wi=function(){function e(r){(function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),bi(this,"immediatePropagationStopped",!1),bi(this,"propagationStopped",!1),this._interaction=r}var t,n;return t=e,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Uo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ge.BaseEvent=wi,Object.defineProperty(wi.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var se={};Object.defineProperty(se,"__esModule",{value:!0}),se.remove=se.merge=se.from=se.findIndex=se.find=se.contains=void 0,se.contains=function(e,t){return e.indexOf(t)!==-1},se.remove=function(e,t){return e.splice(e.indexOf(t),1)};var xi=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e};se.merge=xi,se.from=function(e){return xi([],e)};var Ei=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};se.findIndex=Ei,se.find=function(e,t){return e[Ei(e,t)]};var Qe={};function Pr(e){return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(e)}function Go(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Tr(e,t)}function Yo(e,t){if(t&&(Pr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wt(e)}function wt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(e){return In=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},In(e)}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.DropEvent=void 0;var Xo=function(e){(function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),f&&Tr(p,f)})(h,e);var t,n,r,a,d=(r=h,a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var p,f=In(r);if(a){var v=In(this).constructor;p=Reflect.construct(f,arguments,v)}else p=f.apply(this,arguments);return Yo(this,p)});function h(p,f,v){var y;(function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")})(this,h),$t(wt(y=d.call(this,f._interaction)),"dropzone",void 0),$t(wt(y),"dragEvent",void 0),$t(wt(y),"relatedTarget",void 0),$t(wt(y),"draggable",void 0),$t(wt(y),"propagationStopped",!1),$t(wt(y),"immediatePropagationStopped",!1);var _=v==="dragleave"?p.prev:p.cur,x=_.element,k=_.dropzone;return y.type=v,y.target=x,y.currentTarget=x,y.dropzone=k,y.dragEvent=f,y.relatedTarget=f.target,y.draggable=f.interactable,y.timeStamp=f.timeStamp,y}return t=h,(n=[{key:"reject",value:function(){var p=this,f=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&f.cur.dropzone===this.dropzone&&f.cur.element===this.target)if(f.prev.dropzone=this.dropzone,f.prev.element=this.target,f.rejected=!0,f.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var v=f.activeDrops,y=se.findIndex(v,function(x){var k=x.dropzone,b=x.element;return k===p.dropzone&&b===p.target});f.activeDrops.splice(y,1);var _=new h(f,this.dragEvent,"dropdeactivate");_.dropzone=this.dropzone,_.target=this.target,this.dropzone.fire(_)}else this.dropzone.fire(new h(f,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Go(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(Ge.BaseEvent);Qe.DropEvent=Xo;var An={};function ki(e,t){for(var n=0;n<e.slice().length;n++){var r=e.slice()[n],a=r.dropzone,d=r.element;t.dropzone=a,t.target=d,a.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function Cr(e,t){for(var n=function(d,h){for(var p=d.interactables,f=[],v=0;v<p.list.length;v++){var y=p.list[v];if(y.options.drop.enabled){var _=y.options.drop.accept;if(!(g.default.element(_)&&_!==h||g.default.string(_)&&!D.matchesSelector(h,_)||g.default.func(_)&&!_({dropzone:y,draggableElement:h})))for(var x=g.default.string(y.target)?y._context.querySelectorAll(y.target):g.default.array(y.target)?y.target:[y.target],k=0;k<x.length;k++){var b=x[k];b!==h&&f.push({dropzone:y,element:b,rect:y.getRect(b)})}}}return f}(e,t),r=0;r<n.length;r++){var a=n[r];a.rect=a.dropzone.getRect(a.element)}return n}function Oi(e,t,n){for(var r=e.dropState,a=e.interactable,d=e.element,h=[],p=0;p<r.activeDrops.length;p++){var f=r.activeDrops[p],v=f.dropzone,y=f.element,_=f.rect;h.push(v.dropCheck(t,n,a,d,y,_)?y:null)}var x=D.indexOfDeepestElement(h);return r.activeDrops[x]||null}function jr(e,t,n){var r=e.dropState,a={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(a.activate=new Qe.DropEvent(r,n,"dropactivate"),a.activate.target=null,a.activate.dropzone=null),n.type==="dragend"&&(a.deactivate=new Qe.DropEvent(r,n,"dropdeactivate"),a.deactivate.target=null,a.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(a.leave=new Qe.DropEvent(r,n,"dragleave"),n.dragLeave=a.leave.target=r.prev.element,n.prevDropzone=a.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(a.enter=new Qe.DropEvent(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),n.type==="dragend"&&r.cur.dropzone&&(a.drop=new Qe.DropEvent(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),n.type==="dragmove"&&r.cur.dropzone&&(a.move=new Qe.DropEvent(r,n,"dropmove"),a.move.dragmove=n,n.dropzone=r.cur.dropzone)),a}function Mr(e,t){var n=e.dropState,r=n.activeDrops,a=n.cur,d=n.prev;t.leave&&d.dropzone.fire(t.leave),t.enter&&a.dropzone.fire(t.enter),t.move&&a.dropzone.fire(t.move),t.drop&&a.dropzone.fire(t.drop),t.deactivate&&ki(r,t.deactivate),n.prev.dropzone=a.dropzone,n.prev.element=a.element}function Si(e,t){var n=e.interaction,r=e.iEvent,a=e.event;if(r.type==="dragmove"||r.type==="dragend"){var d=n.dropState;t.dynamicDrop&&(d.activeDrops=Cr(t,n.element));var h=r,p=Oi(n,h,a);d.rejected=d.rejected&&!!p&&p.dropzone===d.cur.dropzone&&p.element===d.cur.element,d.cur.dropzone=p&&p.dropzone,d.cur.element=p&&p.element,d.events=jr(n,0,h)}}Object.defineProperty(An,"__esModule",{value:!0}),An.default=void 0;var Pi={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,a=e.defaults;e.usePlugin($.default),r.prototype.dropzone=function(d){return function(h,p){if(g.default.object(p)){if(h.options.drop.enabled=p.enabled!==!1,p.listeners){var f=(0,Fe.default)(p.listeners),v=Object.keys(f).reduce(function(y,_){return y[/^(enter|leave)/.test(_)?"drag".concat(_):/^(activate|deactivate|move)/.test(_)?"drop".concat(_):_]=f[_],y},{});h.off(h.options.drop.listeners),h.on(v),h.options.drop.listeners=v}return g.default.func(p.ondrop)&&h.on("drop",p.ondrop),g.default.func(p.ondropactivate)&&h.on("dropactivate",p.ondropactivate),g.default.func(p.ondropdeactivate)&&h.on("dropdeactivate",p.ondropdeactivate),g.default.func(p.ondragenter)&&h.on("dragenter",p.ondragenter),g.default.func(p.ondragleave)&&h.on("dragleave",p.ondragleave),g.default.func(p.ondropmove)&&h.on("dropmove",p.ondropmove),/^(pointer|center)$/.test(p.overlap)?h.options.drop.overlap=p.overlap:g.default.number(p.overlap)&&(h.options.drop.overlap=Math.max(Math.min(1,p.overlap),0)),"accept"in p&&(h.options.drop.accept=p.accept),"checker"in p&&(h.options.drop.checker=p.checker),h}return g.default.bool(p)?(h.options.drop.enabled=p,h):h.options.drop}(this,d)},r.prototype.dropCheck=function(d,h,p,f,v,y){return function(_,x,k,b,S,j,P){var R=!1;if(!(P=P||_.getRect(j)))return!!_.options.drop.checker&&_.options.drop.checker(x,k,R,_,j,b,S);var N=_.options.drop.overlap;if(N==="pointer"){var G=(0,Ne.default)(b,S,"drag"),te=O.getPageXY(x);te.x+=G.x,te.y+=G.y;var de=te.x>P.left&&te.x<P.right,J=te.y>P.top&&te.y<P.bottom;R=de&&J}var le=b.getRect(S);if(le&&N==="center"){var $e=le.left+le.width/2,ot=le.top+le.height/2;R=$e>=P.left&&$e<=P.right&&ot>=P.top&&ot<=P.bottom}return le&&g.default.number(N)&&(R=Math.max(0,Math.min(P.right,le.right)-Math.max(P.left,le.left))*Math.max(0,Math.min(P.bottom,le.bottom)-Math.max(P.top,le.top))/(le.width*le.height)>=N),_.options.drop.checker&&(R=_.options.drop.checker(x,k,R,_,j,b,S)),R}(this,d,h,p,f,v,y)},n.dynamicDrop=function(d){return g.default.bool(d)?(e.dynamicDrop=d,n):e.dynamicDrop},(0,M.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,a.actions.drop=Pi.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if(n.prepared.name==="drag"){var a=n.dropState;a.activeDrops=null,a.events=null,a.activeDrops=Cr(t,n.element),a.events=jr(n,0,r),a.events.activate&&(ki(a.activeDrops,a.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":Si,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;n.prepared.name==="drag"&&(Mr(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var n=e.interaction,r=e.iEvent;Si(e,t),Mr(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:Cr,getDrop:Oi,getDropEvents:jr,fireDropEvents:Mr,defaults:{enabled:!1,accept:null,overlap:"pointer"}},qo=Pi;An.default=qo;var zn={};function Ir(e){var t=e.interaction,n=e.iEvent,r=e.phase;if(t.prepared.name==="gesture"){var a=t.pointers.map(function(v){return v.pointer}),d=r==="start",h=r==="end",p=t.interactable.options.deltaSource;if(n.touches=[a[0],a[1]],d)n.distance=O.touchDistance(a,p),n.box=O.touchBBox(a),n.scale=1,n.ds=0,n.angle=O.touchAngle(a,p),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(h){var f=t.prevEvent;n.distance=f.distance,n.box=f.box,n.scale=f.scale,n.ds=0,n.angle=f.angle,n.da=0}else n.distance=O.touchDistance(a,p),n.box=O.touchBBox(a),n.scale=n.distance/t.gesture.startDistance,n.angle=O.touchAngle(a,p),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,g.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(zn,"__esModule",{value:!0}),zn.default=void 0;var Ar={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(a){return g.default.object(a)?(this.options.gesture.enabled=a.enabled!==!1,this.setPerAction("gesture",a),this.setOnEvents("gesture",a),this):g.default.bool(a)?(this.options.gesture.enabled=a,this):this.options.gesture},t.map.gesture=Ar,t.methodDict.gesture="gesturable",r.actions.gesture=Ar.defaults},listeners:{"interactions:action-start":Ir,"interactions:action-move":Ir,"interactions:action-end":Ir,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Ho=Ar;zn.default=Ho;var Rn={};function Ko(e,t,n,r,a,d,h){if(!t)return!1;if(t===!0){var p=g.default.number(d.width)?d.width:d.right-d.left,f=g.default.number(d.height)?d.height:d.bottom-d.top;if(h=Math.min(h,Math.abs((e==="left"||e==="right"?p:f)/2)),p<0&&(e==="left"?e="right":e==="right"&&(e="left")),f<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){var v=p>=0?d.left:d.right;return n.x<v+h}if(e==="top"){var y=f>=0?d.top:d.bottom;return n.y<y+h}if(e==="right")return n.x>(p>=0?d.right:d.left)-h;if(e==="bottom")return n.y>(f>=0?d.bottom:d.top)-h}return!!g.default.element(r)&&(g.default.element(t)?t===r:D.matchesUpTo(r,t,a))}function Ti(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var r=t;n.interactable.options.resize.square?(n.resizeAxes==="y"?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,n.resizeAxes==="x"?r.delta.y=0:n.resizeAxes==="y"&&(r.delta.x=0))}}Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.default=void 0;var et={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,a=e.defaults;et.cursors=function(d){return d.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),et.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(d){return function(h,p,f){return g.default.object(p)?(h.options.resize.enabled=p.enabled!==!1,h.setPerAction("resize",p),h.setOnEvents("resize",p),g.default.string(p.axis)&&/^x$|^y$|^xy$/.test(p.axis)?h.options.resize.axis=p.axis:p.axis===null&&(h.options.resize.axis=f.defaults.actions.resize.axis),g.default.bool(p.preserveAspectRatio)?h.options.resize.preserveAspectRatio=p.preserveAspectRatio:g.default.bool(p.square)&&(h.options.resize.square=p.square),h):g.default.bool(p)?(h.options.resize.enabled=p,h):h.options.resize}(this,d,e)},t.map.resize=et,t.methodDict.resize="resizable",a.actions.resize=et.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var n=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var a=n,d=r.rect;r._rects={start:(0,M.default)({},d),corrected:(0,M.default)({},d),previous:(0,M.default)({},d),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},a.edges=r.prepared.edges,a.rect=r._rects.corrected,a.deltaRect=r._rects.delta}})(e),Ti(e)},"interactions:action-move":function(e){(function(t){var n=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var a=n,d=r.interactable.options.resize.invert,h=d==="reposition"||d==="negate",p=r.rect,f=r._rects,v=f.start,y=f.corrected,_=f.delta,x=f.previous;if((0,M.default)(x,y),h){if((0,M.default)(y,p),d==="reposition"){if(y.top>y.bottom){var k=y.top;y.top=y.bottom,y.bottom=k}if(y.left>y.right){var b=y.left;y.left=y.right,y.right=b}}}else y.top=Math.min(p.top,v.bottom),y.bottom=Math.max(p.bottom,v.top),y.left=Math.min(p.left,v.right),y.right=Math.max(p.right,v.left);for(var S in y.width=y.right-y.left,y.height=y.bottom-y.top,y)_[S]=y[S]-x[S];a.edges=r.prepared.edges,a.rect=y,a.deltaRect=_}})(e),Ti(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,a=e.rect,d=e.buttons;if(a){var h=(0,M.default)({},t.coords.cur.page),p=n.options.resize;if(p&&p.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||d&p.mouseButtons)){if(g.default.object(p.edges)){var f={left:!1,right:!1,top:!1,bottom:!1};for(var v in f)f[v]=Ko(v,p.edges[v],h,t._latestPointer.eventTarget,r,a,p.margin||et.defaultMargin);f.left=f.left&&!f.right,f.top=f.top&&!f.bottom,(f.left||f.right||f.top||f.bottom)&&(e.action={name:"resize",edges:f})}else{var y=p.axis!=="y"&&h.x>a.right-et.defaultMargin,_=p.axis!=="x"&&h.y>a.bottom-et.defaultMargin;(y||_)&&(e.action={name:"resize",axes:(y?"x":"")+(_?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,a=et.cursors,d=null;if(n)d=a[r+n];else if(t){for(var h="",p=["top","bottom","left","right"],f=0;f<p.length;f++){var v=p[f];t[v]&&(h+=v)}d=a[h]}return d},defaultMargin:null},Jo=et;Rn.default=Jo;var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.default=void 0;var Qo={id:"actions",install:function(e){e.usePlugin(zn.default),e.usePlugin(Rn.default),e.usePlugin($.default),e.usePlugin(An.default)}};Qt.default=Qo;var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var tt,xt,Ci=0,es={request:function(e){return tt(e)},cancel:function(e){return xt(e)},init:function(e){if(tt=e.requestAnimationFrame,xt=e.cancelAnimationFrame,!tt)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];tt=e["".concat(r,"RequestAnimationFrame")],xt=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}tt=tt&&tt.bind(e),xt=xt&&xt.bind(e),tt||(tt=function(a){var d=Date.now(),h=Math.max(0,16-(d-Ci)),p=e.setTimeout(function(){a(d+h)},h);return Ci=d+h,p},xt=function(a){return clearTimeout(a)})}};Le.default=es;var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=void 0,nt.getContainer=Dn,nt.getScroll=en,nt.getScrollSize=function(e){return g.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},nt.getScrollSizeDelta=function(e,t){var n=e.interaction,r=e.element,a=n&&n.interactable.options[n.prepared.name].autoScroll;if(!a||!a.enabled)return t(),{x:0,y:0};var d=Dn(a.container,n.interactable,r),h=en(d);t();var p=en(d);return{x:p.x-h.x,y:p.y-h.y}};var B={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){B.isScrolling=!0,Le.default.cancel(B.i),e.autoScroll=B,B.interaction=e,B.prevTime=B.now(),B.i=Le.default.request(B.scroll)},stop:function(){B.isScrolling=!1,B.interaction&&(B.interaction.autoScroll=null),Le.default.cancel(B.i)},scroll:function(){var e=B.interaction,t=e.interactable,n=e.element,r=e.prepared.name,a=t.options[r].autoScroll,d=Dn(a.container,t,n),h=B.now(),p=(h-B.prevTime)/1e3,f=a.speed*p;if(f>=1){var v={x:B.x*f,y:B.y*f};if(v.x||v.y){var y=en(d);g.default.window(d)?d.scrollBy(v.x,v.y):d&&(d.scrollLeft+=v.x,d.scrollTop+=v.y);var _=en(d),x={x:_.x-y.x,y:_.y-y.y};(x.x||x.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:x,interaction:e,container:d})}B.prevTime=h}B.isScrolling&&(Le.default.cancel(B.i),B.i=Le.default.request(B.scroll))},check:function(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&B.check(t.interactable,t.prepared.name))if(t.simulation)B.x=B.y=0;else{var r,a,d,h,p=t.interactable,f=t.element,v=t.prepared.name,y=p.options[v].autoScroll,_=Dn(y.container,p,f);if(g.default.window(_))h=n.clientX<B.margin,r=n.clientY<B.margin,a=n.clientX>_.innerWidth-B.margin,d=n.clientY>_.innerHeight-B.margin;else{var x=D.getElementClientRect(_);h=n.clientX<x.left+B.margin,r=n.clientY<x.top+B.margin,a=n.clientX>x.right-B.margin,d=n.clientY>x.bottom-B.margin}B.x=a?1:h?-1:0,B.y=d?1:r?-1:0,B.isScrolling||(B.margin=y.margin,B.speed=y.speed,B.start(t))}}};function Dn(e,t,n){return(g.default.string(e)?(0,U.getStringOptionResult)(e,t,n):e)||(0,s.getWindow)(n)}function en(e){return g.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var ts={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=B,B.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=B.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,B.stop(),B.interaction&&(B.interaction=null)},"interactions:stop":B.stop,"interactions:action-move":function(e){return B.onInteractionMove(e)}}},ns=ts;nt.default=ns;var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},Re.sign=void 0,Re.warnOnce=function(e,t){var n=!1;return function(){return n||(s.window.console.warn(t),n=!0),e.apply(this,arguments)}},Re.sign=function(e){return e>=0?1:-1};var $n={};function rs(e){return g.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function is(e){return g.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty($n,"__esModule",{value:!0}),$n.default=void 0;var os={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(n,r,a,d){var h=function(p,f,v,y,_){var x=p.getRect(y),k={action:null,interactable:p,interaction:v,element:y,rect:x,buttons:f.buttons||{0:1,1:4,3:8,4:16}[f.button]};return _.fire("auto-start:check",k),k.action}(this,r,a,d,e);return this.options.actionChecker?this.options.actionChecker(n,r,h,this,d,a):h},t.prototype.ignoreFrom=(0,Re.warnOnce)(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,Re.warnOnce)(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=is,t.prototype.styleCursor=rs}};$n.default=os;var Nt={};function ji(e,t,n,r,a){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&Nn(t,n,e,a)?e:null}function ss(e,t,n,r,a,d,h){for(var p=0,f=r.length;p<f;p++){var v=r[p],y=a[p],_=v.getAction(t,n,e,y);if(_){var x=ji(_,v,y,d,h);if(x)return{action:x,interactable:v,element:y}}}return{action:null,interactable:null,element:null}}function Mi(e,t,n,r,a){var d=[],h=[],p=r;function f(y){d.push(y),h.push(p)}for(;g.default.element(p);){d=[],h=[],a.interactables.forEachMatch(p,f);var v=ss(e,t,n,d,h,r,a);if(v.action&&!v.interactable.options[v.action.name].manualStart)return v;p=D.parentNode(p)}return{action:null,interactable:null,element:null}}function Ii(e,t,n){var r=t.action,a=t.interactable,d=t.element;r=r||{name:null},e.interactable=a,e.element=d,(0,Re.copyAction)(e.prepared,r),e.rect=a&&r.name?a.getRect(d):null,zi(e,n),n.fire("autoStart:prepared",{interaction:e})}function Nn(e,t,n,r){var a=e.options,d=a[n.name].max,h=a[n.name].maxPerElement,p=r.autoStart.maxInteractions,f=0,v=0,y=0;if(!(d&&h&&p))return!1;for(var _=0;_<r.interactions.list.length;_++){var x=r.interactions.list[_],k=x.prepared.name;if(x.interacting()&&(++f>=p||x.interactable===e&&((v+=k===n.name?1:0)>=d||x.element===t&&(y++,k===n.name&&y>=h))))return!1}return p>0}function Ai(e,t){return g.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function zr(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function zi(e,t){var n=e.interactable,r=e.element,a=e.prepared;if(e.pointerType==="mouse"&&n&&n.options.styleCursor){var d="";if(a.name){var h=n.options[a.name].cursorChecker;d=g.default.func(h)?h(a,n,r,e._interacting):t.actions.map[a.name].getCursor(a)}zr(e.element,d||"",t)}else t.autoStart.cursorElement&&zr(t.autoStart.cursorElement,"",t)}Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.default=void 0;var as={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin($n.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,M.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(r){return Ai(r,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:Nn,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,a=e.event,d=e.eventTarget;n.interacting()||Ii(n,Mi(n,r,a,d,t),t)},"interactions:move":function(e,t){(function(n,r){var a=n.interaction,d=n.pointer,h=n.event,p=n.eventTarget;a.pointerType!=="mouse"||a.pointerIsDown||a.interacting()||Ii(a,Mi(a,d,h,p,r),r)})(e,t),function(n,r){var a=n.interaction;if(a.pointerIsDown&&!a.interacting()&&a.pointerWasMoved&&a.prepared.name){r.fire("autoStart:before-start",n);var d=a.interactable,h=a.prepared.name;h&&d&&(d.options[h].manualStart||!Nn(d,a.element,a.prepared,r)?a.stop():(a.start(a.prepared,d,a.element),zi(a,r)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&zr(n.element,"",t)}},maxInteractions:Ai,withinInteractionLimit:Nn,validateAction:ji},ls=as;Nt.default=ls;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.default=void 0;var cs={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,a=e.dx,d=e.dy;if(n.prepared.name==="drag"){var h=Math.abs(a),p=Math.abs(d),f=n.interactable.options.drag,v=f.startAxis,y=h>p?"x":h<p?"y":"xy";if(n.prepared.axis=f.lockAxis==="start"?y[0]:f.lockAxis,y!=="xy"&&v!=="xy"&&v!==y){n.prepared.name=null;for(var _=r,x=function(b){if(b!==n.interactable){var S=n.interactable.options.drag;if(!S.manualStart&&b.testIgnoreAllow(S,_,r)){var j=b.getAction(n.downPointer,n.downEvent,n,_);if(j&&j.name==="drag"&&function(P,R){if(!R)return!1;var N=R.options.drag.startAxis;return P==="xy"||N==="xy"||N===P}(y,b)&&Nt.default.validateAction(j,b,_,r,t))return b}}};g.default.element(_);){var k=t.interactables.forEachMatch(_,x);if(k){n.prepared.name="drag",n.interactable=k,n.element=_;break}_=(0,D.parentNode)(_)}}}}}};Ln.default=cs;var Zn={};function Rr(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.default=void 0;var ds={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(Nt.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=Rr(t);n>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;Rr(t)>0&&(t.prepared.name=null)}},getHoldDuration:Rr},us=ds;Zn.default=us;var tn={};Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var ps={id:"auto-start",install:function(e){e.usePlugin(Nt.default),e.usePlugin(Zn.default),e.usePlugin(Ln.default)}};tn.default=ps;var Et={};function fs(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):g.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function hs(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function Ri(e){var t=e.Interactable;t.prototype.preventDefault=fs,t.prototype.checkAndPreventDefault=function(n){return function(r,a,d){var h=r.options.preventDefault;if(h!=="never")if(h!=="always"){if(a.events.supportsPassive&&/^touch(start|move)$/.test(d.type)){var p=(0,s.getWindow)(d.target).document,f=a.getDocOptions(p);if(!f||!f.events||f.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(d.type)||g.default.element(d.target)&&(0,D.matchesSelector)(d.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||d.preventDefault()}else d.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var r=0;r<e.interactions.list.length;r++){var a=e.interactions.list[r];if(a.element&&(a.element===n.target||(0,D.nodeContains)(a.element,n.target)))return void a.interactable.checkAndPreventDefault(n)}}})}Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=void 0,Et.install=Ri;var gs={id:"core/interactablePreventDefault",install:Ri,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=hs,e},{})};Et.default=gs;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.default=void 0,Dr.default={};var nn,Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(nn||(nn={})),nn.touchAction,nn.boxSizing,nn.noListeners;var ms={id:"dev-tools",install:function(){}};Vn.default=ms;var kt={};Object.defineProperty(kt,"__esModule",{value:!0}),kt.default=function e(t){var n={};for(var r in t){var a=t[r];g.default.plainObject(a)?n[r]=e(a):g.default.array(a)?n[r]=se.from(a):n[r]=a}return n};var Ot={};function Di(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var d,h,p=[],f=!0,v=!1;try{for(a=a.call(n);!(f=(d=a.next()).done)&&(p.push(d.value),!r||p.length!==r);f=!0);}catch(y){v=!0,h=y}finally{try{f||a.return==null||a.return()}finally{if(v)throw h}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return $i(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?$i(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $i(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=void 0,Ot.getRectOffset=Ni;var ys=function(){function e(r){(function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),ct(this,"states",[]),ct(this,"startOffset",{left:0,right:0,top:0,bottom:0}),ct(this,"startDelta",void 0),ct(this,"result",void 0),ct(this,"endResult",void 0),ct(this,"startEdges",void 0),ct(this,"edges",void 0),ct(this,"interaction",void 0),this.interaction=r,this.result=Wn(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var t,n;return t=e,(n=[{key:"start",value:function(r,a){var d=r.phase,h=this.interaction,p=function(v){var y=v.interactable.options[v.prepared.name],_=y.modifiers;return _&&_.length?_:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(x){var k=y[x];return k&&k.enabled&&{options:k,methods:k._methods}}).filter(function(x){return!!x})}(h);this.prepareStates(p),this.startEdges=(0,M.default)({},h.edges),this.edges=(0,M.default)({},this.startEdges),this.startOffset=Ni(h.rect,a),this.startDelta={x:0,y:0};var f=this.fillArg({phase:d,pageCoords:a,preEnd:!1});return this.result=Wn(),this.startAll(f),this.result=this.setAll(f)}},{key:"fillArg",value:function(r){var a=this.interaction;return r.interaction=a,r.interactable=a.interactable,r.element=a.element,r.rect||(r.rect=a.rect),r.edges||(r.edges=this.startEdges),r.startOffset=this.startOffset,r}},{key:"startAll",value:function(r){for(var a=0;a<this.states.length;a++){var d=this.states[a];d.methods.start&&(r.state=d,d.methods.start(r))}}},{key:"setAll",value:function(r){var a=r.phase,d=r.preEnd,h=r.skipModifiers,p=r.rect,f=r.edges;r.coords=(0,M.default)({},r.pageCoords),r.rect=(0,M.default)({},p),r.edges=(0,M.default)({},f);for(var v=h?this.states.slice(h):this.states,y=Wn(r.coords,r.rect),_=0;_<v.length;_++){var x,k=v[_],b=k.options,S=(0,M.default)({},r.coords),j=null;(x=k.methods)!=null&&x.set&&this.shouldDo(b,d,a)&&(r.state=k,j=k.methods.set(r),U.addEdges(r.edges,r.rect,{x:r.coords.x-S.x,y:r.coords.y-S.y})),y.eventProps.push(j)}(0,M.default)(this.edges,r.edges),y.delta.x=r.coords.x-r.pageCoords.x,y.delta.y=r.coords.y-r.pageCoords.y,y.rectDelta.left=r.rect.left-p.left,y.rectDelta.right=r.rect.right-p.right,y.rectDelta.top=r.rect.top-p.top,y.rectDelta.bottom=r.rect.bottom-p.bottom;var P=this.result.coords,R=this.result.rect;if(P&&R){var N=y.rect.left!==R.left||y.rect.right!==R.right||y.rect.top!==R.top||y.rect.bottom!==R.bottom;y.changed=N||P.x!==y.coords.x||P.y!==y.coords.y}return y}},{key:"applyToInteraction",value:function(r){var a=this.interaction,d=r.phase,h=a.coords.cur,p=a.coords.start,f=this.result,v=this.startDelta,y=f.delta;d==="start"&&(0,M.default)(this.startDelta,f.delta);for(var _=0;_<[[p,v],[h,y]].length;_++){var x=Di([[p,v],[h,y]][_],2),k=x[0],b=x[1];k.page.x+=b.x,k.page.y+=b.y,k.client.x+=b.x,k.client.y+=b.y}var S=this.result.rectDelta,j=r.rect||a.rect;j.left+=S.left,j.right+=S.right,j.top+=S.top,j.bottom+=S.bottom,j.width=j.right-j.left,j.height=j.bottom-j.top}},{key:"setAndApply",value:function(r){var a=this.interaction,d=r.phase,h=r.preEnd,p=r.skipModifiers,f=this.setAll(this.fillArg({preEnd:h,phase:d,pageCoords:r.modifiedCoords||a.coords.cur.page}));if(this.result=f,!f.changed&&(!p||p<this.states.length)&&a.interacting())return!1;if(r.modifiedCoords){var v=a.coords.cur.page,y={x:r.modifiedCoords.x-v.x,y:r.modifiedCoords.y-v.y};f.coords.x+=y.x,f.coords.y+=y.y,f.delta.x+=y.x,f.delta.y+=y.y}this.applyToInteraction(r)}},{key:"beforeEnd",value:function(r){var a=r.interaction,d=r.event,h=this.states;if(h&&h.length){for(var p=!1,f=0;f<h.length;f++){var v=h[f];r.state=v;var y=v.options,_=v.methods,x=_.beforeEnd&&_.beforeEnd(r);if(x)return this.endResult=x,!1;p=p||!p&&this.shouldDo(y,!0,r.phase,!0)}p&&a.move({event:d,preEnd:!0})}}},{key:"stop",value:function(r){var a=r.interaction;if(this.states&&this.states.length){var d=(0,M.default)({states:this.states,interactable:a.interactable,element:a.element,rect:null},r);this.fillArg(d);for(var h=0;h<this.states.length;h++){var p=this.states[h];d.state=p,p.methods.stop&&p.methods.stop(d)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(r){this.states=[];for(var a=0;a<r.length;a++){var d=r[a],h=d.options,p=d.methods,f=d.name;this.states.push({options:h,methods:p,index:a,name:f})}return this.states}},{key:"restoreInteractionCoords",value:function(r){var a=r.interaction,d=a.coords,h=a.rect,p=a.modification;if(p.result){for(var f=p.startDelta,v=p.result,y=v.delta,_=v.rectDelta,x=[[d.start,f],[d.cur,y]],k=0;k<x.length;k++){var b=Di(x[k],2),S=b[0],j=b[1];S.page.x-=j.x,S.page.y-=j.y,S.client.x-=j.x,S.client.y-=j.y}h.left-=_.left,h.right-=_.right,h.top-=_.top,h.bottom-=_.bottom}}},{key:"shouldDo",value:function(r,a,d,h){return!(!r||r.enabled===!1||h&&!r.endOnly||r.endOnly&&!a||d==="start"&&!r.setStart)}},{key:"copyFrom",value:function(r){this.startOffset=r.startOffset,this.startDelta=r.startDelta,this.startEdges=r.startEdges,this.edges=r.edges,this.states=r.states.map(function(a){return(0,kt.default)(a)}),this.result=Wn((0,M.default)({},r.result.coords),(0,M.default)({},r.result.rect))}},{key:"destroy",value:function(){for(var r in this)this[r]=null}}])&&vs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Wn(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Ni(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}Ot.default=ys;var Oe={};function Bn(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.addEventModifiers=Bn,Oe.default=void 0,Oe.makeModifier=function(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},a=function(d){var h=d||{};for(var p in h.enabled=h.enabled!==!1,n)p in h||(h[p]=n[p]);var f={options:h,methods:r,name:t,enable:function(){return h.enabled=!0,f},disable:function(){return h.enabled=!1,f}};return f};return t&&typeof t=="string"&&(a._defaults=n,a._methods=r),a};var _s={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Ot.default(t)},"interactions:before-action-start":function(e){var t=e.interaction,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":function(e){var t=e.interaction,n=t.modification,r=n.setAndApply(e);return t.edges=n.edges,r},"interactions:before-action-end":function(e){var t=e.interaction,n=t.modification,r=n.beforeEnd(e);return t.edges=n.startEdges,r},"interactions:action-start":Bn,"interactions:action-move":Bn,"interactions:action-end":Bn,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},bs=_s;Oe.default=bs;var rn={};Object.defineProperty(rn,"__esModule",{value:!0}),rn.defaults=void 0,rn.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var on={};function $r(e){return $r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$r(e)}function ws(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Nr(e,t)}function xs(e,t){if(t&&($r(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ae(e)}function ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e){return Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fn(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(on,"__esModule",{value:!0}),on.InteractEvent=void 0;var Li=function(e){(function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),f&&Nr(p,f)})(h,e);var t,n,r,a,d=(r=h,a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var p,f=Fn(r);if(a){var v=Fn(this).constructor;p=Reflect.construct(f,arguments,v)}else p=f.apply(this,arguments);return xs(this,p)});function h(p,f,v,y,_,x,k){var b;(function(de,J){if(!(de instanceof J))throw new TypeError("Cannot call a class as a function")})(this,h),pe(ae(b=d.call(this,p)),"relatedTarget",null),pe(ae(b),"screenX",void 0),pe(ae(b),"screenY",void 0),pe(ae(b),"button",void 0),pe(ae(b),"buttons",void 0),pe(ae(b),"ctrlKey",void 0),pe(ae(b),"shiftKey",void 0),pe(ae(b),"altKey",void 0),pe(ae(b),"metaKey",void 0),pe(ae(b),"page",void 0),pe(ae(b),"client",void 0),pe(ae(b),"delta",void 0),pe(ae(b),"rect",void 0),pe(ae(b),"x0",void 0),pe(ae(b),"y0",void 0),pe(ae(b),"t0",void 0),pe(ae(b),"dt",void 0),pe(ae(b),"duration",void 0),pe(ae(b),"clientX0",void 0),pe(ae(b),"clientY0",void 0),pe(ae(b),"velocity",void 0),pe(ae(b),"speed",void 0),pe(ae(b),"swipe",void 0),pe(ae(b),"axes",void 0),pe(ae(b),"preEnd",void 0),_=_||p.element;var S=p.interactable,j=(S&&S.options||rn.defaults).deltaSource,P=(0,Ne.default)(S,_,v),R=y==="start",N=y==="end",G=R?ae(b):p.prevEvent,te=R?p.coords.start:N?{page:G.page,client:G.client,timeStamp:p.coords.cur.timeStamp}:p.coords.cur;return b.page=(0,M.default)({},te.page),b.client=(0,M.default)({},te.client),b.rect=(0,M.default)({},p.rect),b.timeStamp=te.timeStamp,N||(b.page.x-=P.x,b.page.y-=P.y,b.client.x-=P.x,b.client.y-=P.y),b.ctrlKey=f.ctrlKey,b.altKey=f.altKey,b.shiftKey=f.shiftKey,b.metaKey=f.metaKey,b.button=f.button,b.buttons=f.buttons,b.target=_,b.currentTarget=_,b.preEnd=x,b.type=k||v+(y||""),b.interactable=S,b.t0=R?p.pointers[p.pointers.length-1].downTime:G.t0,b.x0=p.coords.start.page.x-P.x,b.y0=p.coords.start.page.y-P.y,b.clientX0=p.coords.start.client.x-P.x,b.clientY0=p.coords.start.client.y-P.y,b.delta=R||N?{x:0,y:0}:{x:b[j].x-G[j].x,y:b[j].y-G[j].y},b.dt=p.coords.delta.timeStamp,b.duration=b.timeStamp-b.t0,b.velocity=(0,M.default)({},p.coords.velocity[j]),b.speed=(0,X.default)(b.velocity.x,b.velocity.y),b.swipe=N||y==="inertiastart"?b.getSwipe():null,b}return t=h,(n=[{key:"getSwipe",value:function(){var p=this._interaction;if(p.prevEvent.speed<600||this.timeStamp-p.prevEvent.timeStamp>150)return null;var f=180*Math.atan2(p.prevEvent.velocityY,p.prevEvent.velocityX)/Math.PI;f<0&&(f+=360);var v=112.5<=f&&f<247.5,y=202.5<=f&&f<337.5;return{up:y,down:!y&&22.5<=f&&f<157.5,left:v,right:!v&&(292.5<=f||f<67.5),angle:f,speed:p.prevEvent.speed,velocity:{x:p.prevEvent.velocityX,y:p.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&ws(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(Ge.BaseEvent);on.InteractEvent=Li,Object.defineProperties(Li.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var sn={};function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Es(e,t,n){return t&&Zi(e.prototype,t),n&&Zi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(sn,"__esModule",{value:!0}),sn.PointerInfo=void 0;var ks=Es(function e(t,n,r,a,d){(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,e),an(this,"id",void 0),an(this,"pointer",void 0),an(this,"event",void 0),an(this,"downTime",void 0),an(this,"downTarget",void 0),this.id=t,this.pointer=n,this.event=r,this.downTime=a,this.downTarget=d});sn.PointerInfo=ks;var Un,Gn,Ae={};function Os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.Interaction=void 0,Object.defineProperty(Ae,"PointerInfo",{enumerable:!0,get:function(){return sn.PointerInfo}}),Ae.default=Ae._ProxyValues=Ae._ProxyMethods=void 0,Ae._ProxyValues=Un,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Un||(Ae._ProxyValues=Un={})),Ae._ProxyMethods=Gn,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(Gn||(Ae._ProxyMethods=Gn={}));var Ss=0,Vi=function(){function e(r){var a=this,d=r.pointerType,h=r.scopeFire;(function(x,k){if(!(x instanceof k))throw new TypeError("Cannot call a class as a function")})(this,e),he(this,"interactable",null),he(this,"element",null),he(this,"rect",null),he(this,"_rects",void 0),he(this,"edges",null),he(this,"_scopeFire",void 0),he(this,"prepared",{name:null,axis:null,edges:null}),he(this,"pointerType",void 0),he(this,"pointers",[]),he(this,"downEvent",null),he(this,"downPointer",{}),he(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),he(this,"prevEvent",null),he(this,"pointerIsDown",!1),he(this,"pointerWasMoved",!1),he(this,"_interacting",!1),he(this,"_ending",!1),he(this,"_stopped",!0),he(this,"_proxy",null),he(this,"simulation",null),he(this,"doMove",(0,Re.warnOnce)(function(x){this.move(x)},"The interaction.doMove() method has been renamed to interaction.move()")),he(this,"coords",{start:O.newCoords(),prev:O.newCoords(),cur:O.newCoords(),delta:O.newCoords(),velocity:O.newCoords()}),he(this,"_id",Ss++),this._scopeFire=h,this.pointerType=d;var p=this;this._proxy={};var f=function(x){Object.defineProperty(a._proxy,x,{get:function(){return p[x]}})};for(var v in Un)f(v);var y=function(x){Object.defineProperty(a._proxy,x,{value:function(){return p[x].apply(p,arguments)}})};for(var _ in Gn)y(_);this._scopeFire("interactions:new",{interaction:this})}var t,n;return t=e,n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(r,a,d){var h=this.updatePointer(r,a,d,!0),p=this.pointers[h];this._scopeFire("interactions:down",{pointer:r,event:a,eventTarget:d,pointerIndex:h,pointerInfo:p,type:"down",interaction:this})}},{key:"start",value:function(r,a,d){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(r.name==="gesture"?2:1)||!a.options[r.name].enabled)&&((0,Re.copyAction)(this.prepared,r),this.interactable=a,this.element=d,this.rect=a.getRect(d),this.edges=this.prepared.edges?(0,M.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(r,a,d){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(r,a,d,!1);var h,p,f=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(h=this.coords.cur.client.x-this.coords.start.client.x,p=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,X.default)(h,p)>this.pointerMoveTolerance);var v=this.getPointerIndex(r),y={pointer:r,pointerIndex:v,pointerInfo:this.pointers[v],event:a,type:"move",eventTarget:d,dx:h,dy:p,duplicate:f,interaction:this};f||O.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",y),f||this.simulation||(this.interacting()&&(y.type=null,this.move(y)),this.pointerWasMoved&&O.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(r){r&&r.event||O.setZeroCoords(this.coords.delta),(r=(0,M.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},r||{})).phase="move",this._doPhase(r)}},{key:"pointerUp",value:function(r,a,d,h){var p=this.getPointerIndex(r);p===-1&&(p=this.updatePointer(r,a,d,!1));var f=/cancel$/i.test(a.type)?"cancel":"up";this._scopeFire("interactions:".concat(f),{pointer:r,pointerIndex:p,pointerInfo:this.pointers[p],event:a,eventTarget:d,type:f,curEventTarget:h,interaction:this}),this.simulation||this.end(a),this.removePointer(r,a)}},{key:"documentBlur",value:function(r){this.end(r),this._scopeFire("interactions:blur",{event:r,type:"blur",interaction:this})}},{key:"end",value:function(r){var a;this._ending=!0,r=r||this._latestPointer.event,this.interacting()&&(a=this._doPhase({event:r,interaction:this,phase:"end"})),this._ending=!1,a===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(r){var a=O.getPointerId(r);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:se.findIndex(this.pointers,function(d){return d.id===a})}},{key:"getPointerInfo",value:function(r){return this.pointers[this.getPointerIndex(r)]}},{key:"updatePointer",value:function(r,a,d,h){var p=O.getPointerId(r),f=this.getPointerIndex(r),v=this.pointers[f];return h=h!==!1&&(h||/(down|start)$/i.test(a.type)),v?v.pointer=r:(v=new sn.PointerInfo(p,r,a,null,null),f=this.pointers.length,this.pointers.push(v)),O.setCoords(this.coords.cur,this.pointers.map(function(y){return y.pointer}),this._now()),O.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),h&&(this.pointerIsDown=!0,v.downTime=this.coords.cur.timeStamp,v.downTarget=d,O.pointerExtend(this.downPointer,r),this.interacting()||(O.copyCoords(this.coords.start,this.coords.cur),O.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=a,this.pointerWasMoved=!1)),this._updateLatestPointer(r,a,d),this._scopeFire("interactions:update-pointer",{pointer:r,event:a,eventTarget:d,down:h,pointerInfo:v,pointerIndex:f,interaction:this}),f}},{key:"removePointer",value:function(r,a){var d=this.getPointerIndex(r);if(d!==-1){var h=this.pointers[d];this._scopeFire("interactions:remove-pointer",{pointer:r,event:a,eventTarget:null,pointerIndex:d,pointerInfo:h,interaction:this}),this.pointers.splice(d,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(r,a,d){this._latestPointer.pointer=r,this._latestPointer.event=a,this._latestPointer.eventTarget=d}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(r,a,d,h){return new on.InteractEvent(this,r,this.prepared.name,a,this.element,d,h)}},{key:"_fireEvent",value:function(r){var a;(a=this.interactable)==null||a.fire(r),(!this.prevEvent||r.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=r)}},{key:"_doPhase",value:function(r){var a=r.event,d=r.phase,h=r.preEnd,p=r.type,f=this.rect;if(f&&d==="move"&&(U.addEdges(this.edges,f,this.coords.delta[this.interactable.options.deltaSource]),f.width=f.right-f.left,f.height=f.bottom-f.top),this._scopeFire("interactions:before-action-".concat(d),r)===!1)return!1;var v=r.iEvent=this._createPreparedEvent(a,d,h,p);return this._scopeFire("interactions:action-".concat(d),r),d==="start"&&(this.prevEvent=v),this._fireEvent(v),this._scopeFire("interactions:after-action-".concat(d),r),!0}},{key:"_now",value:function(){return Date.now()}}],n&&Os(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ae.Interaction=Vi;var Ps=Vi;Ae.default=Ps;var dt={};function Wi(e){e.pointerIsDown&&(Zr(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function Bi(e){Lr(e.interaction)}function Lr(e){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Zr(e.coords.cur,t),Zr(e.coords.delta,t),U.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Ts(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Zr(e,t){var n=e.page,r=e.client,a=t.x,d=t.y;n.x+=a,n.y+=d,r.x+=a,r.y+=d}Object.defineProperty(dt,"__esModule",{value:!0}),dt.addTotal=Wi,dt.applyPending=Lr,dt.default=void 0,Ae._ProxyMethods.offsetBy="";var Cs={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Ts},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return Wi(e.interaction)},"interactions:before-action-start":Bi,"interactions:before-action-move":Bi,"interactions:before-action-end":function(e){var t=e.interaction;if(Lr(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},js=Cs;dt.default=js;var St={};function Ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(St,"__esModule",{value:!0}),St.default=St.InertiaState=void 0;var Fi=function(){function e(r){(function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),ke(this,"active",!1),ke(this,"isModified",!1),ke(this,"smoothEnd",!1),ke(this,"allowResume",!1),ke(this,"modification",void 0),ke(this,"modifierCount",0),ke(this,"modifierArg",void 0),ke(this,"startCoords",void 0),ke(this,"t0",0),ke(this,"v0",0),ke(this,"te",0),ke(this,"targetOffset",void 0),ke(this,"modifiedOffset",void 0),ke(this,"currentOffset",void 0),ke(this,"lambda_v0",0),ke(this,"one_ve_v0",0),ke(this,"timeout",void 0),ke(this,"interaction",void 0),this.interaction=r}var t,n;return t=e,(n=[{key:"start",value:function(r){var a=this.interaction,d=Yn(a);if(!d||!d.enabled)return!1;var h=a.coords.velocity.client,p=(0,X.default)(h.x,h.y),f=this.modification||(this.modification=new Ot.default(a));if(f.copyFrom(a.modification),this.t0=a._now(),this.allowResume=d.allowResume,this.v0=p,this.currentOffset={x:0,y:0},this.startCoords=a.coords.cur.page,this.modifierArg=f.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-a.coords.cur.timeStamp<50&&p>d.minSpeed&&p>d.endSpeed)this.startInertia();else{if(f.result=f.setAll(this.modifierArg),!f.result.changed)return!1;this.startSmoothEnd()}return a.modification.result.rect=null,a.offsetBy(this.targetOffset),a._doPhase({interaction:a,event:r,phase:"inertiastart"}),a.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),a.modification.result.rect=null,this.active=!0,a.simulation=this,!0}},{key:"startInertia",value:function(){var r=this,a=this.interaction.coords.velocity.client,d=Yn(this.interaction),h=d.resistance,p=-Math.log(d.endSpeed/this.v0)/h;this.targetOffset={x:(a.x-p)/h,y:(a.y-p)/h},this.te=p,this.lambda_v0=h/this.v0,this.one_ve_v0=1-d.endSpeed/this.v0;var f=this.modification,v=this.modifierArg;v.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},f.result=f.setAll(v),f.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+f.result.delta.x,y:this.targetOffset.y+f.result.delta.y}),this.onNextFrame(function(){return r.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var r=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return r.smoothEndTick()})}},{key:"onNextFrame",value:function(r){var a=this;this.timeout=Le.default.request(function(){a.active&&r()})}},{key:"inertiaTick",value:function(){var r,a,d,h,p,f=this,v=this.interaction,y=Yn(v).resistance,_=(v._now()-this.t0)/1e3;if(_<this.te){var x,k=1-(Math.exp(-y*_)-this.lambda_v0)/this.one_ve_v0;this.isModified?(r=this.targetOffset.x,a=this.targetOffset.y,d=this.modifiedOffset.x,h=this.modifiedOffset.y,x={x:Ui(p=k,0,r,d),y:Ui(p,0,a,h)}):x={x:this.targetOffset.x*k,y:this.targetOffset.y*k};var b={x:x.x-this.currentOffset.x,y:x.y-this.currentOffset.y};this.currentOffset.x+=b.x,this.currentOffset.y+=b.y,v.offsetBy(b),v.move(),this.onNextFrame(function(){return f.inertiaTick()})}else v.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var r=this,a=this.interaction,d=a._now()-this.t0,h=Yn(a).smoothEndDuration;if(d<h){var p={x:Gi(d,0,this.targetOffset.x,h),y:Gi(d,0,this.targetOffset.y,h)},f={x:p.x-this.currentOffset.x,y:p.y-this.currentOffset.y};this.currentOffset.x+=f.x,this.currentOffset.y+=f.y,a.offsetBy(f),a.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return r.smoothEndTick()})}else a.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(r){var a=r.pointer,d=r.event,h=r.eventTarget,p=this.interaction;p.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),p.updatePointer(a,d,h,!0),p._doPhase({interaction:p,event:d,phase:"resume"}),(0,O.copyCoords)(p.coords.prev,p.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Le.default.cancel(this.timeout)}}])&&Ms(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yn(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}St.InertiaState=Fi;var Is={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(dt.default),e.usePlugin(Oe.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new Fi(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var a=n;g.default.element(a);){if(a===t.element){r.resume(e);break}a=D.parentNode(a)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Oe.addEventModifiers,"interactions:action-inertiastart":Oe.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function Ui(e,t,n,r){var a=1-e;return a*a*t+2*a*e*n+e*e*r}function Gi(e,t,n,r){return-n*(e/=r)*(e-2)+t}var As=Is;St.default=As;var ln={};function zs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}Object.defineProperty(ln,"__esModule",{value:!0}),ln.Eventable=void 0;var Rs=function(){function e(r){(function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),cn(this,"options",void 0),cn(this,"types",{}),cn(this,"propagationStopped",!1),cn(this,"immediatePropagationStopped",!1),cn(this,"global",void 0),this.options=(0,M.default)({},r||{})}var t,n;return t=e,(n=[{key:"fire",value:function(r){var a,d=this.global;(a=this.types[r.type])&&Yi(r,a),!r.propagationStopped&&d&&(a=d[r.type])&&Yi(r,a)}},{key:"on",value:function(r,a){var d=(0,Fe.default)(r,a);for(r in d)this.types[r]=se.merge(this.types[r]||[],d[r])}},{key:"off",value:function(r,a){var d=(0,Fe.default)(r,a);for(r in d){var h=this.types[r];if(h&&h.length)for(var p=0;p<d[r].length;p++){var f=d[r][p],v=h.indexOf(f);v!==-1&&h.splice(v,1)}}}},{key:"getRect",value:function(r){return null}}])&&zs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ln.Eventable=Rs;var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1};var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.createInteractStatic=function(e){var t=function n(r,a){var d=e.interactables.get(r,a);return d||((d=e.interactables.new(r,a)).events.global=n.globalEvents),d};return t.getPointerAverage=O.pointerAverage,t.getTouchBBox=O.touchBBox,t.getTouchDistance=O.touchDistance,t.getTouchAngle=O.touchAngle,t.getElementRect=D.getElementRect,t.getElementClientRect=D.getElementClientRect,t.matchesSelector=D.matchesSelector,t.closest=D.closest,t.globalEvents={},t.version="1.10.18",t.scope=e,t.use=function(n,r){return this.scope.usePlugin(n,r),this},t.isSet=function(n,r){return!!this.scope.interactables.get(n,r&&r.context)},t.on=(0,Re.warnOnce)(function(n,r,a){if(g.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),g.default.array(n)){for(var d=0;d<n.length;d++){var h=n[d];this.on(h,r,a)}return this}if(g.default.object(n)){for(var p in n)this.on(p,n[p],r);return this}return(0,dn.default)(n,this.scope.actions)?this.globalEvents[n]?this.globalEvents[n].push(r):this.globalEvents[n]=[r]:this.scope.events.add(this.scope.document,n,r,{options:a}),this},"The interact.on() method is being deprecated"),t.off=(0,Re.warnOnce)(function(n,r,a){if(g.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),g.default.array(n)){for(var d=0;d<n.length;d++){var h=n[d];this.off(h,r,a)}return this}if(g.default.object(n)){for(var p in n)this.off(p,n[p],r);return this}var f;return(0,dn.default)(n,this.scope.actions)?n in this.globalEvents&&(f=this.globalEvents[n].indexOf(r))!==-1&&this.globalEvents[n].splice(f,1):this.scope.events.remove(this.scope.document,n,r,a),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return ye.default.supportsTouch},t.supportsPointerEvent=function(){return ye.default.supportsPointerEvent},t.stop=function(){for(var n=0;n<this.scope.interactions.list.length;n++)this.scope.interactions.list[n].stop();return this},t.pointerMoveTolerance=function(n){return g.default.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,r){this.scope.addDocument(n,r)},t.removeDocument=function(n){this.scope.removeDocument(n)},t};var Xn={};function Ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.Interactable=void 0;var $s=function(){function e(r,a,d,h){(function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e),rt(this,"options",void 0),rt(this,"_actions",void 0),rt(this,"target",void 0),rt(this,"events",new ln.Eventable),rt(this,"_context",void 0),rt(this,"_win",void 0),rt(this,"_doc",void 0),rt(this,"_scopeEvents",void 0),rt(this,"_rectChecker",void 0),this._actions=a.actions,this.target=r,this._context=a.context||d,this._win=(0,s.getWindow)((0,D.trySelector)(r)?this._context:r),this._doc=this._win.document,this._scopeEvents=h,this.set(a)}var t,n;return t=e,(n=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(r,a){return g.default.func(a.onstart)&&this.on("".concat(r,"start"),a.onstart),g.default.func(a.onmove)&&this.on("".concat(r,"move"),a.onmove),g.default.func(a.onend)&&this.on("".concat(r,"end"),a.onend),g.default.func(a.oninertiastart)&&this.on("".concat(r,"inertiastart"),a.oninertiastart),this}},{key:"updatePerActionListeners",value:function(r,a,d){(g.default.array(a)||g.default.object(a))&&this.off(r,a),(g.default.array(d)||g.default.object(d))&&this.on(r,d)}},{key:"setPerAction",value:function(r,a){var d=this._defaults;for(var h in a){var p=h,f=this.options[r],v=a[p];p==="listeners"&&this.updatePerActionListeners(r,f.listeners,v),g.default.array(v)?f[p]=se.from(v):g.default.plainObject(v)?(f[p]=(0,M.default)(f[p]||{},(0,kt.default)(v)),g.default.object(d.perAction[p])&&"enabled"in d.perAction[p]&&(f[p].enabled=v.enabled!==!1)):g.default.bool(v)&&g.default.object(d.perAction[p])?f[p].enabled=v:f[p]=v}}},{key:"getRect",value:function(r){return r=r||(g.default.element(this.target)?this.target:null),g.default.string(this.target)&&(r=r||this._context.querySelector(this.target)),(0,D.getElementRect)(r)}},{key:"rectChecker",value:function(r){var a=this;return g.default.func(r)?(this._rectChecker=r,this.getRect=function(d){var h=(0,M.default)({},a._rectChecker(d));return"width"in h||(h.width=h.right-h.left,h.height=h.bottom-h.top),h},this):r===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(r,a){if((0,D.trySelector)(a)||g.default.object(a)){for(var d in this.options[r]=a,this._actions.map)this.options[d][r]=a;return this}return this.options[r]}},{key:"origin",value:function(r){return this._backCompatOption("origin",r)}},{key:"deltaSource",value:function(r){return r==="page"||r==="client"?(this.options.deltaSource=r,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(r){return this._context===r.ownerDocument||(0,D.nodeContains)(this._context,r)}},{key:"testIgnoreAllow",value:function(r,a,d){return!this.testIgnore(r.ignoreFrom,a,d)&&this.testAllow(r.allowFrom,a,d)}},{key:"testAllow",value:function(r,a,d){return!r||!!g.default.element(d)&&(g.default.string(r)?(0,D.matchesUpTo)(d,r,a):!!g.default.element(r)&&(0,D.nodeContains)(r,d))}},{key:"testIgnore",value:function(r,a,d){return!(!r||!g.default.element(d))&&(g.default.string(r)?(0,D.matchesUpTo)(d,r,a):!!g.default.element(r)&&(0,D.nodeContains)(r,d))}},{key:"fire",value:function(r){return this.events.fire(r),this}},{key:"_onOff",value:function(r,a,d,h){g.default.object(a)&&!g.default.array(a)&&(h=d,d=null);var p=r==="on"?"add":"remove",f=(0,Fe.default)(a,d);for(var v in f){v==="wheel"&&(v=ye.default.wheelEvent);for(var y=0;y<f[v].length;y++){var _=f[v][y];(0,dn.default)(v,this._actions)?this.events[r](v,_):g.default.string(this.target)?this._scopeEvents["".concat(p,"Delegate")](this.target,this._context,v,_,h):this._scopeEvents[p](this.target,v,_,h)}}return this}},{key:"on",value:function(r,a,d){return this._onOff("on",r,a,d)}},{key:"off",value:function(r,a,d){return this._onOff("off",r,a,d)}},{key:"set",value:function(r){var a=this._defaults;for(var d in g.default.object(r)||(r={}),this.options=(0,kt.default)(a.base),this._actions.methodDict){var h=d,p=this._actions.methodDict[h];this.options[h]={},this.setPerAction(h,(0,M.default)((0,M.default)({},a.perAction),a.actions[h])),this[p](r[h])}for(var f in r)g.default.func(this[f])&&this[f](r[f]);return this}},{key:"unset",value:function(){if(g.default.string(this.target))for(var r in this._scopeEvents.delegatedEvents)for(var a=this._scopeEvents.delegatedEvents[r],d=a.length-1;d>=0;d--){var h=a[d],p=h.selector,f=h.context,v=h.listeners;p===this.target&&f===this._context&&a.splice(d,1);for(var y=v.length-1;y>=0;y--)this._scopeEvents.removeDelegate(this.target,this._context,r,v[y][0],v[y][1])}else this._scopeEvents.remove(this.target,"all")}}])&&Ds(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Xn.Interactable=$s;var qn={};function Ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(qn,"__esModule",{value:!0}),qn.InteractableSet=void 0;var Ls=function(){function e(r){var a=this;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,e),Wr(this,"list",[]),Wr(this,"selectorMap",{}),Wr(this,"scope",void 0),this.scope=r,r.addListeners({"interactable:unset":function(d){var h=d.interactable,p=h.target,f=h._context,v=g.default.string(p)?a.selectorMap[p]:p[a.scope.id],y=se.findIndex(v,function(_){return _.context===f});v[y]&&(v[y].context=null,v[y].interactable=null),v.splice(y,1)}})}var t,n;return t=e,(n=[{key:"new",value:function(r,a){a=(0,M.default)(a||{},{actions:this.scope.actions});var d=new this.scope.Interactable(r,a,this.scope.document,this.scope.events),h={context:d._context,interactable:d};return this.scope.addDocument(d._doc),this.list.push(d),g.default.string(r)?(this.selectorMap[r]||(this.selectorMap[r]=[]),this.selectorMap[r].push(h)):(d.target[this.scope.id]||Object.defineProperty(r,this.scope.id,{value:[],configurable:!0}),r[this.scope.id].push(h)),this.scope.fire("interactable:new",{target:r,options:a,interactable:d,win:this.scope._win}),d}},{key:"get",value:function(r,a){var d=a&&a.context||this.scope.document,h=g.default.string(r),p=h?this.selectorMap[r]:r[this.scope.id];if(!p)return null;var f=se.find(p,function(v){return v.context===d&&(h||v.interactable.inContext(r))});return f&&f.interactable}},{key:"forEachMatch",value:function(r,a){for(var d=0;d<this.list.length;d++){var h=this.list[d],p=void 0;if((g.default.string(h.target)?g.default.element(r)&&D.matchesSelector(r,h.target):r===h.target)&&h.inContext(r)&&(p=a(h)),p!==void 0)return p}}}])&&Ns(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();qn.InteractableSet=Ls;var Hn={};function Zs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var d,h,p=[],f=!0,v=!1;try{for(a=a.call(n);!(f=(d=a.next()).done)&&(p.push(d.value),!r||p.length!==r);f=!0);}catch(y){v=!0,h=y}finally{try{f||a.return==null||a.return()}finally{if(v)throw h}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Xi(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Xi(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.default=void 0;var Vs=function(){function e(r){(function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),Br(this,"currentTarget",void 0),Br(this,"originalEvent",void 0),Br(this,"type",void 0),this.originalEvent=r,(0,q.default)(this,r)}var t,n;return t=e,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Zs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function un(e){if(!g.default.object(e))return{capture:!!e,passive:!1};var t=(0,M.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var Ws={id:"events",install:function(e){var t,n=[],r={},a=[],d={add:h,remove:p,addDelegate:function(y,_,x,k,b){var S=un(b);if(!r[x]){r[x]=[];for(var j=0;j<a.length;j++){var P=a[j];h(P,x,f),h(P,x,v,!0)}}var R=r[x],N=se.find(R,function(G){return G.selector===y&&G.context===_});N||(N={selector:y,context:_,listeners:[]},R.push(N)),N.listeners.push([k,S])},removeDelegate:function(y,_,x,k,b){var S,j=un(b),P=r[x],R=!1;if(P)for(S=P.length-1;S>=0;S--){var N=P[S];if(N.selector===y&&N.context===_){for(var G=N.listeners,te=G.length-1;te>=0;te--){var de=Fr(G[te],2),J=de[0],le=de[1],$e=le.capture,ot=le.passive;if(J===k&&$e===j.capture&&ot===j.passive){G.splice(te,1),G.length||(P.splice(S,1),p(_,x,f),p(_,x,v,!0)),R=!0;break}}if(R)break}}},delegateListener:f,delegateUseCapture:v,delegatedEvents:r,documents:a,targets:n,supportsOptions:!1,supportsPassive:!1};function h(y,_,x,k){var b=un(k),S=se.find(n,function(j){return j.eventTarget===y});S||(S={eventTarget:y,events:{}},n.push(S)),S.events[_]||(S.events[_]=[]),y.addEventListener&&!se.contains(S.events[_],x)&&(y.addEventListener(_,x,d.supportsOptions?b:b.capture),S.events[_].push(x))}function p(y,_,x,k){var b=un(k),S=se.findIndex(n,function(te){return te.eventTarget===y}),j=n[S];if(j&&j.events)if(_!=="all"){var P=!1,R=j.events[_];if(R){if(x==="all"){for(var N=R.length-1;N>=0;N--)p(y,_,R[N],b);return}for(var G=0;G<R.length;G++)if(R[G]===x){y.removeEventListener(_,x,d.supportsOptions?b:b.capture),R.splice(G,1),R.length===0&&(delete j.events[_],P=!0);break}}P&&!Object.keys(j.events).length&&n.splice(S,1)}else for(_ in j.events)j.events.hasOwnProperty(_)&&p(y,_,"all")}function f(y,_){for(var x=un(_),k=new Vs(y),b=r[y.type],S=Fr(O.getEventTargets(y),1)[0],j=S;g.default.element(j);){for(var P=0;P<b.length;P++){var R=b[P],N=R.selector,G=R.context;if(D.matchesSelector(j,N)&&D.nodeContains(G,S)&&D.nodeContains(G,j)){var te=R.listeners;k.currentTarget=j;for(var de=0;de<te.length;de++){var J=Fr(te[de],2),le=J[0],$e=J[1],ot=$e.capture,li=$e.passive;ot===x.capture&&li===x.passive&&le(k)}}}j=D.parentNode(j)}}function v(y){return f(y,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return d.supportsOptions=!0},get passive(){return d.supportsPassive=!0}}),e.events=d,d}};Hn.default=Ws;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.default=void 0;var Jn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Jn.methodOrder.length;t++){var n;n=Jn.methodOrder[t];var r=Jn[n](e);if(r)return r}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,a=e.scope;if(!/down|start/i.test(n))return null;for(var d=0;d<a.interactions.list.length;d++){var h=a.interactions.list[d],p=r;if(h.simulation&&h.simulation.allowResume&&h.pointerType===t)for(;p;){if(p===h.element)return h;p=D.parentNode(p)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,a=e.eventType,d=e.scope;if(r!=="mouse"&&r!=="pen")return null;for(var h=0;h<d.interactions.list.length;h++){var p=d.interactions.list[h];if(p.pointerType===r){if(p.simulation&&!qi(p,n))continue;if(p.interacting())return p;t||(t=p)}}if(t)return t;for(var f=0;f<d.interactions.list.length;f++){var v=d.interactions.list[f];if(!(v.pointerType!==r||/down/i.test(a)&&v.simulation))return v}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,r=0;r<n.interactions.list.length;r++){var a=n.interactions.list[r];if(qi(a,t))return a}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,r=0;r<n.interactions.list.length;r++){var a=n.interactions.list[r];if(a.pointers.length===1){var d=a.interactable;if(d&&(!d.options.gesture||!d.options.gesture.enabled))continue}else if(a.pointers.length>=2)continue;if(!a.interacting()&&t===a.pointerType)return a}return null}};function qi(e,t){return e.pointers.some(function(n){return n.id===t})}var Bs=Jn;Kn.default=Bs;var Qn={};function Ur(e){return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(e)}function Hi(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var d,h,p=[],f=!0,v=!1;try{for(a=a.call(n);!(f=(d=a.next()).done)&&(p.push(d.value),!r||p.length!==r);f=!0);}catch(y){v=!0,h=y}finally{try{f||a.return==null||a.return()}finally{if(v)throw h}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ki(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Ki(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ki(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Fs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gr(e,t){return Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Gr(e,t)}function Gs(e,t){if(t&&(Ur(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},er(e)}Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.default=void 0;var Yr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ji(e,t){return function(n){var r=t.interactions.list,a=O.getPointerType(n),d=Hi(O.getEventTargets(n),2),h=d[0],p=d[1],f=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var v=0;v<n.changedTouches.length;v++){var y=n.changedTouches[v],_={pointer:y,pointerId:O.getPointerId(y),pointerType:a,eventType:n.type,eventTarget:h,curEventTarget:p,scope:t},x=Qi(_);f.push([_.pointer,_.eventTarget,_.curEventTarget,x])}}else{var k=!1;if(!ye.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var b=0;b<r.length&&!k;b++)k=r[b].pointerType!=="mouse"&&r[b].pointerIsDown;k=k||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!k){var S={pointer:n,pointerId:O.getPointerId(n),pointerType:a,eventType:n.type,curEventTarget:p,eventTarget:h,scope:t},j=Qi(S);f.push([S.pointer,S.eventTarget,S.curEventTarget,j])}}for(var P=0;P<f.length;P++){var R=Hi(f[P],4),N=R[0],G=R[1],te=R[2];R[3][e](N,n,G,te)}}}function Qi(e){var t=e.pointerType,n=e.scope,r={interaction:Kn.default.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function Xr(e,t){var n=e.doc,r=e.scope,a=e.options,d=r.interactions.docEvents,h=r.events,p=h[t];for(var f in r.browser.isIOS&&!a.events&&(a.events={passive:!1}),h.delegatedEvents)p(n,f,h.delegateListener),p(n,f,h.delegateUseCapture,!0);for(var v=a&&a.events,y=0;y<d.length;y++){var _=d[y];p(n,_.type,_.listener,v)}}var Ys={id:"core/interactions",install:function(e){for(var t={},n=0;n<Yr.length;n++){var r=Yr[n];t[r]=Ji(r,e)}var a,d=ye.default.pEventTypes;function h(){for(var p=0;p<e.interactions.list.length;p++){var f=e.interactions.list[p];if(f.pointerIsDown&&f.pointerType==="touch"&&!f._interacting)for(var v=function(){var _=f.pointers[y];e.documents.some(function(x){var k=x.doc;return(0,D.nodeContains)(k,_.downTarget)})||f.removePointer(_.pointer,_.event)},y=0;y<f.pointers.length;y++)v()}}(a=H.default.PointerEvent?[{type:d.down,listener:h},{type:d.down,listener:t.pointerDown},{type:d.move,listener:t.pointerMove},{type:d.up,listener:t.pointerUp},{type:d.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:h},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(p){for(var f=0;f<e.interactions.list.length;f++)e.interactions.list[f].documentBlur(p)}}),e.prevTouchTime=0,e.Interaction=function(p){(function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),S&&Gr(b,S)})(k,p);var f,v,y,_,x=(y=k,_=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,S=er(y);if(_){var j=er(this).constructor;b=Reflect.construct(S,arguments,j)}else b=S.apply(this,arguments);return Gs(this,b)});function k(){return Fs(this,k),x.apply(this,arguments)}return f=k,(v=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(b){e.interactions.pointerMoveTolerance=b}},{key:"_now",value:function(){return e.now()}}])&&Us(f.prototype,v),Object.defineProperty(f,"prototype",{writable:!1}),k}(Ae.default),e.interactions={list:[],new:function(p){p.scopeFire=function(v,y){return e.fire(v,y)};var f=new e.Interaction(p);return e.interactions.list.push(f),f},listeners:t,docEvents:a,pointerMoveTolerance:1},e.usePlugin(Et.default)},listeners:{"scope:add-document":function(e){return Xr(e,"add")},"scope:remove-document":function(e){return Xr(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var a=t.interactions.list[r];a.interactable===n&&(a.stop(),t.fire("interactions:destroy",{interaction:a}),a.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:Xr,doOnInteractions:Ji,methodNames:Yr},Xs=Ys;Qn.default=Xs;var pn={};function qr(e){return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qr(e)}function fn(){return fn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=qs(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}},fn.apply(this,arguments)}function qs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ut(e))!==null;);return e}function Hr(e,t){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Hr(e,t)}function Hs(e,t){if(t&&(qr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(e)}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t,n){return t&&to(e.prototype,t),n&&to(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(pn,"__esModule",{value:!0}),pn.Scope=void 0,pn.initScope=ro;var Ks=function(){function e(){var t=this;eo(this,e),Se(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),Se(this,"isInitialized",!1),Se(this,"listenerMaps",[]),Se(this,"browser",ye.default),Se(this,"defaults",(0,kt.default)(rn.defaults)),Se(this,"Eventable",ln.Eventable),Se(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),Se(this,"interactStatic",(0,Vr.createInteractStatic)(this)),Se(this,"InteractEvent",on.InteractEvent),Se(this,"Interactable",void 0),Se(this,"interactables",new qn.InteractableSet(this)),Se(this,"_win",void 0),Se(this,"document",void 0),Se(this,"window",void 0),Se(this,"documents",[]),Se(this,"_plugins",{list:[],map:{}}),Se(this,"onWindowUnload",function(r){return t.removeDocument(r.target)});var n=this;this.Interactable=function(r){(function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),v&&Hr(f,v)})(p,r);var a,d,h=(a=p,d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var f,v=ut(a);if(d){var y=ut(this).constructor;f=Reflect.construct(v,arguments,y)}else f=v.apply(this,arguments);return Hs(this,f)});function p(){return eo(this,p),h.apply(this,arguments)}return no(p,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(f){return fn(ut(p.prototype),"set",this).call(this,f),n.fire("interactable:set",{options:f,interactable:this}),this}},{key:"unset",value:function(){fn(ut(p.prototype),"unset",this).call(this);var f=n.interactables.list.indexOf(this);f<0||(fn(ut(p.prototype),"unset",this).call(this),n.interactables.list.splice(f,1),n.fire("interactable:unset",{interactable:this}))}}]),p}(Xn.Interactable)}return no(e,[{key:"addListeners",value:function(t,n){this.listenerMaps.push({id:n,map:t})}},{key:"fire",value:function(t,n){for(var r=0;r<this.listenerMaps.length;r++){var a=this.listenerMaps[r].map[t];if(a&&a(n,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:ro(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){for(var r=0,a=this.listenerMaps.length,d=t.before.reduce(function(p,f){return p[f]=!0,p[io(f)]=!0,p},{});r<a;r++){var h=this.listenerMaps[r].id;if(d[h]||d[io(h)])break}this.listenerMaps.splice(r,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,n){if(this.getDocIndex(t)!==-1)return!1;var r=s.getWindow(t);n=n?(0,M.default)({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(t){var n=this.getDocIndex(t),r=s.getWindow(t),a=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:r,scope:this,options:a})}},{key:"getDocIndex",value:function(t){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}},{key:"getDocOptions",value:function(t){var n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function ro(e,t){return e.isInitialized=!0,g.default.window(t)&&s.init(t),H.default.init(t),ye.default.init(t),Le.default.init(t),e.window=t,e.document=t.document,e.usePlugin(Qn.default),e.usePlugin(Hn.default),e}function io(e){return e&&e.replace(/\/.*$/,"")}pn.Scope=Ks;var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var oo=new pn.Scope,Js=oo.interactStatic;Te.default=Js;var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;oo.init(Qs);var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0,tr.default=function(){};var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0,nr.default=function(){};var rr={};function so(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var d,h,p=[],f=!0,v=!1;try{for(a=a.call(n);!(f=(d=a.next()).done)&&(p.push(d.value),!r||p.length!==r);f=!0);}catch(y){v=!0,h=y}finally{try{f||a.return==null||a.return()}finally{if(v)throw h}}return p}}(e,t)||function(n,r){if(n){if(typeof n=="string")return ao(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);return a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set"?Array.from(n):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?ao(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ao(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=void 0,rr.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(r){var a=so(r,2),d=a[0],h=a[1];return d in e||h in e}),n=function(r,a){for(var d=e.range,h=e.limits,p=h===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:h,f=e.offset,v=f===void 0?{x:0,y:0}:f,y={range:d,grid:e,x:null,y:null},_=0;_<t.length;_++){var x=so(t[_],2),k=x[0],b=x[1],S=Math.round((r-v.x)/e[k]),j=Math.round((a-v.y)/e[b]);y[k]=Math.max(p.left,Math.min(p.right,S*e[k]+v.x)),y[b]=Math.max(p.top,Math.min(p.bottom,j*e[b]+v.y))}return y};return n.grid=e,n.coordFields=t,n};var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),Object.defineProperty(hn,"edgeTarget",{enumerable:!0,get:function(){return tr.default}}),Object.defineProperty(hn,"elements",{enumerable:!0,get:function(){return nr.default}}),Object.defineProperty(hn,"grid",{enumerable:!0,get:function(){return rr.default}});var ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var ea={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,M.default)(t.snappers||{},hn),t.createSnapGrid=t.snappers.grid}},ta=ea;ir.default=ta;var Lt={};function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lo(Object(n),!0).forEach(function(r){na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function na(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=Lt.aspectRatio=void 0;var co={start:function(e){var t=e.state,n=e.rect,r=e.edges,a=e.pageCoords,d=t.options,h=d.ratio,p=d.enabled,f=t.options,v=f.equalDelta,y=f.modifiers;h==="preserve"&&(h=n.width/n.height),t.startCoords=(0,M.default)({},a),t.startRect=(0,M.default)({},n),t.ratio=h,t.equalDelta=v;var _=t.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(t.xIsPrimaryAxis=!(!r.left&&!r.right),t.equalDelta){var x=(_.left?1:-1)*(_.top?1:-1);t.edgeSign={x,y:x}}else t.edgeSign={x:_.left?-1:1,y:_.top?-1:1};if(p!==!1&&(0,M.default)(r,_),y!=null&&y.length){var k=new Ot.default(e.interaction);k.copyFrom(e.interaction.modification),k.prepareStates(y),t.subModification=k,k.startAll(Kr({},e))}},set:function(e){var t=e.state,n=e.rect,r=e.coords,a=t.linkedEdges,d=(0,M.default)({},r),h=t.equalDelta?ra:ia;if((0,M.default)(e.edges,a),h(t,t.xIsPrimaryAxis,r,n),!t.subModification)return null;var p=(0,M.default)({},n);(0,U.addEdges)(a,p,{x:r.x-d.x,y:r.y-d.y});var f=t.subModification.setAll(Kr(Kr({},e),{},{rect:p,edges:a,pageCoords:r,prevCoords:r,prevRect:p})),v=f.delta;return f.changed&&(h(t,Math.abs(v.x)>Math.abs(v.y),f.coords,f.rect),(0,M.default)(r,f.coords)),f.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function ra(e,t,n){var r=e.startCoords,a=e.edgeSign;t?n.y=r.y+(n.x-r.x)*a.y:n.x=r.x+(n.y-r.y)*a.x}function ia(e,t,n,r){var a=e.startRect,d=e.startCoords,h=e.ratio,p=e.edgeSign;if(t){var f=r.width/h;n.y=d.y+(f-a.height)*p.y}else{var v=r.height*h;n.x=d.x+(v-a.width)*p.x}}Lt.aspectRatio=co;var oa=(0,Oe.makeModifier)(co,"aspectRatio");Lt.default=oa;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=void 0;var uo=function(){};uo._defaults={};var sa=uo;Pt.default=sa;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0}),Object.defineProperty(Jr,"default",{enumerable:!0,get:function(){return Pt.default}});var je={};function Qr(e,t,n){return g.default.func(e)?U.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):U.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(je,"__esModule",{value:!0}),je.default=void 0,je.getRestrictionRect=Qr,je.restrict=void 0;var po={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,a=e.interaction,d=e.pageCoords,h=r.options,p=h.elementRect,f=(0,M.default)({left:0,top:0,right:0,bottom:0},h.offset||{});if(t&&p){var v=Qr(h.restriction,a,d);if(v){var y=v.right-v.left-t.width,_=v.bottom-v.top-t.height;y<0&&(f.left+=y,f.right+=y),_<0&&(f.top+=_,f.bottom+=_)}f.left+=n.left-t.width*p.left,f.top+=n.top-t.height*p.top,f.right+=n.right-t.width*(1-p.right),f.bottom+=n.bottom-t.height*(1-p.bottom)}r.offset=f},set:function(e){var t=e.coords,n=e.interaction,r=e.state,a=r.options,d=r.offset,h=Qr(a.restriction,n,t);if(h){var p=U.xywhToTlbr(h);t.x=Math.max(Math.min(p.right-d.right,t.x),p.left+d.left),t.y=Math.max(Math.min(p.bottom-d.bottom,t.y),p.top+d.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};je.restrict=po;var aa=(0,Oe.makeModifier)(po,"restrict");je.default=aa;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.restrictEdges=Ye.default=void 0;var fo={top:1/0,left:1/0,bottom:-1/0,right:-1/0},ho={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function go(e,t){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var a=n[r];a in e||(e[a]=t[a])}return e}var mo={noInner:fo,noOuter:ho,start:function(e){var t,n=e.interaction,r=e.startOffset,a=e.state,d=a.options;if(d){var h=(0,je.getRestrictionRect)(d.offset,n,n.coords.start.page);t=U.rectToXY(h)}t=t||{x:0,y:0},a.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,a=e.state,d=a.offset,h=a.options;if(n){var p=(0,M.default)({},t),f=(0,je.getRestrictionRect)(h.inner,r,p)||{},v=(0,je.getRestrictionRect)(h.outer,r,p)||{};go(f,fo),go(v,ho),n.top?t.y=Math.min(Math.max(v.top+d.top,p.y),f.top+d.top):n.bottom&&(t.y=Math.max(Math.min(v.bottom+d.bottom,p.y),f.bottom+d.bottom)),n.left?t.x=Math.min(Math.max(v.left+d.left,p.x),f.left+d.left):n.right&&(t.x=Math.max(Math.min(v.right+d.right,p.x),f.right+d.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Ye.restrictEdges=mo;var la=(0,Oe.makeModifier)(mo,"restrictEdges");Ye.default=la;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.restrictRect=Zt.default=void 0;var ca=(0,M.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},je.restrict.defaults),vo={start:je.restrict.start,set:je.restrict.set,defaults:ca};Zt.restrictRect=vo;var da=(0,Oe.makeModifier)(vo,"restrictRect");Zt.default=da;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.restrictSize=Vt.default=void 0;var ua={width:-1/0,height:-1/0},pa={width:1/0,height:1/0},yo={start:function(e){return Ye.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,a=e.edges,d=n.options;if(a){var h=U.tlbrToXywh((0,je.getRestrictionRect)(d.min,t,e.coords))||ua,p=U.tlbrToXywh((0,je.getRestrictionRect)(d.max,t,e.coords))||pa;n.options={endOnly:d.endOnly,inner:(0,M.default)({},Ye.restrictEdges.noInner),outer:(0,M.default)({},Ye.restrictEdges.noOuter)},a.top?(n.options.inner.top=r.bottom-h.height,n.options.outer.top=r.bottom-p.height):a.bottom&&(n.options.inner.bottom=r.top+h.height,n.options.outer.bottom=r.top+p.height),a.left?(n.options.inner.left=r.right-h.width,n.options.outer.left=r.right-p.width):a.right&&(n.options.inner.right=r.left+h.width,n.options.outer.right=r.left+p.width),Ye.restrictEdges.set(e),n.options=d}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Vt.restrictSize=yo;var fa=(0,Oe.makeModifier)(yo,"restrictSize");Vt.default=fa;var ei={};Object.defineProperty(ei,"__esModule",{value:!0}),Object.defineProperty(ei,"default",{enumerable:!0,get:function(){return Pt.default}});var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.snap=pt.default=void 0;var _o={start:function(e){var t,n=e.interaction,r=e.interactable,a=e.element,d=e.rect,h=e.state,p=e.startOffset,f=h.options,v=f.offsetWithOrigin?function(x){var k=x.interaction.element;return(0,U.rectToXY)((0,U.resolveRectLike)(x.state.options.origin,null,null,[k]))||(0,Ne.default)(x.interactable,k,x.interaction.prepared.name)}(e):{x:0,y:0};if(f.offset==="startCoords")t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var y=(0,U.resolveRectLike)(f.offset,r,a,[n]);(t=(0,U.rectToXY)(y)||{x:0,y:0}).x+=v.x,t.y+=v.y}var _=f.relativePoints;h.offsets=d&&_&&_.length?_.map(function(x,k){return{index:k,relativePoint:x,x:p.left-d.width*x.x+t.x,y:p.top-d.height*x.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,a=r.options,d=r.offsets,h=(0,Ne.default)(t.interactable,t.element,t.prepared.name),p=(0,M.default)({},n),f=[];a.offsetWithOrigin||(p.x-=h.x,p.y-=h.y);for(var v=0;v<d.length;v++)for(var y=d[v],_=p.x-y.x,x=p.y-y.y,k=0,b=a.targets.length;k<b;k++){var S,j=a.targets[k];(S=g.default.func(j)?j(_,x,t._proxy,y,k):j)&&f.push({x:(g.default.number(S.x)?S.x:_)+y.x,y:(g.default.number(S.y)?S.y:x)+y.y,range:g.default.number(S.range)?S.range:a.range,source:j,index:k,offset:y})}for(var P={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},R=0;R<f.length;R++){var N=f[R],G=N.range,te=N.x-p.x,de=N.y-p.y,J=(0,X.default)(te,de),le=J<=G;G===1/0&&P.inRange&&P.range!==1/0&&(le=!1),P.target&&!(le?P.inRange&&G!==1/0?J/G<P.distance/P.range:G===1/0&&P.range!==1/0||J<P.distance:!P.inRange&&J<P.distance)||(P.target=N,P.distance=J,P.range=G,P.inRange=le,P.delta.x=te,P.delta.y=de)}return P.inRange&&(n.x=P.target.x,n.y=P.target.y),r.closest=P,P},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};pt.snap=_o;var ha=(0,Oe.makeModifier)(_o,"snap");pt.default=ha;var it={};function bo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(it,"__esModule",{value:!0}),it.snapSize=it.default=void 0;var wo={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],pt.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,n,r=e.interaction,a=e.state,d=e.coords,h=a.options,p=a.offsets,f={x:d.x-p[0].x,y:d.y-p[0].y};a.options=(0,M.default)({},h),a.options.targets=[];for(var v=0;v<(h.targets||[]).length;v++){var y=(h.targets||[])[v],_=void 0;if(_=g.default.func(y)?y(f.x,f.y,r):y){for(var x=0;x<a.targetFields.length;x++){var k=(t=a.targetFields[x],n=2,function(P){if(Array.isArray(P))return P}(t)||function(P,R){var N=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(N!=null){var G,te,de=[],J=!0,le=!1;try{for(N=N.call(P);!(J=(G=N.next()).done)&&(de.push(G.value),!R||de.length!==R);J=!0);}catch($e){le=!0,te=$e}finally{try{J||N.return==null||N.return()}finally{if(le)throw te}}return de}}(t,n)||function(P,R){if(P){if(typeof P=="string")return bo(P,R);var N=Object.prototype.toString.call(P).slice(8,-1);return N==="Object"&&P.constructor&&(N=P.constructor.name),N==="Map"||N==="Set"?Array.from(P):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?bo(P,R):void 0}}(t,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),b=k[0],S=k[1];if(b in _||S in _){_.x=_[b],_.y=_[S];break}}a.options.targets.push(_)}}var j=pt.snap.set(e);return a.options=h,j},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};it.snapSize=wo;var ga=(0,Oe.makeModifier)(wo,"snapSize");it.default=ga;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.snapEdges=Wt.default=void 0;var xo={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],it.snapSize.start(e)):null},set:it.snapSize.set,defaults:(0,M.default)((0,kt.default)(it.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Wt.snapEdges=xo;var ma=(0,Oe.makeModifier)(xo,"snapEdges");Wt.default=ma;var ti={};Object.defineProperty(ti,"__esModule",{value:!0}),Object.defineProperty(ti,"default",{enumerable:!0,get:function(){return Pt.default}});var ni={};Object.defineProperty(ni,"__esModule",{value:!0}),Object.defineProperty(ni,"default",{enumerable:!0,get:function(){return Pt.default}});var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=void 0;var va={aspectRatio:Lt.default,restrictEdges:Ye.default,restrict:je.default,restrictRect:Zt.default,restrictSize:Vt.default,snapEdges:Wt.default,snap:pt.default,snapSize:it.default,spring:ti.default,avoid:Jr.default,transform:ni.default,rubberband:ei.default};Bt.default=va;var gn={};Object.defineProperty(gn,"__esModule",{value:!0}),gn.default=void 0;var ya={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(Oe.default),e.usePlugin(ir.default),t.modifiers=Bt.default,Bt.default){var r=Bt.default[n],a=r._defaults,d=r._methods;a._methods=d,e.defaults.perAction[n]=a}}},_a=ya;gn.default=_a;var Tt={};function ri(e){return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ii(e,t)}function wa(e,t){if(t&&(ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oi(e)}function oi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(e){return or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},or(e)}Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.default=Tt.PointerEvent=void 0;var xa=function(e){(function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),f&&ii(p,f)})(h,e);var t,n,r,a,d=(r=h,a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var p,f=or(r);if(a){var v=or(this).constructor;p=Reflect.construct(f,arguments,v)}else p=f.apply(this,arguments);return wa(this,p)});function h(p,f,v,y,_,x){var k;if(function(j,P){if(!(j instanceof P))throw new TypeError("Cannot call a class as a function")}(this,h),k=d.call(this,_),O.pointerExtend(oi(k),v),v!==f&&O.pointerExtend(oi(k),f),k.timeStamp=x,k.originalEvent=v,k.type=p,k.pointerId=O.getPointerId(f),k.pointerType=O.getPointerType(f),k.target=y,k.currentTarget=null,p==="tap"){var b=_.getPointerIndex(f);k.dt=k.timeStamp-_.pointers[b].downTime;var S=k.timeStamp-_.tapTime;k.double=!!_.prevTap&&_.prevTap.type!=="doubletap"&&_.prevTap.target===k.target&&S<500}else p==="doubletap"&&(k.dt=f.timeStamp-_.tapTime,k.double=!0);return k}return t=h,(n=[{key:"_subtractOrigin",value:function(p){var f=p.x,v=p.y;return this.pageX-=f,this.pageY-=v,this.clientX-=f,this.clientY-=v,this}},{key:"_addOrigin",value:function(p){var f=p.x,v=p.y;return this.pageX+=f,this.pageY+=v,this.clientX+=f,this.clientY+=v,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&ba(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(Ge.BaseEvent);Tt.PointerEvent=Tt.default=xa;var mn={};Object.defineProperty(mn,"__esModule",{value:!0}),mn.default=void 0;var sr={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=sr,e.defaults.actions.pointerEvents=sr.defaults,(0,M.default)(e.actions.phaselessTypes,sr.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,a=e.event,d=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&si(e),ft({interaction:n,pointer:r,event:a,eventTarget:d,type:"move"},t))},"interactions:down":function(e,t){(function(n,r){for(var a=n.interaction,d=n.pointer,h=n.event,p=n.eventTarget,f=n.pointerIndex,v=a.pointers[f].hold,y=D.getPath(p),_={interaction:a,pointer:d,event:h,eventTarget:p,type:"hold",targets:[],path:y,node:null},x=0;x<y.length;x++){var k=y[x];_.node=k,r.fire("pointerEvents:collect-targets",_)}if(_.targets.length){for(var b=1/0,S=0;S<_.targets.length;S++){var j=_.targets[S].eventable.options.holdDuration;j<b&&(b=j)}v.duration=b,v.timeout=setTimeout(function(){ft({interaction:a,eventTarget:p,pointer:d,event:h,type:"hold"},r)},b)}})(e,t),ft(e,t)},"interactions:up":function(e,t){si(e),ft(e,t),function(n,r){var a=n.interaction,d=n.pointer,h=n.event,p=n.eventTarget;a.pointerWasMoved||ft({interaction:a,eventTarget:p,pointer:d,event:h,type:"tap"},r)}(e,t)},"interactions:cancel":function(e,t){si(e),ft(e,t)}},PointerEvent:Tt.PointerEvent,fire:ft,collectEventTargets:Eo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ft(e,t){var n=e.interaction,r=e.pointer,a=e.event,d=e.eventTarget,h=e.type,p=e.targets,f=p===void 0?Eo(e,t):p,v=new Tt.PointerEvent(h,r,a,d,n,t.now());t.fire("pointerEvents:new",{pointerEvent:v});for(var y={interaction:n,pointer:r,event:a,eventTarget:d,targets:f,type:h,pointerEvent:v},_=0;_<f.length;_++){var x=f[_];for(var k in x.props||{})v[k]=x.props[k];var b=(0,Ne.default)(x.eventable,x.node);if(v._subtractOrigin(b),v.eventable=x.eventable,v.currentTarget=x.node,x.eventable.fire(v),v._addOrigin(b),v.immediatePropagationStopped||v.propagationStopped&&_+1<f.length&&f[_+1].node!==v.currentTarget)break}if(t.fire("pointerEvents:fired",y),h==="tap"){var S=v.double?ft({interaction:n,pointer:r,event:a,eventTarget:d,type:"doubletap"},t):v;n.prevTap=S,n.tapTime=S.timeStamp}return v}function Eo(e,t){var n=e.interaction,r=e.pointer,a=e.event,d=e.eventTarget,h=e.type,p=n.getPointerIndex(r),f=n.pointers[p];if(h==="tap"&&(n.pointerWasMoved||!f||f.downTarget!==d))return[];for(var v=D.getPath(d),y={interaction:n,pointer:r,event:a,eventTarget:d,type:h,path:v,targets:[],node:null},_=0;_<v.length;_++){var x=v[_];y.node=x,t.fire("pointerEvents:collect-targets",y)}return h==="hold"&&(y.targets=y.targets.filter(function(k){var b;return k.eventable.options.holdDuration===((b=n.pointers[p])==null?void 0:b.hold.duration)})),y.targets}function si(e){var t=e.interaction,n=e.pointerIndex,r=t.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var Ea=sr;mn.default=Ea;var ar={};function ka(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var Oa={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(mn.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=ka,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,a=e.eventTarget,d=e.targets;if(r.type==="hold"&&d.length){var h=d[0].eventable.options.holdRepeatInterval;h<=0||(n.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:n,eventTarget:a,type:"hold",pointer:r,event:r},t)},h))}}})},Sa=Oa;ar.default=Sa;var lr={};function Pa(e){return(0,M.default)(this.events.options,e),this}Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var Ta={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Pa;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(r,a){var d=n.call(this,r,a);return d===this&&(this.events.options[r]=a),d}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,a=e.type,d=e.eventTarget;t.interactables.forEachMatch(r,function(h){var p=h.events,f=p.options;p.types[a]&&p.types[a].length&&h.testIgnoreAllow(f,r,d)&&n.push({node:r,eventable:p,props:{interactable:h}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(n){return t.getRect(n)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;(0,M.default)(n.events.options,t.pointerEvents.defaults),(0,M.default)(n.events.options,r.pointerEvents||{})}}},Ca=Ta;lr.default=Ca;var vn={};Object.defineProperty(vn,"__esModule",{value:!0}),vn.default=void 0;var ja={id:"pointer-events",install:function(e){e.usePlugin(mn),e.usePlugin(ar.default),e.usePlugin(lr.default)}},Ma=ja;vn.default=Ma;var Ft={};function ko(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(n){return function(r,a,d){for(var h=g.default.string(r.target)?se.from(r._context.querySelectorAll(r.target)):[r.target],p=d.window.Promise,f=p?[]:null,v=function(){var _=h[y],x=r.getRect(_);if(!x)return"break";var k=se.find(d.interactions.list,function(R){return R.interacting()&&R.interactable===r&&R.element===_&&R.prepared.name===a.name}),b=void 0;if(k)k.move(),f&&(b=k._reflowPromise||new p(function(R){k._reflowResolve=R}));else{var S=(0,U.tlbrToXywh)(x),j={page:{x:S.x,y:S.y},client:{x:S.x,y:S.y},timeStamp:d.now()},P=O.coordsToEvent(j);b=function(R,N,G,te,de){var J=R.interactions.new({pointerType:"reflow"}),le={interaction:J,event:de,pointer:de,eventTarget:G,phase:"reflow"};J.interactable=N,J.element=G,J.prevEvent=de,J.updatePointer(de,de,G,!0),O.setZeroCoords(J.coords.delta),(0,Re.copyAction)(J.prepared,te),J._doPhase(le);var $e=R.window.Promise,ot=$e?new $e(function(li){J._reflowResolve=li}):void 0;return J._reflowPromise=ot,J.start(te,N,G),J._interacting?(J.move(le),J.end(de)):(J.stop(),J._reflowResolve()),J.removePointer(de,de),ot}(d,r,_,a,P)}f&&f.push(b)},y=0;y<h.length&&v()!=="break";y++);return f&&p.all(f).then(function(){return r})}(this,n,e)}}Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.default=void 0,Ft.install=ko;var Ia={id:"reflow",install:ko,listeners:{"interactions:stop":function(e,t){var n=e.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),se.remove(t.interactions.list,n))}}},Aa=Ia;Ft.default=Aa;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=void 0,Te.default.use(Et.default),Te.default.use(dt.default),Te.default.use(vn.default),Te.default.use(St.default),Te.default.use(gn.default),Te.default.use(tn.default),Te.default.use(Qt.default),Te.default.use(nt.default),Te.default.use(Ft.default);var za=Te.default;Ct.default=za,Te.default.default=Te.default,Qt.default,nt.default,tn.default,Et.default,Vn.default,St.default,Te.default,gn.default,dt.default,vn.default,Ft.default;var jt={exports:{}};function ai(e){return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}Object.defineProperty(jt.exports,"__esModule",{value:!0}),jt.exports.default=void 0;var Ra=Ct.default;if(jt.exports.default=Ra,ai(jt)==="object"&&jt)try{jt.exports=Ct.default}catch{}return Ct.default.default=Ct.default,jt.exports})})(Bo);var bc=Bo.exports;const ur=_c(bc),wc=c=>{var i=c.target,o=(parseFloat(i.getAttribute("data-left"))||0)+c.dx,s=(parseFloat(i.getAttribute("data-top"))||0)+c.dy;i.style.transform="translate("+o+"px, "+s+"px)",i.setAttribute("data-left",o),i.setAttribute("data-top",s)};class xc extends be{constructor(o){const s=document.createElement("div");super(s);I(this,"page_id");I(this,"store");I(this,"page_frame");I(this,"snap_to_grid",!0);I(this,"snap_precision",8);I(this,"auto_group",!0);I(this,"auto_unmask",!0);I(this,"multi_selection_is_active",!1);I(this,"local_selection",new Set);I(this,"tag_along",new Map);I(this,"reorder_widgets_to_unmask",(o,s)=>{const l=this.store.model.pages[this.page_id].properties.zorder||[];let u=[...l];for(const m of o)u=kc(m,s,u);for(const m of o)u=Ec(m,s,u);return l.length===u.length&&l.every((m,g)=>m===u[g])?[]:u});s.className="g-designer",Q(s,{display:"flex",overflow:"hidden",position:"relative"}),this.page_id="",this.store=o,this.page_frame=document.createElement("div"),ur(".draggable").on("tap",l=>{const u=l.target.getAttribute("data-id");if(!u){console.warn("widget_id not found in on tap",u);return}this.local_selection.has(u)?this.local_selection=new Set:this.local_selection=new Set([u]),this.store.update_widgets_selection(this,this.page_id,[...this.local_selection]),l.preventDefault()}).resizable({allowFrom:".handle",edges:{left:!0,right:!0,bottom:!0,top:!0},listeners:{start:l=>{const u=l.target.getAttribute("data-id");if(!u){console.warn("widget_id not found in resize start");return}this.local_selection=new Set([u])},move(l){var u=l.target,m=parseFloat(u.getAttribute("data-left"))||0,g=parseFloat(u.getAttribute("data-top"))||0;u.style.width=l.rect.width+"px",u.style.height=l.rect.height+"px",m+=l.deltaRect.left,g+=l.deltaRect.top,u.style.transform="translate("+m+"px,"+g+"px)",u.setAttribute("data-left",m),u.setAttribute("data-top",g),u.textContent=Math.round(l.rect.width)+""+Math.round(l.rect.height)},end:l=>{this._update_after_drag({mode:"resize",width:l.rect.width,height:l.rect.height})}},modifiers:[ur.modifiers.restrictEdges({outer:"parent"}),ur.modifiers.restrictSize({min:{width:8,height:8}})],inertia:!0}).draggable({inertia:!1,modifiers:[ur.modifiers.restrictRect({restriction:"parent",endOnly:!0})],autoScroll:!0,listeners:{start:l=>{const u=l.target.getAttribute("data-id");if(!u){console.warn("widget_id not found in drag start");return}this.local_selection=new Set([u])},move:wc,end:l=>{this._update_after_drag({mode:"drag"})}}})}set_children(){this.htmlElement.innerHTML="",this.page_frame=document.createElement("div"),Q(this.page_frame,{display:"flex",overflow:"hidden",position:"relative",backgroundColor:"red",width:"1px",height:"1px"}),this.htmlElement.appendChild(this.page_frame);const o=this.store.model.pages[this.page_id];if(o){{const s=this.store.model.pages[this.page_id].widgets[""].properties;Q(this.page_frame,{width:`${s.width}px`,height:`${s.height}px`,backgroundColor:s.background_color})}for(const s of o.properties.zorder??[]){const l=o.widgets[s];l&&this.addChild(s,l.properties,this.store.widgets_selection.includes(s))}}}addChild(o,s,l=!1){const u=new It;u.htmlElement.className="draggable",Q(u.htmlElement,{touchAction:"none",userSelect:"none",transform:"translate(0px, 0px)",boxSizing:"border-box"}),this.htmlElement.appendChild(u.htmlElement);let m=u.htmlElement.style;m.position="absolute",m.overflow="visible",m.left=`${s.left??ce.left}px`,m.top=`${s.top??ce.top}px`,m.width=`${s.width??ce.width}px`,m.height=`${s.height??ce.height}px`,m.backgroundColor=s.background_color??ce.background_color,m.color=s.foreground_color??ce.foreground_color,m.borderStyle="solid";const g=s.border_width??ce.border_width;m.borderWidth=`${g}px`,m.borderColor=s.border_color??ce.border_color;const w="8px",E="user-select:none;border-color:black;border-style:solid;border-width:2px;background-color:transparent;",T=`
		<div class="handle" style="${E}position:absolute;width:${w};height:${w};top:calc(-${w} - ${m.borderWidth});left:calc(100% + ${m.borderWidth})"></div>
		<div class="handle" style="${E}position:relative;width:${w};height:${w};top:calc(100% + ${m.borderWidth});left:calc(100% + ${m.borderWidth})"></div>

		<div class="handle" style="${E}position:absolute;width:${w};height:${w};top:calc(-${w} - ${m.borderWidth});left:calc(-${w} - ${m.borderWidth})"></div>
		<div class="handle" style="${E}position:relative;width:${w};height:${w};top:calc(100% - ${w} + ${m.borderWidth});left:calc(-${w} - ${m.borderWidth})"></div>
		`;u.htmlElement.innerHTML=`
		${l?T:""}
		<div class="movable_area" data-id=${o} style="overflow:hidden;background-color:white;position:absolute;top:0;left:0;right:0;bottom:0">
			${(s.label??s.type??"").replaceAll("<","&lt;").replaceAll(">","$gt;").replaceAll("&","&amp;")}
		</div>

		`,u.htmlElement.setAttribute("data-id",o)}set_current_page(o){this.page_id=o,this.set_children()}pages_changed(o,s,l,u){l.includes(this.page_id)&&this.set_children()}widgets_changed(o,s,l,u,m){if(s===this.page_id)for(const g of[l,u,m])for(const w of g){if(gt(this.page_id,w)){this.set_children();return}if(w===""){const E=this.store.model.pages[this.page_id].widgets[""].properties;Q(this.page_frame,{width:`${E.width}px`,height:`${E.height}px`,backgroundColor:E.background_color})}}}widgets_selection_changed(o,s,l){s===this.page_id&&this.set_children()}pages_selection_changed(o,s){s.length>0&&s[0]!==this.page_id&&this.set_current_page(s[0])}_update_after_drag(o){const s=[],l=new Set([...this.local_selection]);if(o.mode==="drag")for(const u of this.tag_along)for(const m of u[1])gt(this.page_id,m)&&l.add(m);for(const u of l){const m=this.htmlElement.querySelector(`[data-id='${u}']`);if(m){const g=this.store.model.pages[this.page_id].widgets[u].properties,w=g.top+parseFloat(m.getAttribute("data-top")??"0"),E=g.left+parseFloat(m.getAttribute("data-left")??"0");o.mode==="drag"?s.push({category:"widget",id:u,properties:{top:w,left:E}}):s.push({category:"widget",id:u,properties:{top:w,left:E,width:o.width,height:o.height}})}}if(this.auto_unmask){const u=new Map(Object.entries(this.store.model.pages[this.page_id].widgets));for(let g=0;g<s.length;g++){const w={...this.store.model.pages[this.page_id].widgets[s[g].id]};w.properties={...w.properties,...s[g].properties},u.set(s[g].id,w)}const m=this.reorder_widgets_to_unmask(l,u);this.store.update_widgets(this,this.page_id,s,m)}else this.store.update_widgets(this,this.page_id,s,[]),this.store.update_widgets_selection(null,this.page_id,[...this.local_selection])}}function Fo(c,i){if(c.properties.left&&i.properties.left&&c.properties.width&&i.properties.width&&c.properties.top&&i.properties.top&&c.properties.height&&i.properties.height){const o=c.properties.left<=i.properties.left&&c.properties.left+c.properties.width>=i.properties.left+i.properties.width,s=c.properties.top<=i.properties.top&&c.properties.top+c.properties.height>=i.properties.top+i.properties.height;return o&&s}return!1}const Ec=(c,i,o)=>{const s=o.findIndex(m=>m===c);if(s===-1)return o;const l=i.get(c);let u=s;for(let m=s+1;m<o.length;m++){const g=i.get(o[m]);Fo(g,l)&&(u=m)}if(u===s)return o;{const m=o.slice(0,s),g=o.slice(s+1,u+1),w=[c],E=o.slice(u+1);return[].concat(m,g,w,E)}},kc=(c,i,o)=>{const s=Oc(c,i,o);if(s.length===0)return o;const l=o.findIndex(m=>m===s.slice(-1)[0]);let u=[];for(let m=0;m<o.length;m++)m<l?u.push(o[m]):m===l?(u.push(c),u.push(o[m])):o[m]!==c&&u.push(o[m]);return u},Oc=(c,i,o)=>{const s=i.get(c);let l=[];const u=o.findIndex(m=>m===c);if(u===-1)return l;for(let m=u-1;m>=0;m--){const g=i.get(o[m]);Fo(s,g)&&l.push(o[m])}return l};class Sc extends nc{new_page(){const i={category:"widget",id:"",properties:{...ce,type:"",label:"page",width:this.model.properties.width,height:this.model.properties.height,background_color:"#e6e6e6"}};this.add_pages(null,[{category:"Page",properties:{...Wo()},widgets:{"":i}}])}}const Pc=c=>{c.style.backgroundColor="lightgray";const i=new Sc;i.new_page();const o=Object.keys(i.model.pages)[0],s=new dc(i);s.setWidth(740),s.setHeight(580),s.setBackgroundColor("darkgrey"),s.set_current_page(o),i.register_interest(s);let l=X=>{};const u=new oc(i).setWidth(100,"%").setHeight(100,"%"),m=new be(c),g=Na("horizontal","start","start",8);m.setLayout(g);const w="showOpenFilePicker"in window;let E=null;const T=async()=>{if(!("showOpenFilePicker"in window))return;let X;[X]=await window.showOpenFilePicker();const O=await(await X.getFile()).text();l(Co(O)),E=X},W=async()=>{if(!("showSaveFilePicker"in window))return;if(E===null){const q={types:[{description:"Wireframe Project File",accept:{"text/plain":[".txt"]}}],multiple:!1};E=await window.showSaveFilePicker(q)}const X=await E.createWritable();await X.write(JSON.stringify(i.model)),await X.close()},$=new Va;let Z="";$.onChange((X,q)=>{if(q.length===0)return;let O=new FileReader;Z=q[0].name,O.readAsText(q[0]),O.onload=()=>{O.result&&l(Co(O.result.toString()))},O.onerror=function(){console.log(O.error)}});const oe=new Me("Save a copy"),ie=kr();oe.onClick(()=>{Z=Z||"new wireframe project.txt";const X={type:"text/plain"},q=new File([JSON.stringify(i.model)],Z,X);let O=document.getElementById(ie);if(O||(O=document.createElement("a"),c.appendChild(O)),!O){console.error("cannot create link for project download");return}O.style.display="none",O.href=window.URL.createObjectURL(q),O.setAttribute("download",Z),O.click()});const ne=new Me("save project");ne.onClick(()=>{W()});const H=new Me("open project");H.onClick(()=>{T()});const re=new Me("+").setAriaLabel("add page").setTooltip("add page");re.onClick(()=>{s.page_id!==""&&i.new_page()});const _e=new Me("+").setAriaLabel("add widget").setTooltip("add widget");_e.onClick(()=>{s.page_id!==""&&i.add_widgets(null,s.page_id,[{category:"widget",properties:{...ce}}])});const De=new Me("copy");De.onClick(()=>{if(s.page_id!==""){const X=i.model.pages[s.page_id];if(X){const q=[];for(const O of i.widgets_selection){const Ee=X.widgets[O];Ee&&q.push(fr(Ee))}i.copy(q)}}});const ye=new Me("paste");ye.onClick(()=>{if(i.get_clipboard().length>0&&s.page_id!==""&&i.model.pages[s.page_id]){const q=[];for(const O of i.get_clipboard())if(O.category==="widget"){const Ee=jo(fr(O),"id");gt(s.page_id,O.id)&&(Ee.properties.left&&(Ee.properties.left+=32),Ee.properties.top&&(Ee.properties.top+=32)),q.push(Ee)}i.add_widgets(null,s.page_id,q)}});const we=new Me("x2").setAriaLabel("duplicate widget").setTooltip("duplicate widget");we.onClick(()=>{if(s.page_id!==""){const X=i.model.pages[s.page_id];if(X){const q=[];for(const O of i.widgets_selection){const Ee=X.widgets[O];if(Ee){const Pe=jo(fr(Ee),"id");Pe.properties.left&&(Pe.properties.left+=32),Pe.properties.top&&(Pe.properties.top+=32),q.push(Pe)}}i.add_widgets(null,s.page_id,q)}}});const He=new Me("-").setAriaLabel("delete widget").setTooltip("delete widget");He.onClick(()=>{if(s.page_id!==""){const X=i.model.pages[s.page_id];X&&i.delete_widgets(null,X.id,i.widgets_selection)}});const D=X=>{if(s.page_id!==""){const q=i.model.pages[s.page_id];if(q){const O=[];for(const Ue of i.widgets_selection){const bt=q.widgets[Ue];bt&&O.push(bt.id)}const Pe=[...q.properties.zorder].filter(Ue=>!O.includes(Ue)),Jt=O.sort((Ue,bt)=>q.properties.zorder.findIndex(Ge=>Ge===Ue)-q.properties.zorder.findIndex(Ge=>Ge===bt)),Mn=X==="full_front"?[...Pe,...Jt]:[...Jt,...Pe];i.update_pages(null,[{category:"Page",id:q.id,properties:{zorder:Mn},widgets:{}}])}}},xe=new Me("to front").onClick(()=>{D("full_front")}),ve=new Me("to back").onClick(()=>{D("full_back")}),me=new cr(s.snap_to_grid,"snap to grid");me.onChange(()=>{s.snap_to_grid=me.isChecked()});const lt=new cr(s.multi_selection_is_active,"multi-selection");lt.onChange(()=>{s.multi_selection_is_active=lt.isChecked()});const Ke=new cr(s.auto_group,"auto group");Ke.onChange(()=>{s.auto_group=Ke.isChecked()});const Je=new cr(s.auto_unmask,"auto unmask");Je.onChange(()=>{s.auto_unmask=Je.isChecked()});const M=new Me("Pages"),U=new Me("Props"),ze=Ut(Oo(M,U,_e,De,ye,we,He,xe,ve).setGap(8),Oo(me,lt,Ke,Je).setGap(8)),ue=new mc({width:`${i.model.properties.width}px`,height:`${i.model.properties.height}px`}),Ne=new Me("run");Ne.onClick(X=>{ue.setWidth(i.model.properties.width).setHeight(i.model.properties.height),ue.setContent(yc(i.model,s.page_id))}),ze.addChild(Ne);const Fe=new sc(i);Fe.set_current_page(o),i.register_interest(Fe);const _t=new Wa().setWidth(1024).setHeight(640);{const X=new xc(i);i.register_interest(X);const q=new So("horizontal").resize_panel(2,12,"rem");q.setChildren(X.setWidth(100,"%").setHeight(100,"%").setAutoGrow(),Fe.setWidth(100,"%").setAutoGrow()),U.onClick(()=>{q.is_panel_visible(2)?q.hide_panel(2):q.show_panel(2)});const O=new So("horizontal").resize_panel(1,128,"px");O.setChildren(Ut(re,u.setAutoGrow()),Ut(ze,q.setWidth(100,"%").setHeight(100,"%").setAutoGrow())),_t.addPanel("designer",O),M.onClick(()=>{O.is_panel_visible(1)?O.hide_panel(1):O.show_panel(1)})}_t.addPanel("simulator",Ut(Ne,ue));{const X=new ui("number",`${i.model.properties.width}`).setWidth(5,"rem");X.onChange(()=>{i.model.properties.width=parseInt(X.getValue(),10)});const q=new ui("number",`${i.model.properties.height}`).setWidth(5,"rem");q.onChange(()=>{i.model.properties.height=parseInt(q.getValue(),10)});const O=new Za().configure_as_properties_grid();O.addChildAt(new Yt("Screen dimensions"),1,1,2,1),O.addChildAt(new Yt("width"),1,2),O.addChildAt(X,2,2),O.addChildAt(new Yt("height"),1,3),O.addChildAt(q,2,3),l=Pe=>{i.set_model(Pe),X.setValue(`${i.model.properties.width}`),q.setValue(`${i.model.properties.height}`)};const Ee=w?[H,ne]:[$,oe];_t.addPanel("project",Ut(...Ee,O))}g.addChild(_t.setWidth(100,"%").setHeight(100,"dvh"))},Tc=document.getElementById("app");Pc(Tc);
