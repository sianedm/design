var Ra=Object.defineProperty;var Da=(d,i,o)=>i in d?Ra(d,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):d[i]=o;var D=(d,i,o)=>(Da(d,typeof i!="symbol"?i+"":i,o),o);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const p of l)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function o(l){const p={};return l.integrity&&(p.integrity=l.integrity),l.referrerPolicy&&(p.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?p.credentials="include":l.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function a(l){if(l.ep)return;l.ep=!0;const p=o(l);fetch(l.href,p)}})();class be{constructor(i){D(this,"htmlElement");D(this,"previous_css_display","");i.style.overflow===""&&(i.style.overflow="hidden"),i.style.margin===""&&(i.style.margin="0"),i.style.padding===""&&(i.style.padding="0"),i.style.fontSize===""&&(i.style.fontSize="18px"),i.className="g-base-element",this.htmlElement=i}setLayout(i){hr(i),this.htmlElement.firstChild&&this.htmlElement.removeChild(this.htmlElement.firstChild),this.htmlElement.appendChild(i.htmlElement)}onClick(i){this.htmlElement.addEventListener("click",()=>{i(this)})}setBorderWidth(i){return this.htmlElement.style.borderWidth=`${i}px`,i>0?this.htmlElement.style.borderStyle="solid":this.htmlElement.style.borderStyle="none",this}setBorderRadius(i){return this.htmlElement.style.borderRadius=`${i}px`,this}setBackgroundColor(i){return this.htmlElement.style.backgroundColor=i,this}setBorderColor(i){return this.htmlElement.style.borderColor=i,this}setForegroundColor(i){return this.htmlElement.style.color=i,this}setWidth(i,o="px"){return this.htmlElement.style.width=`${i}${o}`,this}setHeight(i,o="px"){return this.htmlElement.style.height=`${i}${o}`,this}setAutoGrow(i=1){return this.htmlElement.style.flexGrow=`${i}`,this}enable(){return this.htmlElement.removeAttribute("disabled"),this}disable(){return this.htmlElement.setAttribute("disabled",""),this}is_visible(){return this.htmlElement.style.display!=="none"}hide(){return this.htmlElement.style.display!=="none"&&(this.previous_css_display=this.htmlElement.style.display),this.htmlElement.style.display="none",this}show(){return this.htmlElement.style.display==="none"&&(this.htmlElement.style.display=this.previous_css_display),this}setAriaLabel(i){return this.htmlElement.setAttribute("aria-label",i),this}setTooltip(i){return this.htmlElement.setAttribute("title",i),this}}const ee=(d,i)=>{Object.assign(d.style,i)},Ct=(d,i)=>{d.htmlElement.appendChild(i.htmlElement)},hr=d=>{d.htmlElement.style.width="100%",d.htmlElement.style.height="100%"};class Mt extends be{constructor(){const i=document.createElement("div");super(i)}}class vi extends be{constructor(i,o,a,l){const p=document.createElement("div");super(p),p.className="g-linear-layout",p.style.display="flex",this.setDirection(i),this.setDistribution(o||"center"),this.setAlignment(a||"center"),this.setGap(l||0)}addChild(i){return this.htmlElement.appendChild(i.htmlElement),this}setDirection(i){let o;switch(i){case"horizontal":o="row";break;case"vertical":o="column";break}return this.htmlElement.style.flexDirection=o,this}setDistribution(i){let o;switch(i){case"start":o="flex-start";break;case"center":o="center";break;case"end":o="flex-end";break;case"space_between":o="space-between";break;case"space_around":o="space-around";break;case"space_evenly":o="space-evenly";break}return this.htmlElement.style.justifyContent=o,this}setAlignment(i){let o;switch(i){case"start":o="flex-start";break;case"center":o="center";break;case"end":o="flex-end";break;case"stretch":o="stretch";break}return this.htmlElement.style.alignItems=o,this}setGap(i){return this.htmlElement.style.gap=`${i}px`,this}}const Na=(d,i,o,a)=>new vi(d,i,o,a);class Mo extends vi{constructor(){super("vertical"),this.htmlElement.className="g-v-layout"}}class Io extends vi{constructor(){super("horizontal"),this.htmlElement.className="g-h-layout"}}const vn=(...d)=>{const i=new Mo;for(const o of d)i.addChild(o);return i},Oo=(...d)=>{const i=new Io;for(const o of d)i.addChild(o);return i};class $a extends be{constructor(){const i=document.createElement("div");super(i),i.className="g-absolute-layout",ee(i,{display:"flex",overflow:"hidden",position:"relative"})}addChild(i,o){let a=i.htmlElement.style;a.position="absolute";const l=o;l.top!==void 0&&(a.top=`${l.top}px`),l.left!==void 0&&(a.left=`${l.left}px`),l.right!==void 0&&(a.right=`${l.right}px`),l.bottom!==void 0&&(a.bottom=`${l.bottom}px`),l.width!==void 0&&(a.width=`${l.width}px`),l.height!==void 0&&(a.height=`${l.height}px`),this.htmlElement.appendChild(i.htmlElement)}}class La extends Mt{constructor(){super();D(this,"is_configured",!1);this.htmlElement.className="g-grid-layout",ee(this.htmlElement,{display:"grid",overflow:"hidden"})}configure_as_properties_grid(){return ee(this.htmlElement,{gridTemplateColumns:"auto auto",gridAutoRows:"auto"}),this.is_configured=!0,this}configure_as_uniform(o,a){if(Number.isInteger(a)&&o>0&&Number.isInteger(a)&&a>0)ee(this.htmlElement,{gridTemplateColumns:`repeat(${Math.trunc(o)}, 1fr)`,gridTemplateRows:`repeat(${Math.trunc(a)}, 1fr)`}),this.is_configured=!0;else throw new Error("requires positive integer for its parameters");return this}addChild(o){if(!this.is_configured)throw new Error("grid layout need to be configured before adding elements");this.htmlElement.appendChild(o.htmlElement)}addChildAt(o,a,l,p=1,m=1){if(!this.is_configured)throw new Error("grid layout need to be configured before adding elements");ee(o.htmlElement,{gridColumn:`${Math.trunc(a)} / ${Math.trunc(a+p)}`,gridRow:`${Math.trunc(l)} / ${Math.trunc(l+m)}`}),this.htmlElement.appendChild(o.htmlElement)}}class Ut extends be{constructor(i){const o=document.createElement("p");super(o),o.innerText=i,o.className="g-label"}setValue(i){this.htmlElement.innerText=i}getValue(){return this.htmlElement.innerText}}class Me extends be{constructor(i){const o=document.createElement("button");super(o),o.innerText=i,o.className="g-button"}setValue(i){this.htmlElement.innerText=i}getValue(){return this.htmlElement.innerText}onClick(i){return this.htmlElement.addEventListener("click",()=>{i(this)}),this}}class cr extends be{constructor(o,a){const l=document.createElement("label");super(l);D(this,"checkbox");const p=document.createElement("span");p.innerText=a;const m=document.createElement("input");m.type="checkbox",m.checked=o,this.checkbox=m,l.appendChild(p),l.appendChild(m),this.htmlElement.className="g-checkbox"}isChecked(){return this.checkbox.checked}onChange(o){return this.checkbox.addEventListener("change",()=>{o(this)}),this}}class Za extends be{constructor(){const i=document.createElement("input");super(i),this.htmlElement.className="g-file-selector",i.type="file"}onChange(i){return this.htmlElement.addEventListener("change",()=>{const o=[],a=this.htmlElement.files;if(a)for(let l=0;l<(a==null?void 0:a.length);l++)o.push(a[l]);i(this,o)}),this}}class ui extends be{constructor(i,o){const a=document.createElement("input");super(a),a.className="g-text-input",a.type=i,a.value=o}setValue(i){this.htmlElement.value=i}getValue(){return this.htmlElement.value}onChange(i){this.htmlElement.tagName==="select"?this.htmlElement.addEventListener("change",()=>{i()}):this.htmlElement.addEventListener("input",()=>{i()})}}class Va extends be{constructor(){const o=document.createElement("div");super(o);D(this,"labels");D(this,"panel_area");D(this,"labels_buttons");D(this,"panels");o.className="g-tab-panel",ee(o,{borderStyle:"solid",borderColor:"black",borderWidth:"1px"}),this.labels_buttons=[],this.panels=[],this.labels=new Io,this.labels.setDistribution("start"),this.panel_area=new $a,this.panel_area.htmlElement.style.flexGrow="1",this.panel_area.htmlElement.style.width="";let a=new Mo;a.setDistribution("start"),a.setAlignment("stretch"),hr(a),a.addChild(this.labels),a.addChild(this.panel_area),Ct(this,a)}addPanel(o,a){for(const m of this.labels_buttons)m.htmlElement.style.fontStyle="normal";let l=new Me(o);l.htmlElement.style.fontStyle="italic",this.labels.addChild(l),this.labels_buttons.push(l);const p=new be(document.createElement("div"));Ct(p,a),a.htmlElement.style.width="100%",a.htmlElement.style.height="100%",this.panel_area.addChild(p,{top:0,left:0,right:0,bottom:0}),this.panels.length>0&&this.panels[this.panels.length-1].hide(),this.panels.push(p),l.onClick(m=>{for(const g of this.panels)g===p?g.show():g.hide();for(const g of this.labels_buttons)g===l?m.htmlElement.style.fontStyle="italic":(!g.htmlElement.style.fontStyle||g.htmlElement.style.fontStyle!=="normal")&&(g.htmlElement.style.fontStyle="normal")})}}class Ba extends be{constructor(i){super(i),i.className="g-base-listview",ee(i,{display:"flex",justifyContent:"start",alignItems:"stretch"})}addChild(i){let o=new be(document.createElement("div"));o.htmlElement.style.overflow="visible",i.htmlElement.style.width="100%",i.htmlElement.style.height="100%",Ct(o,i),Ct(this,o)}RemoveAllChildren(){this.htmlElement.innerHTML=""}setGap(i){this.htmlElement.style.gap=`${i}px`}}class Wa extends Ba{constructor(){const i=document.createElement("div");super(i),i.className="g-v-listview",ee(i,{flexDirection:"column",overflowY:"auto"})}}class ci extends be{constructor(){const o=document.createElement("select");super(o);D(this,"getValue",()=>this.htmlElement.value||"");D(this,"setValue",o=>{this.htmlElement.value=o});o.className="g-dropdown",o.setAttribute("size","1"),o.style.borderImageWidth="0",o.value=""}onChange(o){this.htmlElement.addEventListener("change",()=>{o(this)})}setItems(o,a,l){this.htmlElement.innerHTML="";for(let p=0;p<a.length;p++){const m=a[p],g=document.createElement("option");g.value=l[p],g.innerText=m,this.htmlElement.appendChild(g)}this.htmlElement.value=o}setNbItemsShown(o){this.htmlElement.setAttribute("size",o.toString())}}class So extends be{constructor(o,a){const p=o==="horizontal"?"col-resize":"row-resize",m=document.createElement("div");super(m);D(this,"first_panel");D(this,"second_panel");D(this,"resizer");D(this,"x_origin_drag",0);D(this,"y_origin_drag",0);D(this,"size_first_panel",0);m.className="g-split-panel",ee(m,{display:"flex",flexDirection:o==="horizontal"?"row":"column",flexWrap:"nowrap"}),this.first_panel=document.createElement("div"),this.first_panel.style.overflow="hidden",this.first_panel.style.flexGrow="1",this.resizer=document.createElement("div"),this.resizer.style.cursor=p,this.resizer.style.backgroundColor="gray",o==="horizontal"?(this.first_panel.style.width=`${a}px`,this.resizer.style.width="4px"):(this.first_panel.style.height=`${a}px`,this.resizer.style.height="4px"),this.second_panel=document.createElement("div"),this.second_panel.style.overflow="hidden",this.second_panel.style.flexGrow="1",m.appendChild(this.first_panel),m.appendChild(this.resizer),m.appendChild(this.second_panel),this.size_first_panel=a;const g=j=>{if(j.preventDefault(),o==="horizontal"){const B=j.clientX-this.x_origin_drag,N=this.size_first_panel+B;this.first_panel.style.width=`${N}px`;const te=this.htmlElement.getBoundingClientRect().width-N-4;this.second_panel.style.width=`${te}px`}else{const B=j.clientY-this.y_origin_drag,N=this.size_first_panel+B;this.first_panel.style.height=`${N}px`;const te=this.htmlElement.getBoundingClientRect().height-N-4;this.second_panel.style.height=`${te}px`}},k=()=>{this.first_panel.style.cursor="",this.second_panel.style.cursor="",m.style.cursor="",document.body.style.cursor="",this.first_panel.style.userSelect="",this.first_panel.style.pointerEvents="",this.second_panel.style.userSelect="",this.second_panel.style.pointerEvents="",document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",k)},E=j=>{this.x_origin_drag=j.clientX,this.y_origin_drag=j.clientY,this.size_first_panel=o==="horizontal"?this.first_panel.getBoundingClientRect().width:this.first_panel.getBoundingClientRect().height,this.first_panel.style.cursor=p,this.second_panel.style.cursor=p,m.style.cursor=p,document.body.style.cursor=p,this.first_panel.style.userSelect="none",this.first_panel.style.pointerEvents="none",this.second_panel.style.userSelect="none",this.second_panel.style.pointerEvents="none",document.addEventListener("pointermove",g),document.addEventListener("pointerup",k)};this.resizer.addEventListener("pointerdown",E)}setChildren(o,a){hr(o),this.first_panel.innerHTML="",this.first_panel.appendChild(o.htmlElement),hr(a),this.second_panel.innerHTML="",this.second_panel.appendChild(a.htmlElement)}is_panel_visible(o){return o===1?this.first_panel.style.display!=="none":o===2?this.second_panel.style.display!=="none":!1}hide_panel(o){o===1&&(this.first_panel.style.display="none",this.resizer.style.display="none"),o===2&&(this.second_panel.style.display="none",this.resizer.style.display="none")}show_panel(o){o===1&&(this.first_panel.style.display="block",this.second_panel.style.display!=="none"&&(this.resizer.style.display="block")),o===2&&(this.second_panel.style.display="block",this.first_panel.style.display!=="none"&&(this.resizer.style.display="block"))}}class Fa extends be{constructor(){const i=document.createElement("table");super(i),i.className="g-table",i.createTBody()}add(i,o){const a=document.createElement("tr"),l=document.createElement("td");l.innerText=i,a.appendChild(l);const p=document.createElement("td");p.appendChild(o.htmlElement),a.appendChild(p),this.htmlElement.tBodies[0].appendChild(a)}}var J;(function(d){d.assertEqual=l=>l;function i(l){}d.assertIs=i;function o(l){throw new Error}d.assertNever=o,d.arrayToEnum=l=>{const p={};for(const m of l)p[m]=m;return p},d.getValidEnumValues=l=>{const p=d.objectKeys(l).filter(g=>typeof l[l[g]]!="number"),m={};for(const g of p)m[g]=l[g];return d.objectValues(m)},d.objectValues=l=>d.objectKeys(l).map(function(p){return l[p]}),d.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const p=[];for(const m in l)Object.prototype.hasOwnProperty.call(l,m)&&p.push(m);return p},d.find=(l,p)=>{for(const m of l)if(p(m))return m},d.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&isFinite(l)&&Math.floor(l)===l;function a(l,p=" | "){return l.map(m=>typeof m=="string"?`'${m}'`:m).join(p)}d.joinValues=a,d.jsonStringifyReplacer=(l,p)=>typeof p=="bigint"?p.toString():p})(J||(J={}));var pi;(function(d){d.mergeShapes=(i,o)=>({...i,...o})})(pi||(pi={}));const I=J.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ht=d=>{switch(typeof d){case"undefined":return I.undefined;case"string":return I.string;case"number":return isNaN(d)?I.nan:I.number;case"boolean":return I.boolean;case"function":return I.function;case"bigint":return I.bigint;case"symbol":return I.symbol;case"object":return Array.isArray(d)?I.array:d===null?I.null:d.then&&typeof d.then=="function"&&d.catch&&typeof d.catch=="function"?I.promise:typeof Map<"u"&&d instanceof Map?I.map:typeof Set<"u"&&d instanceof Set?I.set:typeof Date<"u"&&d instanceof Date?I.date:I.object;default:return I.unknown}},T=J.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ua=d=>JSON.stringify(d,null,2).replace(/"([^"]+)":/g,"$1:");class Ve extends Error{constructor(i){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const o=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,o):this.__proto__=o,this.name="ZodError",this.issues=i}get errors(){return this.issues}format(i){const o=i||function(p){return p.message},a={_errors:[]},l=p=>{for(const m of p.issues)if(m.code==="invalid_union")m.unionErrors.map(l);else if(m.code==="invalid_return_type")l(m.returnTypeError);else if(m.code==="invalid_arguments")l(m.argumentsError);else if(m.path.length===0)a._errors.push(o(m));else{let g=a,k=0;for(;k<m.path.length;){const E=m.path[k];k===m.path.length-1?(g[E]=g[E]||{_errors:[]},g[E]._errors.push(o(m))):g[E]=g[E]||{_errors:[]},g=g[E],k++}}};return l(this),a}toString(){return this.message}get message(){return JSON.stringify(this.issues,J.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(i=o=>o.message){const o={},a=[];for(const l of this.issues)l.path.length>0?(o[l.path[0]]=o[l.path[0]]||[],o[l.path[0]].push(i(l))):a.push(i(l));return{formErrors:a,fieldErrors:o}}get formErrors(){return this.flatten()}}Ve.create=d=>new Ve(d);const _n=(d,i)=>{let o;switch(d.code){case T.invalid_type:d.received===I.undefined?o="Required":o=`Expected ${d.expected}, received ${d.received}`;break;case T.invalid_literal:o=`Invalid literal value, expected ${JSON.stringify(d.expected,J.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:o=`Unrecognized key(s) in object: ${J.joinValues(d.keys,", ")}`;break;case T.invalid_union:o="Invalid input";break;case T.invalid_union_discriminator:o=`Invalid discriminator value. Expected ${J.joinValues(d.options)}`;break;case T.invalid_enum_value:o=`Invalid enum value. Expected ${J.joinValues(d.options)}, received '${d.received}'`;break;case T.invalid_arguments:o="Invalid function arguments";break;case T.invalid_return_type:o="Invalid function return type";break;case T.invalid_date:o="Invalid date";break;case T.invalid_string:typeof d.validation=="object"?"includes"in d.validation?(o=`Invalid input: must include "${d.validation.includes}"`,typeof d.validation.position=="number"&&(o=`${o} at one or more positions greater than or equal to ${d.validation.position}`)):"startsWith"in d.validation?o=`Invalid input: must start with "${d.validation.startsWith}"`:"endsWith"in d.validation?o=`Invalid input: must end with "${d.validation.endsWith}"`:J.assertNever(d.validation):d.validation!=="regex"?o=`Invalid ${d.validation}`:o="Invalid";break;case T.too_small:d.type==="array"?o=`Array must contain ${d.exact?"exactly":d.inclusive?"at least":"more than"} ${d.minimum} element(s)`:d.type==="string"?o=`String must contain ${d.exact?"exactly":d.inclusive?"at least":"over"} ${d.minimum} character(s)`:d.type==="number"?o=`Number must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${d.minimum}`:d.type==="date"?o=`Date must be ${d.exact?"exactly equal to ":d.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(d.minimum))}`:o="Invalid input";break;case T.too_big:d.type==="array"?o=`Array must contain ${d.exact?"exactly":d.inclusive?"at most":"less than"} ${d.maximum} element(s)`:d.type==="string"?o=`String must contain ${d.exact?"exactly":d.inclusive?"at most":"under"} ${d.maximum} character(s)`:d.type==="number"?o=`Number must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="bigint"?o=`BigInt must be ${d.exact?"exactly":d.inclusive?"less than or equal to":"less than"} ${d.maximum}`:d.type==="date"?o=`Date must be ${d.exact?"exactly":d.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(d.maximum))}`:o="Invalid input";break;case T.custom:o="Invalid input";break;case T.invalid_intersection_types:o="Intersection results could not be merged";break;case T.not_multiple_of:o=`Number must be a multiple of ${d.multipleOf}`;break;case T.not_finite:o="Number must be finite";break;default:o=i.defaultError,J.assertNever(d)}return{message:o}};let Ao=_n;function Ga(d){Ao=d}function gr(){return Ao}const mr=d=>{const{data:i,path:o,errorMaps:a,issueData:l}=d,p=[...o,...l.path||[]],m={...l,path:p};let g="";const k=a.filter(E=>!!E).slice().reverse();for(const E of k)g=E(m,{data:i,defaultError:g}).message;return{...l,path:p,message:l.message||g}},Ya=[];function A(d,i){const o=mr({issueData:i,data:d.data,path:d.path,errorMaps:[d.common.contextualErrorMap,d.schemaErrorMap,gr(),_n].filter(a=>!!a)});d.common.issues.push(o)}class je{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(i,o){const a=[];for(const l of o){if(l.status==="aborted")return W;l.status==="dirty"&&i.dirty(),a.push(l.value)}return{status:i.value,value:a}}static async mergeObjectAsync(i,o){const a=[];for(const l of o)a.push({key:await l.key,value:await l.value});return je.mergeObjectSync(i,a)}static mergeObjectSync(i,o){const a={};for(const l of o){const{key:p,value:m}=l;if(p.status==="aborted"||m.status==="aborted")return W;p.status==="dirty"&&i.dirty(),m.status==="dirty"&&i.dirty(),(typeof m.value<"u"||l.alwaysSet)&&(a[p.value]=m.value)}return{status:i.value,value:a}}}const W=Object.freeze({status:"aborted"}),zo=d=>({status:"dirty",value:d}),Ie=d=>({status:"valid",value:d}),fi=d=>d.status==="aborted",hi=d=>d.status==="dirty",vr=d=>d.status==="valid",yr=d=>typeof Promise<"u"&&d instanceof Promise;var L;(function(d){d.errToObj=i=>typeof i=="string"?{message:i}:i||{},d.toString=i=>typeof i=="string"?i:i==null?void 0:i.message})(L||(L={}));class qe{constructor(i,o,a,l){this._cachedPath=[],this.parent=i,this.data=o,this._path=a,this._key=l}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Po=(d,i)=>{if(vr(i))return{success:!0,data:i.value};if(!d.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const o=new Ve(d.common.issues);return this._error=o,this._error}}};function G(d){if(!d)return{};const{errorMap:i,invalid_type_error:o,required_error:a,description:l}=d;if(i&&(o||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return i?{errorMap:i,description:l}:{errorMap:(m,g)=>m.code!=="invalid_type"?{message:g.defaultError}:typeof g.data>"u"?{message:a??g.defaultError}:{message:o??g.defaultError},description:l}}class X{constructor(i){this.spa=this.safeParseAsync,this._def=i,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(i){return ht(i.data)}_getOrReturnCtx(i,o){return o||{common:i.parent.common,data:i.data,parsedType:ht(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}_processInputParams(i){return{status:new je,ctx:{common:i.parent.common,data:i.data,parsedType:ht(i.data),schemaErrorMap:this._def.errorMap,path:i.path,parent:i.parent}}}_parseSync(i){const o=this._parse(i);if(yr(o))throw new Error("Synchronous parse encountered promise.");return o}_parseAsync(i){const o=this._parse(i);return Promise.resolve(o)}parse(i,o){const a=this.safeParse(i,o);if(a.success)return a.data;throw a.error}safeParse(i,o){var a;const l={common:{issues:[],async:(a=o==null?void 0:o.async)!==null&&a!==void 0?a:!1,contextualErrorMap:o==null?void 0:o.errorMap},path:(o==null?void 0:o.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:ht(i)},p=this._parseSync({data:i,path:l.path,parent:l});return Po(l,p)}async parseAsync(i,o){const a=await this.safeParseAsync(i,o);if(a.success)return a.data;throw a.error}async safeParseAsync(i,o){const a={common:{issues:[],contextualErrorMap:o==null?void 0:o.errorMap,async:!0},path:(o==null?void 0:o.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:i,parsedType:ht(i)},l=this._parse({data:i,path:a.path,parent:a}),p=await(yr(l)?l:Promise.resolve(l));return Po(a,p)}refine(i,o){const a=l=>typeof o=="string"||typeof o>"u"?{message:o}:typeof o=="function"?o(l):o;return this._refinement((l,p)=>{const m=i(l),g=()=>p.addIssue({code:T.custom,...a(l)});return typeof Promise<"u"&&m instanceof Promise?m.then(k=>k?!0:(g(),!1)):m?!0:(g(),!1)})}refinement(i,o){return this._refinement((a,l)=>i(a)?!0:(l.addIssue(typeof o=="function"?o(a,l):o),!1))}_refinement(i){return new We({schema:this,typeName:Z.ZodEffects,effect:{type:"refinement",refinement:i}})}superRefine(i){return this._refinement(i)}optional(){return st.create(this,this._def)}nullable(){return Rt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Be.create(this,this._def)}promise(){return Ht.create(this,this._def)}or(i){return En.create([this,i],this._def)}and(i){return kn.create(this,i,this._def)}transform(i){return new We({...G(this._def),schema:this,typeName:Z.ZodEffects,effect:{type:"transform",transform:i}})}default(i){const o=typeof i=="function"?i:()=>i;return new jn({...G(this._def),innerType:this,defaultValue:o,typeName:Z.ZodDefault})}brand(){return new Do({typeName:Z.ZodBranded,type:this,...G(this._def)})}catch(i){const o=typeof i=="function"?i:()=>i;return new xr({...G(this._def),innerType:this,catchValue:o,typeName:Z.ZodCatch})}describe(i){const o=this.constructor;return new o({...this._def,description:i})}pipe(i){return Cn.create(this,i)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qa=/^c[^\s-]{8,}$/i,Xa=/^[a-z][a-z0-9]*$/,Ha=/[0-9A-HJKMNP-TV-Z]{26}/,Ka=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Ja=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,Qa=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,el=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,tl=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,nl=d=>d.precision?d.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${d.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${d.precision}}Z$`):d.precision===0?d.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):d.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function rl(d,i){return!!((i==="v4"||!i)&&el.test(d)||(i==="v6"||!i)&&tl.test(d))}class Ze extends X{constructor(){super(...arguments),this._regex=(i,o,a)=>this.refinement(l=>i.test(l),{validation:o,code:T.invalid_string,...L.errToObj(a)}),this.nonempty=i=>this.min(1,L.errToObj(i)),this.trim=()=>new Ze({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Ze({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Ze({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(i){if(this._def.coerce&&(i.data=String(i.data)),this._getType(i)!==I.string){const p=this._getOrReturnCtx(i);return A(p,{code:T.invalid_type,expected:I.string,received:p.parsedType}),W}const a=new je;let l;for(const p of this._def.checks)if(p.kind==="min")i.data.length<p.value&&(l=this._getOrReturnCtx(i,l),A(l,{code:T.too_small,minimum:p.value,type:"string",inclusive:!0,exact:!1,message:p.message}),a.dirty());else if(p.kind==="max")i.data.length>p.value&&(l=this._getOrReturnCtx(i,l),A(l,{code:T.too_big,maximum:p.value,type:"string",inclusive:!0,exact:!1,message:p.message}),a.dirty());else if(p.kind==="length"){const m=i.data.length>p.value,g=i.data.length<p.value;(m||g)&&(l=this._getOrReturnCtx(i,l),m?A(l,{code:T.too_big,maximum:p.value,type:"string",inclusive:!0,exact:!0,message:p.message}):g&&A(l,{code:T.too_small,minimum:p.value,type:"string",inclusive:!0,exact:!0,message:p.message}),a.dirty())}else if(p.kind==="email")Ja.test(i.data)||(l=this._getOrReturnCtx(i,l),A(l,{validation:"email",code:T.invalid_string,message:p.message}),a.dirty());else if(p.kind==="emoji")Qa.test(i.data)||(l=this._getOrReturnCtx(i,l),A(l,{validation:"emoji",code:T.invalid_string,message:p.message}),a.dirty());else if(p.kind==="uuid")Ka.test(i.data)||(l=this._getOrReturnCtx(i,l),A(l,{validation:"uuid",code:T.invalid_string,message:p.message}),a.dirty());else if(p.kind==="cuid")qa.test(i.data)||(l=this._getOrReturnCtx(i,l),A(l,{validation:"cuid",code:T.invalid_string,message:p.message}),a.dirty());else if(p.kind==="cuid2")Xa.test(i.data)||(l=this._getOrReturnCtx(i,l),A(l,{validation:"cuid2",code:T.invalid_string,message:p.message}),a.dirty());else if(p.kind==="ulid")Ha.test(i.data)||(l=this._getOrReturnCtx(i,l),A(l,{validation:"ulid",code:T.invalid_string,message:p.message}),a.dirty());else if(p.kind==="url")try{new URL(i.data)}catch{l=this._getOrReturnCtx(i,l),A(l,{validation:"url",code:T.invalid_string,message:p.message}),a.dirty()}else p.kind==="regex"?(p.regex.lastIndex=0,p.regex.test(i.data)||(l=this._getOrReturnCtx(i,l),A(l,{validation:"regex",code:T.invalid_string,message:p.message}),a.dirty())):p.kind==="trim"?i.data=i.data.trim():p.kind==="includes"?i.data.includes(p.value,p.position)||(l=this._getOrReturnCtx(i,l),A(l,{code:T.invalid_string,validation:{includes:p.value,position:p.position},message:p.message}),a.dirty()):p.kind==="toLowerCase"?i.data=i.data.toLowerCase():p.kind==="toUpperCase"?i.data=i.data.toUpperCase():p.kind==="startsWith"?i.data.startsWith(p.value)||(l=this._getOrReturnCtx(i,l),A(l,{code:T.invalid_string,validation:{startsWith:p.value},message:p.message}),a.dirty()):p.kind==="endsWith"?i.data.endsWith(p.value)||(l=this._getOrReturnCtx(i,l),A(l,{code:T.invalid_string,validation:{endsWith:p.value},message:p.message}),a.dirty()):p.kind==="datetime"?nl(p).test(i.data)||(l=this._getOrReturnCtx(i,l),A(l,{code:T.invalid_string,validation:"datetime",message:p.message}),a.dirty()):p.kind==="ip"?rl(i.data,p.version)||(l=this._getOrReturnCtx(i,l),A(l,{validation:"ip",code:T.invalid_string,message:p.message}),a.dirty()):J.assertNever(p);return{status:a.value,value:i.data}}_addCheck(i){return new Ze({...this._def,checks:[...this._def.checks,i]})}email(i){return this._addCheck({kind:"email",...L.errToObj(i)})}url(i){return this._addCheck({kind:"url",...L.errToObj(i)})}emoji(i){return this._addCheck({kind:"emoji",...L.errToObj(i)})}uuid(i){return this._addCheck({kind:"uuid",...L.errToObj(i)})}cuid(i){return this._addCheck({kind:"cuid",...L.errToObj(i)})}cuid2(i){return this._addCheck({kind:"cuid2",...L.errToObj(i)})}ulid(i){return this._addCheck({kind:"ulid",...L.errToObj(i)})}ip(i){return this._addCheck({kind:"ip",...L.errToObj(i)})}datetime(i){var o;return typeof i=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:i}):this._addCheck({kind:"datetime",precision:typeof(i==null?void 0:i.precision)>"u"?null:i==null?void 0:i.precision,offset:(o=i==null?void 0:i.offset)!==null&&o!==void 0?o:!1,...L.errToObj(i==null?void 0:i.message)})}regex(i,o){return this._addCheck({kind:"regex",regex:i,...L.errToObj(o)})}includes(i,o){return this._addCheck({kind:"includes",value:i,position:o==null?void 0:o.position,...L.errToObj(o==null?void 0:o.message)})}startsWith(i,o){return this._addCheck({kind:"startsWith",value:i,...L.errToObj(o)})}endsWith(i,o){return this._addCheck({kind:"endsWith",value:i,...L.errToObj(o)})}min(i,o){return this._addCheck({kind:"min",value:i,...L.errToObj(o)})}max(i,o){return this._addCheck({kind:"max",value:i,...L.errToObj(o)})}length(i,o){return this._addCheck({kind:"length",value:i,...L.errToObj(o)})}get isDatetime(){return!!this._def.checks.find(i=>i.kind==="datetime")}get isEmail(){return!!this._def.checks.find(i=>i.kind==="email")}get isURL(){return!!this._def.checks.find(i=>i.kind==="url")}get isEmoji(){return!!this._def.checks.find(i=>i.kind==="emoji")}get isUUID(){return!!this._def.checks.find(i=>i.kind==="uuid")}get isCUID(){return!!this._def.checks.find(i=>i.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(i=>i.kind==="cuid2")}get isULID(){return!!this._def.checks.find(i=>i.kind==="ulid")}get isIP(){return!!this._def.checks.find(i=>i.kind==="ip")}get minLength(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i}get maxLength(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i}}Ze.create=d=>{var i;return new Ze({checks:[],typeName:Z.ZodString,coerce:(i=d==null?void 0:d.coerce)!==null&&i!==void 0?i:!1,...G(d)})};function il(d,i){const o=(d.toString().split(".")[1]||"").length,a=(i.toString().split(".")[1]||"").length,l=o>a?o:a,p=parseInt(d.toFixed(l).replace(".","")),m=parseInt(i.toFixed(l).replace(".",""));return p%m/Math.pow(10,l)}class gt extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(i){if(this._def.coerce&&(i.data=Number(i.data)),this._getType(i)!==I.number){const p=this._getOrReturnCtx(i);return A(p,{code:T.invalid_type,expected:I.number,received:p.parsedType}),W}let a;const l=new je;for(const p of this._def.checks)p.kind==="int"?J.isInteger(i.data)||(a=this._getOrReturnCtx(i,a),A(a,{code:T.invalid_type,expected:"integer",received:"float",message:p.message}),l.dirty()):p.kind==="min"?(p.inclusive?i.data<p.value:i.data<=p.value)&&(a=this._getOrReturnCtx(i,a),A(a,{code:T.too_small,minimum:p.value,type:"number",inclusive:p.inclusive,exact:!1,message:p.message}),l.dirty()):p.kind==="max"?(p.inclusive?i.data>p.value:i.data>=p.value)&&(a=this._getOrReturnCtx(i,a),A(a,{code:T.too_big,maximum:p.value,type:"number",inclusive:p.inclusive,exact:!1,message:p.message}),l.dirty()):p.kind==="multipleOf"?il(i.data,p.value)!==0&&(a=this._getOrReturnCtx(i,a),A(a,{code:T.not_multiple_of,multipleOf:p.value,message:p.message}),l.dirty()):p.kind==="finite"?Number.isFinite(i.data)||(a=this._getOrReturnCtx(i,a),A(a,{code:T.not_finite,message:p.message}),l.dirty()):J.assertNever(p);return{status:l.value,value:i.data}}gte(i,o){return this.setLimit("min",i,!0,L.toString(o))}gt(i,o){return this.setLimit("min",i,!1,L.toString(o))}lte(i,o){return this.setLimit("max",i,!0,L.toString(o))}lt(i,o){return this.setLimit("max",i,!1,L.toString(o))}setLimit(i,o,a,l){return new gt({...this._def,checks:[...this._def.checks,{kind:i,value:o,inclusive:a,message:L.toString(l)}]})}_addCheck(i){return new gt({...this._def,checks:[...this._def.checks,i]})}int(i){return this._addCheck({kind:"int",message:L.toString(i)})}positive(i){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L.toString(i)})}negative(i){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L.toString(i)})}multipleOf(i,o){return this._addCheck({kind:"multipleOf",value:i,message:L.toString(o)})}finite(i){return this._addCheck({kind:"finite",message:L.toString(i)})}safe(i){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:L.toString(i)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:L.toString(i)})}get minValue(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i}get maxValue(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i}get isInt(){return!!this._def.checks.find(i=>i.kind==="int"||i.kind==="multipleOf"&&J.isInteger(i.value))}get isFinite(){let i=null,o=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(o===null||a.value>o)&&(o=a.value):a.kind==="max"&&(i===null||a.value<i)&&(i=a.value)}return Number.isFinite(o)&&Number.isFinite(i)}}gt.create=d=>new gt({checks:[],typeName:Z.ZodNumber,coerce:(d==null?void 0:d.coerce)||!1,...G(d)});class mt extends X{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(i){if(this._def.coerce&&(i.data=BigInt(i.data)),this._getType(i)!==I.bigint){const p=this._getOrReturnCtx(i);return A(p,{code:T.invalid_type,expected:I.bigint,received:p.parsedType}),W}let a;const l=new je;for(const p of this._def.checks)p.kind==="min"?(p.inclusive?i.data<p.value:i.data<=p.value)&&(a=this._getOrReturnCtx(i,a),A(a,{code:T.too_small,type:"bigint",minimum:p.value,inclusive:p.inclusive,message:p.message}),l.dirty()):p.kind==="max"?(p.inclusive?i.data>p.value:i.data>=p.value)&&(a=this._getOrReturnCtx(i,a),A(a,{code:T.too_big,type:"bigint",maximum:p.value,inclusive:p.inclusive,message:p.message}),l.dirty()):p.kind==="multipleOf"?i.data%p.value!==BigInt(0)&&(a=this._getOrReturnCtx(i,a),A(a,{code:T.not_multiple_of,multipleOf:p.value,message:p.message}),l.dirty()):J.assertNever(p);return{status:l.value,value:i.data}}gte(i,o){return this.setLimit("min",i,!0,L.toString(o))}gt(i,o){return this.setLimit("min",i,!1,L.toString(o))}lte(i,o){return this.setLimit("max",i,!0,L.toString(o))}lt(i,o){return this.setLimit("max",i,!1,L.toString(o))}setLimit(i,o,a,l){return new mt({...this._def,checks:[...this._def.checks,{kind:i,value:o,inclusive:a,message:L.toString(l)}]})}_addCheck(i){return new mt({...this._def,checks:[...this._def.checks,i]})}positive(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:L.toString(i)})}negative(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:L.toString(i)})}nonpositive(i){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:L.toString(i)})}nonnegative(i){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:L.toString(i)})}multipleOf(i,o){return this._addCheck({kind:"multipleOf",value:i,message:L.toString(o)})}get minValue(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i}get maxValue(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i}}mt.create=d=>{var i;return new mt({checks:[],typeName:Z.ZodBigInt,coerce:(i=d==null?void 0:d.coerce)!==null&&i!==void 0?i:!1,...G(d)})};class bn extends X{_parse(i){if(this._def.coerce&&(i.data=!!i.data),this._getType(i)!==I.boolean){const a=this._getOrReturnCtx(i);return A(a,{code:T.invalid_type,expected:I.boolean,received:a.parsedType}),W}return Ie(i.data)}}bn.create=d=>new bn({typeName:Z.ZodBoolean,coerce:(d==null?void 0:d.coerce)||!1,...G(d)});class At extends X{_parse(i){if(this._def.coerce&&(i.data=new Date(i.data)),this._getType(i)!==I.date){const p=this._getOrReturnCtx(i);return A(p,{code:T.invalid_type,expected:I.date,received:p.parsedType}),W}if(isNaN(i.data.getTime())){const p=this._getOrReturnCtx(i);return A(p,{code:T.invalid_date}),W}const a=new je;let l;for(const p of this._def.checks)p.kind==="min"?i.data.getTime()<p.value&&(l=this._getOrReturnCtx(i,l),A(l,{code:T.too_small,message:p.message,inclusive:!0,exact:!1,minimum:p.value,type:"date"}),a.dirty()):p.kind==="max"?i.data.getTime()>p.value&&(l=this._getOrReturnCtx(i,l),A(l,{code:T.too_big,message:p.message,inclusive:!0,exact:!1,maximum:p.value,type:"date"}),a.dirty()):J.assertNever(p);return{status:a.value,value:new Date(i.data.getTime())}}_addCheck(i){return new At({...this._def,checks:[...this._def.checks,i]})}min(i,o){return this._addCheck({kind:"min",value:i.getTime(),message:L.toString(o)})}max(i,o){return this._addCheck({kind:"max",value:i.getTime(),message:L.toString(o)})}get minDate(){let i=null;for(const o of this._def.checks)o.kind==="min"&&(i===null||o.value>i)&&(i=o.value);return i!=null?new Date(i):null}get maxDate(){let i=null;for(const o of this._def.checks)o.kind==="max"&&(i===null||o.value<i)&&(i=o.value);return i!=null?new Date(i):null}}At.create=d=>new At({checks:[],coerce:(d==null?void 0:d.coerce)||!1,typeName:Z.ZodDate,...G(d)});class _r extends X{_parse(i){if(this._getType(i)!==I.symbol){const a=this._getOrReturnCtx(i);return A(a,{code:T.invalid_type,expected:I.symbol,received:a.parsedType}),W}return Ie(i.data)}}_r.create=d=>new _r({typeName:Z.ZodSymbol,...G(d)});class wn extends X{_parse(i){if(this._getType(i)!==I.undefined){const a=this._getOrReturnCtx(i);return A(a,{code:T.invalid_type,expected:I.undefined,received:a.parsedType}),W}return Ie(i.data)}}wn.create=d=>new wn({typeName:Z.ZodUndefined,...G(d)});class xn extends X{_parse(i){if(this._getType(i)!==I.null){const a=this._getOrReturnCtx(i);return A(a,{code:T.invalid_type,expected:I.null,received:a.parsedType}),W}return Ie(i.data)}}xn.create=d=>new xn({typeName:Z.ZodNull,...G(d)});class Xt extends X{constructor(){super(...arguments),this._any=!0}_parse(i){return Ie(i.data)}}Xt.create=d=>new Xt({typeName:Z.ZodAny,...G(d)});class It extends X{constructor(){super(...arguments),this._unknown=!0}_parse(i){return Ie(i.data)}}It.create=d=>new It({typeName:Z.ZodUnknown,...G(d)});class at extends X{_parse(i){const o=this._getOrReturnCtx(i);return A(o,{code:T.invalid_type,expected:I.never,received:o.parsedType}),W}}at.create=d=>new at({typeName:Z.ZodNever,...G(d)});class br extends X{_parse(i){if(this._getType(i)!==I.undefined){const a=this._getOrReturnCtx(i);return A(a,{code:T.invalid_type,expected:I.void,received:a.parsedType}),W}return Ie(i.data)}}br.create=d=>new br({typeName:Z.ZodVoid,...G(d)});class Be extends X{_parse(i){const{ctx:o,status:a}=this._processInputParams(i),l=this._def;if(o.parsedType!==I.array)return A(o,{code:T.invalid_type,expected:I.array,received:o.parsedType}),W;if(l.exactLength!==null){const m=o.data.length>l.exactLength.value,g=o.data.length<l.exactLength.value;(m||g)&&(A(o,{code:m?T.too_big:T.too_small,minimum:g?l.exactLength.value:void 0,maximum:m?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),a.dirty())}if(l.minLength!==null&&o.data.length<l.minLength.value&&(A(o,{code:T.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),a.dirty()),l.maxLength!==null&&o.data.length>l.maxLength.value&&(A(o,{code:T.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),a.dirty()),o.common.async)return Promise.all([...o.data].map((m,g)=>l.type._parseAsync(new qe(o,m,o.path,g)))).then(m=>je.mergeArray(a,m));const p=[...o.data].map((m,g)=>l.type._parseSync(new qe(o,m,o.path,g)));return je.mergeArray(a,p)}get element(){return this._def.type}min(i,o){return new Be({...this._def,minLength:{value:i,message:L.toString(o)}})}max(i,o){return new Be({...this._def,maxLength:{value:i,message:L.toString(o)}})}length(i,o){return new Be({...this._def,exactLength:{value:i,message:L.toString(o)}})}nonempty(i){return this.min(1,i)}}Be.create=(d,i)=>new Be({type:d,minLength:null,maxLength:null,exactLength:null,typeName:Z.ZodArray,...G(i)});function Ft(d){if(d instanceof he){const i={};for(const o in d.shape){const a=d.shape[o];i[o]=st.create(Ft(a))}return new he({...d._def,shape:()=>i})}else return d instanceof Be?new Be({...d._def,type:Ft(d.element)}):d instanceof st?st.create(Ft(d.unwrap())):d instanceof Rt?Rt.create(Ft(d.unwrap())):d instanceof Xe?Xe.create(d.items.map(i=>Ft(i))):d}class he extends X{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const i=this._def.shape(),o=J.objectKeys(i);return this._cached={shape:i,keys:o}}_parse(i){if(this._getType(i)!==I.object){const E=this._getOrReturnCtx(i);return A(E,{code:T.invalid_type,expected:I.object,received:E.parsedType}),W}const{status:a,ctx:l}=this._processInputParams(i),{shape:p,keys:m}=this._getCached(),g=[];if(!(this._def.catchall instanceof at&&this._def.unknownKeys==="strip"))for(const E in l.data)m.includes(E)||g.push(E);const k=[];for(const E of m){const j=p[E],B=l.data[E];k.push({key:{status:"valid",value:E},value:j._parse(new qe(l,B,l.path,E)),alwaysSet:E in l.data})}if(this._def.catchall instanceof at){const E=this._def.unknownKeys;if(E==="passthrough")for(const j of g)k.push({key:{status:"valid",value:j},value:{status:"valid",value:l.data[j]}});else if(E==="strict")g.length>0&&(A(l,{code:T.unrecognized_keys,keys:g}),a.dirty());else if(E!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const E=this._def.catchall;for(const j of g){const B=l.data[j];k.push({key:{status:"valid",value:j},value:E._parse(new qe(l,B,l.path,j)),alwaysSet:j in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const E=[];for(const j of k){const B=await j.key;E.push({key:B,value:await j.value,alwaysSet:j.alwaysSet})}return E}).then(E=>je.mergeObjectSync(a,E)):je.mergeObjectSync(a,k)}get shape(){return this._def.shape()}strict(i){return L.errToObj,new he({...this._def,unknownKeys:"strict",...i!==void 0?{errorMap:(o,a)=>{var l,p,m,g;const k=(m=(p=(l=this._def).errorMap)===null||p===void 0?void 0:p.call(l,o,a).message)!==null&&m!==void 0?m:a.defaultError;return o.code==="unrecognized_keys"?{message:(g=L.errToObj(i).message)!==null&&g!==void 0?g:k}:{message:k}}}:{}})}strip(){return new he({...this._def,unknownKeys:"strip"})}passthrough(){return new he({...this._def,unknownKeys:"passthrough"})}extend(i){return new he({...this._def,shape:()=>({...this._def.shape(),...i})})}merge(i){return new he({unknownKeys:i._def.unknownKeys,catchall:i._def.catchall,shape:()=>({...this._def.shape(),...i._def.shape()}),typeName:Z.ZodObject})}setKey(i,o){return this.augment({[i]:o})}catchall(i){return new he({...this._def,catchall:i})}pick(i){const o={};return J.objectKeys(i).forEach(a=>{i[a]&&this.shape[a]&&(o[a]=this.shape[a])}),new he({...this._def,shape:()=>o})}omit(i){const o={};return J.objectKeys(this.shape).forEach(a=>{i[a]||(o[a]=this.shape[a])}),new he({...this._def,shape:()=>o})}deepPartial(){return Ft(this)}partial(i){const o={};return J.objectKeys(this.shape).forEach(a=>{const l=this.shape[a];i&&!i[a]?o[a]=l:o[a]=l.optional()}),new he({...this._def,shape:()=>o})}required(i){const o={};return J.objectKeys(this.shape).forEach(a=>{if(i&&!i[a])o[a]=this.shape[a];else{let p=this.shape[a];for(;p instanceof st;)p=p._def.innerType;o[a]=p}}),new he({...this._def,shape:()=>o})}keyof(){return Ro(J.objectKeys(this.shape))}}he.create=(d,i)=>new he({shape:()=>d,unknownKeys:"strip",catchall:at.create(),typeName:Z.ZodObject,...G(i)});he.strictCreate=(d,i)=>new he({shape:()=>d,unknownKeys:"strict",catchall:at.create(),typeName:Z.ZodObject,...G(i)});he.lazycreate=(d,i)=>new he({shape:d,unknownKeys:"strip",catchall:at.create(),typeName:Z.ZodObject,...G(i)});class En extends X{_parse(i){const{ctx:o}=this._processInputParams(i),a=this._def.options;function l(p){for(const g of p)if(g.result.status==="valid")return g.result;for(const g of p)if(g.result.status==="dirty")return o.common.issues.push(...g.ctx.common.issues),g.result;const m=p.map(g=>new Ve(g.ctx.common.issues));return A(o,{code:T.invalid_union,unionErrors:m}),W}if(o.common.async)return Promise.all(a.map(async p=>{const m={...o,common:{...o.common,issues:[]},parent:null};return{result:await p._parseAsync({data:o.data,path:o.path,parent:m}),ctx:m}})).then(l);{let p;const m=[];for(const k of a){const E={...o,common:{...o.common,issues:[]},parent:null},j=k._parseSync({data:o.data,path:o.path,parent:E});if(j.status==="valid")return j;j.status==="dirty"&&!p&&(p={result:j,ctx:E}),E.common.issues.length&&m.push(E.common.issues)}if(p)return o.common.issues.push(...p.ctx.common.issues),p.result;const g=m.map(k=>new Ve(k));return A(o,{code:T.invalid_union,unionErrors:g}),W}}get options(){return this._def.options}}En.create=(d,i)=>new En({options:d,typeName:Z.ZodUnion,...G(i)});const pr=d=>d instanceof Sn?pr(d.schema):d instanceof We?pr(d.innerType()):d instanceof Pn?[d.value]:d instanceof vt?d.options:d instanceof Tn?Object.keys(d.enum):d instanceof jn?pr(d._def.innerType):d instanceof wn?[void 0]:d instanceof xn?[null]:null;class Or extends X{_parse(i){const{ctx:o}=this._processInputParams(i);if(o.parsedType!==I.object)return A(o,{code:T.invalid_type,expected:I.object,received:o.parsedType}),W;const a=this.discriminator,l=o.data[a],p=this.optionsMap.get(l);return p?o.common.async?p._parseAsync({data:o.data,path:o.path,parent:o}):p._parseSync({data:o.data,path:o.path,parent:o}):(A(o,{code:T.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),W)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(i,o,a){const l=new Map;for(const p of o){const m=pr(p.shape[i]);if(!m)throw new Error(`A discriminator value for key \`${i}\` could not be extracted from all schema options`);for(const g of m){if(l.has(g))throw new Error(`Discriminator property ${String(i)} has duplicate value ${String(g)}`);l.set(g,p)}}return new Or({typeName:Z.ZodDiscriminatedUnion,discriminator:i,options:o,optionsMap:l,...G(a)})}}function gi(d,i){const o=ht(d),a=ht(i);if(d===i)return{valid:!0,data:d};if(o===I.object&&a===I.object){const l=J.objectKeys(i),p=J.objectKeys(d).filter(g=>l.indexOf(g)!==-1),m={...d,...i};for(const g of p){const k=gi(d[g],i[g]);if(!k.valid)return{valid:!1};m[g]=k.data}return{valid:!0,data:m}}else if(o===I.array&&a===I.array){if(d.length!==i.length)return{valid:!1};const l=[];for(let p=0;p<d.length;p++){const m=d[p],g=i[p],k=gi(m,g);if(!k.valid)return{valid:!1};l.push(k.data)}return{valid:!0,data:l}}else return o===I.date&&a===I.date&&+d==+i?{valid:!0,data:d}:{valid:!1}}class kn extends X{_parse(i){const{status:o,ctx:a}=this._processInputParams(i),l=(p,m)=>{if(fi(p)||fi(m))return W;const g=gi(p.value,m.value);return g.valid?((hi(p)||hi(m))&&o.dirty(),{status:o.value,value:g.data}):(A(a,{code:T.invalid_intersection_types}),W)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([p,m])=>l(p,m)):l(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}kn.create=(d,i,o)=>new kn({left:d,right:i,typeName:Z.ZodIntersection,...G(o)});class Xe extends X{_parse(i){const{status:o,ctx:a}=this._processInputParams(i);if(a.parsedType!==I.array)return A(a,{code:T.invalid_type,expected:I.array,received:a.parsedType}),W;if(a.data.length<this._def.items.length)return A(a,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),W;!this._def.rest&&a.data.length>this._def.items.length&&(A(a,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o.dirty());const p=[...a.data].map((m,g)=>{const k=this._def.items[g]||this._def.rest;return k?k._parse(new qe(a,m,a.path,g)):null}).filter(m=>!!m);return a.common.async?Promise.all(p).then(m=>je.mergeArray(o,m)):je.mergeArray(o,p)}get items(){return this._def.items}rest(i){return new Xe({...this._def,rest:i})}}Xe.create=(d,i)=>{if(!Array.isArray(d))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xe({items:d,typeName:Z.ZodTuple,rest:null,...G(i)})};class On extends X{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(i){const{status:o,ctx:a}=this._processInputParams(i);if(a.parsedType!==I.object)return A(a,{code:T.invalid_type,expected:I.object,received:a.parsedType}),W;const l=[],p=this._def.keyType,m=this._def.valueType;for(const g in a.data)l.push({key:p._parse(new qe(a,g,a.path,g)),value:m._parse(new qe(a,a.data[g],a.path,g))});return a.common.async?je.mergeObjectAsync(o,l):je.mergeObjectSync(o,l)}get element(){return this._def.valueType}static create(i,o,a){return o instanceof X?new On({keyType:i,valueType:o,typeName:Z.ZodRecord,...G(a)}):new On({keyType:Ze.create(),valueType:i,typeName:Z.ZodRecord,...G(o)})}}class wr extends X{_parse(i){const{status:o,ctx:a}=this._processInputParams(i);if(a.parsedType!==I.map)return A(a,{code:T.invalid_type,expected:I.map,received:a.parsedType}),W;const l=this._def.keyType,p=this._def.valueType,m=[...a.data.entries()].map(([g,k],E)=>({key:l._parse(new qe(a,g,a.path,[E,"key"])),value:p._parse(new qe(a,k,a.path,[E,"value"]))}));if(a.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const k of m){const E=await k.key,j=await k.value;if(E.status==="aborted"||j.status==="aborted")return W;(E.status==="dirty"||j.status==="dirty")&&o.dirty(),g.set(E.value,j.value)}return{status:o.value,value:g}})}else{const g=new Map;for(const k of m){const E=k.key,j=k.value;if(E.status==="aborted"||j.status==="aborted")return W;(E.status==="dirty"||j.status==="dirty")&&o.dirty(),g.set(E.value,j.value)}return{status:o.value,value:g}}}}wr.create=(d,i,o)=>new wr({valueType:i,keyType:d,typeName:Z.ZodMap,...G(o)});class zt extends X{_parse(i){const{status:o,ctx:a}=this._processInputParams(i);if(a.parsedType!==I.set)return A(a,{code:T.invalid_type,expected:I.set,received:a.parsedType}),W;const l=this._def;l.minSize!==null&&a.data.size<l.minSize.value&&(A(a,{code:T.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),o.dirty()),l.maxSize!==null&&a.data.size>l.maxSize.value&&(A(a,{code:T.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),o.dirty());const p=this._def.valueType;function m(k){const E=new Set;for(const j of k){if(j.status==="aborted")return W;j.status==="dirty"&&o.dirty(),E.add(j.value)}return{status:o.value,value:E}}const g=[...a.data.values()].map((k,E)=>p._parse(new qe(a,k,a.path,E)));return a.common.async?Promise.all(g).then(k=>m(k)):m(g)}min(i,o){return new zt({...this._def,minSize:{value:i,message:L.toString(o)}})}max(i,o){return new zt({...this._def,maxSize:{value:i,message:L.toString(o)}})}size(i,o){return this.min(i,o).max(i,o)}nonempty(i){return this.min(1,i)}}zt.create=(d,i)=>new zt({valueType:d,minSize:null,maxSize:null,typeName:Z.ZodSet,...G(i)});class Gt extends X{constructor(){super(...arguments),this.validate=this.implement}_parse(i){const{ctx:o}=this._processInputParams(i);if(o.parsedType!==I.function)return A(o,{code:T.invalid_type,expected:I.function,received:o.parsedType}),W;function a(g,k){return mr({data:g,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,gr(),_n].filter(E=>!!E),issueData:{code:T.invalid_arguments,argumentsError:k}})}function l(g,k){return mr({data:g,path:o.path,errorMaps:[o.common.contextualErrorMap,o.schemaErrorMap,gr(),_n].filter(E=>!!E),issueData:{code:T.invalid_return_type,returnTypeError:k}})}const p={errorMap:o.common.contextualErrorMap},m=o.data;return this._def.returns instanceof Ht?Ie(async(...g)=>{const k=new Ve([]),E=await this._def.args.parseAsync(g,p).catch(N=>{throw k.addIssue(a(g,N)),k}),j=await m(...E);return await this._def.returns._def.type.parseAsync(j,p).catch(N=>{throw k.addIssue(l(j,N)),k})}):Ie((...g)=>{const k=this._def.args.safeParse(g,p);if(!k.success)throw new Ve([a(g,k.error)]);const E=m(...k.data),j=this._def.returns.safeParse(E,p);if(!j.success)throw new Ve([l(E,j.error)]);return j.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...i){return new Gt({...this._def,args:Xe.create(i).rest(It.create())})}returns(i){return new Gt({...this._def,returns:i})}implement(i){return this.parse(i)}strictImplement(i){return this.parse(i)}static create(i,o,a){return new Gt({args:i||Xe.create([]).rest(It.create()),returns:o||It.create(),typeName:Z.ZodFunction,...G(a)})}}class Sn extends X{get schema(){return this._def.getter()}_parse(i){const{ctx:o}=this._processInputParams(i);return this._def.getter()._parse({data:o.data,path:o.path,parent:o})}}Sn.create=(d,i)=>new Sn({getter:d,typeName:Z.ZodLazy,...G(i)});class Pn extends X{_parse(i){if(i.data!==this._def.value){const o=this._getOrReturnCtx(i);return A(o,{received:o.data,code:T.invalid_literal,expected:this._def.value}),W}return{status:"valid",value:i.data}}get value(){return this._def.value}}Pn.create=(d,i)=>new Pn({value:d,typeName:Z.ZodLiteral,...G(i)});function Ro(d,i){return new vt({values:d,typeName:Z.ZodEnum,...G(i)})}class vt extends X{_parse(i){if(typeof i.data!="string"){const o=this._getOrReturnCtx(i),a=this._def.values;return A(o,{expected:J.joinValues(a),received:o.parsedType,code:T.invalid_type}),W}if(this._def.values.indexOf(i.data)===-1){const o=this._getOrReturnCtx(i),a=this._def.values;return A(o,{received:o.data,code:T.invalid_enum_value,options:a}),W}return Ie(i.data)}get options(){return this._def.values}get enum(){const i={};for(const o of this._def.values)i[o]=o;return i}get Values(){const i={};for(const o of this._def.values)i[o]=o;return i}get Enum(){const i={};for(const o of this._def.values)i[o]=o;return i}extract(i){return vt.create(i)}exclude(i){return vt.create(this.options.filter(o=>!i.includes(o)))}}vt.create=Ro;class Tn extends X{_parse(i){const o=J.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(i);if(a.parsedType!==I.string&&a.parsedType!==I.number){const l=J.objectValues(o);return A(a,{expected:J.joinValues(l),received:a.parsedType,code:T.invalid_type}),W}if(o.indexOf(i.data)===-1){const l=J.objectValues(o);return A(a,{received:a.data,code:T.invalid_enum_value,options:l}),W}return Ie(i.data)}get enum(){return this._def.values}}Tn.create=(d,i)=>new Tn({values:d,typeName:Z.ZodNativeEnum,...G(i)});class Ht extends X{unwrap(){return this._def.type}_parse(i){const{ctx:o}=this._processInputParams(i);if(o.parsedType!==I.promise&&o.common.async===!1)return A(o,{code:T.invalid_type,expected:I.promise,received:o.parsedType}),W;const a=o.parsedType===I.promise?o.data:Promise.resolve(o.data);return Ie(a.then(l=>this._def.type.parseAsync(l,{path:o.path,errorMap:o.common.contextualErrorMap})))}}Ht.create=(d,i)=>new Ht({type:d,typeName:Z.ZodPromise,...G(i)});class We extends X{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(i){const{status:o,ctx:a}=this._processInputParams(i),l=this._def.effect||null;if(l.type==="preprocess"){const m=l.transform(a.data);return a.common.async?Promise.resolve(m).then(g=>this._def.schema._parseAsync({data:g,path:a.path,parent:a})):this._def.schema._parseSync({data:m,path:a.path,parent:a})}const p={addIssue:m=>{A(a,m),m.fatal?o.abort():o.dirty()},get path(){return a.path}};if(p.addIssue=p.addIssue.bind(p),l.type==="refinement"){const m=g=>{const k=l.refinement(g,p);if(a.common.async)return Promise.resolve(k);if(k instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(a.common.async===!1){const g=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return g.status==="aborted"?W:(g.status==="dirty"&&o.dirty(),m(g.value),{status:o.value,value:g.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(g=>g.status==="aborted"?W:(g.status==="dirty"&&o.dirty(),m(g.value).then(()=>({status:o.value,value:g.value}))))}if(l.type==="transform")if(a.common.async===!1){const m=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!vr(m))return m;const g=l.transform(m.value,p);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:o.value,value:g}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(m=>vr(m)?Promise.resolve(l.transform(m.value,p)).then(g=>({status:o.value,value:g})):m);J.assertNever(l)}}We.create=(d,i,o)=>new We({schema:d,typeName:Z.ZodEffects,effect:i,...G(o)});We.createWithPreprocess=(d,i,o)=>new We({schema:i,effect:{type:"preprocess",transform:d},typeName:Z.ZodEffects,...G(o)});class st extends X{_parse(i){return this._getType(i)===I.undefined?Ie(void 0):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}st.create=(d,i)=>new st({innerType:d,typeName:Z.ZodOptional,...G(i)});class Rt extends X{_parse(i){return this._getType(i)===I.null?Ie(null):this._def.innerType._parse(i)}unwrap(){return this._def.innerType}}Rt.create=(d,i)=>new Rt({innerType:d,typeName:Z.ZodNullable,...G(i)});class jn extends X{_parse(i){const{ctx:o}=this._processInputParams(i);let a=o.data;return o.parsedType===I.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:o.path,parent:o})}removeDefault(){return this._def.innerType}}jn.create=(d,i)=>new jn({innerType:d,typeName:Z.ZodDefault,defaultValue:typeof i.default=="function"?i.default:()=>i.default,...G(i)});class xr extends X{_parse(i){const{ctx:o}=this._processInputParams(i),a={...o,common:{...o.common,issues:[]}},l=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return yr(l)?l.then(p=>({status:"valid",value:p.status==="valid"?p.value:this._def.catchValue({get error(){return new Ve(a.common.issues)},input:a.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Ve(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}xr.create=(d,i)=>new xr({innerType:d,typeName:Z.ZodCatch,catchValue:typeof i.catch=="function"?i.catch:()=>i.catch,...G(i)});class Er extends X{_parse(i){if(this._getType(i)!==I.nan){const a=this._getOrReturnCtx(i);return A(a,{code:T.invalid_type,expected:I.nan,received:a.parsedType}),W}return{status:"valid",value:i.data}}}Er.create=d=>new Er({typeName:Z.ZodNaN,...G(d)});const ol=Symbol("zod_brand");class Do extends X{_parse(i){const{ctx:o}=this._processInputParams(i),a=o.data;return this._def.type._parse({data:a,path:o.path,parent:o})}unwrap(){return this._def.type}}class Cn extends X{_parse(i){const{status:o,ctx:a}=this._processInputParams(i);if(a.common.async)return(async()=>{const p=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return p.status==="aborted"?W:p.status==="dirty"?(o.dirty(),zo(p.value)):this._def.out._parseAsync({data:p.value,path:a.path,parent:a})})();{const l=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?W:l.status==="dirty"?(o.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:a.path,parent:a})}}static create(i,o){return new Cn({in:i,out:o,typeName:Z.ZodPipeline})}}const No=(d,i={},o)=>d?Xt.create().superRefine((a,l)=>{var p,m;if(!d(a)){const g=typeof i=="function"?i(a):typeof i=="string"?{message:i}:i,k=(m=(p=g.fatal)!==null&&p!==void 0?p:o)!==null&&m!==void 0?m:!0,E=typeof g=="string"?{message:g}:g;l.addIssue({code:"custom",...E,fatal:k})}}):Xt.create(),sl={object:he.lazycreate};var Z;(function(d){d.ZodString="ZodString",d.ZodNumber="ZodNumber",d.ZodNaN="ZodNaN",d.ZodBigInt="ZodBigInt",d.ZodBoolean="ZodBoolean",d.ZodDate="ZodDate",d.ZodSymbol="ZodSymbol",d.ZodUndefined="ZodUndefined",d.ZodNull="ZodNull",d.ZodAny="ZodAny",d.ZodUnknown="ZodUnknown",d.ZodNever="ZodNever",d.ZodVoid="ZodVoid",d.ZodArray="ZodArray",d.ZodObject="ZodObject",d.ZodUnion="ZodUnion",d.ZodDiscriminatedUnion="ZodDiscriminatedUnion",d.ZodIntersection="ZodIntersection",d.ZodTuple="ZodTuple",d.ZodRecord="ZodRecord",d.ZodMap="ZodMap",d.ZodSet="ZodSet",d.ZodFunction="ZodFunction",d.ZodLazy="ZodLazy",d.ZodLiteral="ZodLiteral",d.ZodEnum="ZodEnum",d.ZodEffects="ZodEffects",d.ZodNativeEnum="ZodNativeEnum",d.ZodOptional="ZodOptional",d.ZodNullable="ZodNullable",d.ZodDefault="ZodDefault",d.ZodCatch="ZodCatch",d.ZodPromise="ZodPromise",d.ZodBranded="ZodBranded",d.ZodPipeline="ZodPipeline"})(Z||(Z={}));const al=(d,i={message:`Input not instance of ${d.name}`})=>No(o=>o instanceof d,i),$o=Ze.create,Lo=gt.create,ll=Er.create,cl=mt.create,Zo=bn.create,dl=At.create,ul=_r.create,pl=wn.create,fl=xn.create,hl=Xt.create,gl=It.create,ml=at.create,vl=br.create,yl=Be.create,_l=he.create,bl=he.strictCreate,wl=En.create,xl=Or.create,El=kn.create,kl=Xe.create,Ol=On.create,Sl=wr.create,Pl=zt.create,Tl=Gt.create,jl=Sn.create,Cl=Pn.create,Ml=vt.create,Il=Tn.create,Al=Ht.create,To=We.create,zl=st.create,Rl=Rt.create,Dl=We.createWithPreprocess,Nl=Cn.create,$l=()=>$o().optional(),Ll=()=>Lo().optional(),Zl=()=>Zo().optional(),Vl={string:d=>Ze.create({...d,coerce:!0}),number:d=>gt.create({...d,coerce:!0}),boolean:d=>bn.create({...d,coerce:!0}),bigint:d=>mt.create({...d,coerce:!0}),date:d=>At.create({...d,coerce:!0})},Bl=W;var pe=Object.freeze({__proto__:null,defaultErrorMap:_n,setErrorMap:Ga,getErrorMap:gr,makeIssue:mr,EMPTY_PATH:Ya,addIssueToContext:A,ParseStatus:je,INVALID:W,DIRTY:zo,OK:Ie,isAborted:fi,isDirty:hi,isValid:vr,isAsync:yr,get util(){return J},get objectUtil(){return pi},ZodParsedType:I,getParsedType:ht,ZodType:X,ZodString:Ze,ZodNumber:gt,ZodBigInt:mt,ZodBoolean:bn,ZodDate:At,ZodSymbol:_r,ZodUndefined:wn,ZodNull:xn,ZodAny:Xt,ZodUnknown:It,ZodNever:at,ZodVoid:br,ZodArray:Be,ZodObject:he,ZodUnion:En,ZodDiscriminatedUnion:Or,ZodIntersection:kn,ZodTuple:Xe,ZodRecord:On,ZodMap:wr,ZodSet:zt,ZodFunction:Gt,ZodLazy:Sn,ZodLiteral:Pn,ZodEnum:vt,ZodNativeEnum:Tn,ZodPromise:Ht,ZodEffects:We,ZodTransformer:We,ZodOptional:st,ZodNullable:Rt,ZodDefault:jn,ZodCatch:xr,ZodNaN:Er,BRAND:ol,ZodBranded:Do,ZodPipeline:Cn,custom:No,Schema:X,ZodSchema:X,late:sl,get ZodFirstPartyTypeKind(){return Z},coerce:Vl,any:hl,array:yl,bigint:cl,boolean:Zo,date:dl,discriminatedUnion:xl,effect:To,enum:Ml,function:Tl,instanceof:al,intersection:El,lazy:jl,literal:Cl,map:Sl,nan:ll,nativeEnum:Il,never:ml,null:fl,nullable:Rl,number:Lo,object:_l,oboolean:Zl,onumber:Ll,optional:zl,ostring:$l,pipeline:Nl,preprocess:Dl,promise:Al,record:Ol,set:Pl,strictObject:bl,string:$o,symbol:ul,transformer:To,tuple:kl,undefined:pl,union:wl,unknown:gl,void:vl,NEVER:Bl,ZodIssueCode:T,quotelessJson:Ua,ZodError:Ve});const mi=pe.string(),yn=pe.number().finite().positive(),di=mi,Vo=pe.object({label:mi,left:pe.number().finite(),top:pe.number().finite(),width:yn,height:yn,background_color:di,foreground_color:di,border_color:di,border_width:yn.or(pe.literal(0)),on_click:mi,type:pe.enum(["","rectangle","checkbox","button","radio button","select","image"])}),Wl=Vo.partial(),yi=pe.string(),Fl=pe.object({category:pe.literal("widget"),id:yi,properties:Vo});pe.object({category:pe.literal("widget"),id:yi,properties:Wl});const Ul=pe.object({zorder:yi.array()}),Gl=Ul.partial(),Yl=pe.string(),ql=pe.object({category:pe.literal("Page"),id:Yl,properties:Gl,widgets:pe.record(pe.string(),Fl)}),Xl=pe.object({width:yn.default(320),height:yn.default(240)}),Hl=pe.string(),Kl=pe.object({category:pe.literal("project"),id:Hl,properties:Xl,pages:pe.record(pe.string(),ql)}),jo=d=>Kl.parse(JSON.parse(d)),_i=":",Yt=(d,i)=>i.startsWith(`${d}${_i}`),qt=d=>d.substring(0,d.indexOf(_i)),_e={label:"element",left:0,top:0,width:32,height:32,background_color:"#c8c8c8",foreground_color:"#000000",border_color:"#000000",border_width:0,on_click:"",type:"rectangle"},Bo=()=>({design_width:640,design_height:480,zorder:[]}),Jl={category:"project",properties:{width:240,height:320},pages:{}},Ql=d=>{let i={};for(const o in d.widgets)i[o]=d.widgets[o];return{...d,properties:{...Bo(),...d.properties},widgets:i}},Co=(d,i)=>{const o={...d};return i in o&&delete o[i],o},fr=d=>window.structuredClone(d),kr=()=>Math.random().toString(36).substring(2,9)+new Date().getTime().toString(36),ec=d=>`${d}${_i}${kr()}`;class tc{constructor(){D(this,"model");D(this,"listeners",new Set);D(this,"widgets_selection",[]);D(this,"pages_selection",[]);D(this,"clipboard",[]);this.model={...fr(Jl),id:kr()}}set_model(i){this.model=i,this.widgets_selection=[],this.pages_selection=[Object.keys(this.model.pages)[0]],this.listeners.forEach(o=>{o.pages_changed(null,Object.keys(this.model.pages),[],[])}),this.listeners.forEach(o=>{o.pages_selection_changed(null,this.pages_selection)})}copy(i){this.clipboard=i}get_clipboard(){return[...this.clipboard]}register_interest(i){this.listeners.add(i)}unregister_interest(i){this.listeners.delete(i)}add_pages(i,o){const a=[];for(const l of o){const p=kr();a.push(p),this.model.pages[p]={...l,id:p}}this.listeners.forEach(l=>{l.pages_changed(i,a,[],[])})}add_widgets(i,o,a){const l=[];this.widgets_selection=[];for(const p of a){const m=ec(o);l.push(m);const g=this.model.pages[o];g.properties.zorder=g.properties.zorder??[],g.properties.zorder.push(m),g.widgets[m]={...p,properties:{..._e,...p.properties},id:m},this.widgets_selection.push(m)}this.listeners.forEach(p=>{p.widgets_changed(i,o,l,[],[]),p.widgets_selection_changed(i,o,l)})}update_pages(i,o){const a=[];for(const l of o){let p=this.model.pages[l.id];p&&(a.push(p.id),this.model.pages[l.id]={...p,properties:{...p.properties,...l.properties},widgets:{...p.widgets,...l.widgets}})}this.listeners.forEach(l=>{l.pages_changed(i,[],a,[])})}update_widgets(i,o,a,l){const p=[];for(const m of a){let g=this.model.pages[o].widgets[m.id];g&&(p.push(m.id),this.model.pages[o].widgets[m.id]={...g,properties:{...g.properties,...m.properties}},l.length>0&&(this.model.pages[o].properties.zorder=l))}this.listeners.forEach(m=>{m.widgets_changed(i,o,[],p,[])})}delete_pages(i,o){const a=[];for(const l of o)delete this.model.pages[l],a.push(l);this.listeners.forEach(l=>{l.pages_changed(i,[],[],a)})}delete_widgets(i,o,a){const l=[];for(const m of a){const g=this.model.pages[o];delete g.widgets[m],g.properties.zorder&&(g.properties.zorder=g.properties.zorder.filter(k=>k!==m)),l.push(m)}let p=[...this.widgets_selection];for(const m of a)p.includes(m)&&p.splice(p.indexOf(m),1);p.length<this.widgets_selection.length&&this.update_widgets_selection(null,o,p),this.listeners.forEach(m=>{m.widgets_changed(i,o,[],[],l)})}update_pages_selection(i,o){this.pages_selection=[...o],this.listeners.forEach(a=>{a.pages_selection_changed(i,this.pages_selection)})}update_widgets_selection(i,o,a){this.widgets_selection=[...a],this.listeners.forEach(l=>{l.widgets_selection_changed(i,o,this.widgets_selection)})}}let nc=class extends Ut{constructor(o){super("");D(this,"id");this.id=o}getId(){return this.id}};class rc extends Mt{constructor(o){super();D(this,"page_id");D(this,"store");D(this,"children",[]);D(this,"canvas");D(this,"content");D(this,"scale",1);D(this,"requested_width");D(this,"requested_height");this.htmlElement.className="g-page_view",ee(this.htmlElement,{overflow:"hidden",position:"relative",backgroundColor:"gray",padding:"0",display:"flex",justifyContent:"center",alignItems:"center"}),this.page_id="",this.requested_width=0,this.requested_height=0,this.store=o,this.content=new Mt,ee(this.htmlElement,{overflow:"hidden",position:"relative",backgroundColor:"darkgrey",padding:"0"}),this.canvas=new Mt,ee(this.canvas.htmlElement,{position:"relative",overflow:"visible",border:"1px",color:"black",borderStyle:"solid",backgroundColor:"lightgray"}),Ct(this.content,this.canvas),Ct(this,this.content)}setWidth(o){return this.requested_width=o,super.setWidth(o),this}setHeight(o){return this.requested_height=o,super.setHeight(o),this}set_scale(o){this.scale=o,this.page_id!==""&&this.rescale()}set_current_page(o){this.page_id=o,this.rescale(),this.set_children()}rescale(){const o=this.store.model.pages[this.page_id].widgets[""].properties.width??0,a=this.store.model.pages[this.page_id].widgets[""].properties.height??0;this.scale<=0&&(this.scale=Math.min(this.requested_height/a,this.requested_width/o)),ee(this.canvas.htmlElement,{transformOrigin:"0 0",transform:`scale(${this.scale} , ${this.scale})`}),this.content.setWidth(o*this.scale),this.content.setHeight(a*this.scale),this.canvas.setWidth(o),this.canvas.setHeight(a)}set_children(){this.canvas.htmlElement.innerHTML="";const o=this.store.model.pages[this.page_id];if(o){{const a=this.store.model.pages[this.page_id].widgets[""].properties;ee(this.canvas.htmlElement,{backgroundColor:a.background_color})}for(const a of o.properties.zorder??[]){const l=o.widgets[a];if(l){const p=new nc(a);this.addChild(p,l.properties)}}}}pages_changed(o,a,l,p){o!==this&&l.includes(this.page_id)&&this.set_children()}widgets_changed(o,a,l,p,m){if(o!==this&&a===this.page_id)for(const g of[l,p,m])for(const k of g){if(Yt(this.page_id,k)){this.set_children();return}if(k===""){const E=this.store.model.pages[this.page_id].widgets[""].properties;ee(this.canvas.htmlElement,{backgroundColor:E.background_color}),this.rescale()}}}widgets_selection_changed(o,a,l){}pages_selection_changed(o,a){a.includes(this.page_id)?this.setBackgroundColor("#050505"):this.setBackgroundColor("#F0F0F0")}addChild(o,a){this.children.push(o);let l=o.htmlElement.style;l.position="absolute",l.left=`${a.left??_e.left}px`,l.top=`${a.top??_e.top}px`,l.width=`${a.width??_e.width}px`,l.height=`${a.height??_e.height}px`,l.backgroundColor=a.background_color??_e.background_color,l.color=a.foreground_color??_e.foreground_color,l.borderStyle="solid",l.borderWidth=`${a.border_width??_e.border_width}px`,l.borderColor=a.border_color??_e.border_color,o.setValue(a.label??a.type??""),Ct(this.canvas,o)}}class ic extends Mt{constructor(o){super();D(this,"store");D(this,"list");this.htmlElement.className="g-page_list",this.htmlElement.style.backgroundColor="darkgrey",this.store=o,this.list=new Wa,this.list.htmlElement.style.width="100%",this.list.htmlElement.style.height="100%",this.htmlElement.appendChild(this.list.htmlElement),this.store.register_interest(this),this.set_children()}set_children(){this.list.RemoveAllChildren();for(const o of Object.keys(this.store.model.pages)){const a=new rc(this.store).setWidth(160).setHeight(120);a.set_scale(.25),a.set_current_page(o),a.onClick(()=>{this.store.update_pages_selection(a,[o])}),this.store.register_interest(a),this.list.addChild(a)}}pages_changed(o,a,l,p){o!==this&&(a.length>0||p.length>0)&&this.set_children()}widgets_changed(o,a,l,p,m){}widgets_selection_changed(o,a,l){}pages_selection_changed(o,a){}}class oc extends Mt{constructor(o){super();D(this,"store");D(this,"props",{});D(this,"nb_elements");D(this,"page_id","");D(this,"target_page_list",new ci);this.store=o;const a=new Fa;this.nb_elements=new Ut("0"),a.add("nb elt selection",this.nb_elements);const l=[{type:"widget_type",name:"type",label:"Type"},{type:"text",name:"label",label:"Label"},{type:"number",name:"top",label:"Top"},{type:"number",name:"left",label:"Left"},{type:"number",name:"width",label:"Width"},{type:"number",name:"height",label:"Height"},{type:"number",name:"border_width",label:"Border width"},{type:"color",name:"background_color",label:"Background color"},{type:"color",name:"foreground_color",label:"Color"},{type:"color",name:"border_color",label:"Border color"},{type:"page",name:"on_click",label:"On click"}],p=(m,g)=>({elt:null,build:()=>{if(m==="page"){const k=new ci;k.setNbItemsShown(1);const E=Object.keys(this.store.model.pages);return k.setItems("",["",...E.map(j=>this.store.model.pages[j].widgets[""].properties.label)],["",...E]),k.onChange(()=>{const B=(this.store.widgets_selection.length===0?[""]:this.store.widgets_selection).filter(N=>qt(N)===this.page_id||N==="").map(N=>({category:"widget",id:N,properties:{[g]:this.props[g].elt.getValue()}}));this.store.update_widgets(this,this.page_id,B,[])}),k}else{let k;if(m==="widget_type"){let E=new ci;E.setItems("rectangle",["Rectangle","Checkbox","Button","Radio Button","Select","Image"],["rectangle","checkbox","button","radio button","select","image"]),k=E}else k=new ui(m,""),m==="number"&&k.setWidth(4,"rem");return k.onChange(()=>{const E=this.props[g].elt.getValue(),B=(this.store.widgets_selection.length===0?[""]:this.store.widgets_selection).filter(N=>qt(N)===this.page_id||N==="").map(N=>({category:"widget",id:N,properties:{[g]:m==="number"?parseFloat(E):E}}));this.store.widgets_selection.length===0&&this.store.update_pages(this,[{category:"Page",id:this.page_id,properties:{},widgets:{}}]),this.store.update_widgets(this,this.page_id,B,[])}),k}},update_field:k=>{var E,j;m==="page"?this.props[g].elt.setValue(k):m==="widget_type"&&k===""?(E=this.props[g].elt)==null||E.hide():(m==="widget_type"&&((j=this.props[g].elt)==null||j.show()),this.props[g].elt.setValue(k))},multi_values:()=>{m==="page"?this.props[g].elt.setValue(""):this.props[g].elt.setValue("")}});for(const m of l){const g=p(m.type,m.name);this.props[m.name]=g,g.elt=g.build(),a.add(m.label+":",g.elt),m.type==="page"&&(this.target_page_list=g.elt)}this.setLayout(a)}set_current_page(o){this.page_id=o,this.widgets_selection_changed(null,o,o===""?[]:this.store.widgets_selection.filter(a=>Yt(o,a)))}pages_changed(o,a,l,p){{const m=Object.keys(this.store.model.pages);let g="";this.store.model.pages[this.page_id]&&(g=this.store.model.pages[this.page_id].widgets[""].properties.on_click),this.target_page_list.setItems(g,["",...m.map(k=>this.store.model.pages[k].widgets[""].properties.label)],["",...m])}}widgets_changed(o,a,l,p,m){if(a===this.page_id&&(this.widgets_selection_changed(o,a,this.store.widgets_selection),p.includes(""))){const g=Object.keys(this.store.model.pages),k=this.store.model.pages[this.page_id].widgets[""].properties.on_click;this.target_page_list.setItems(k,["",...g.map(E=>this.store.model.pages[E].widgets[""].properties.label)],["",...g])}}widgets_selection_changed(o,a,l){if(a!==this.page_id||(this.nb_elements.setValue(`${l.length}`),o===this))return;let p=this.store.widgets_selection.filter(m=>qt(m)===this.page_id||m==="").map(m=>this.store.model.pages[this.page_id].widgets[m]);if(p.length===0&&this.page_id!==""&&(p=[this.store.model.pages[this.page_id].widgets[""]]),p.length===0){for(const m of Object.keys(this.props)){const g=this.props[m];g.elt&&g.elt.hide()}return}for(const m of Object.keys(this.props)){const g=this.props[m];g.elt&&g.elt.show();const k=new Set(p.map(E=>E.properties[m]||""));if(k.size===1){const E=Array.from(k.values())[0];g.update_field(E)}else g.multi_values()}}pages_selection_changed(o,a){a.length===0?this.set_current_page(""):this.page_id!==a[0]&&this.set_current_page(a[0])}}const dr={label:"label",content_page:"generic page",flyout_page:"master/detail page",navigation_page:"navigation page",tabbed_page:"tabbed page",generic_container:"container",absolute_layout:"",flow_layout:"",grid_layout:"",horizontal_layout:"",vertical_layout:"",checkbox:"checkbox",date_picker:"date picker",notepad:"note pad",radio:"radio button",text_entry:"text entry",button:"button"},sc=()=>{const d=[],i=[],o={};for(const a of Object.keys(dr).sort((l,p)=>dr[l].localeCompare(dr[p]))){let l=dr[a];l!==""&&(d.push(a),i.push(l),o[a]=l)}return{types:d,labels:i,label_from_type:o}};sc();const ac=d=>{throw new Error(`ERROR! Reached forbidden guard function with unexpected value: ${JSON.stringify(d)}`)};class lc extends Ut{constructor(o,a,l=0){super("");D(this,"id");D(this,"controller");D(this,"_border_width");this.id=o,this.controller=a,this._border_width=l}getId(){return this.id}setInfo(o){this.controller.update_widget_properties(this.id,o)}set_selected(o){o?this.setBorderWidth(2):this.setBorderWidth(this._border_width)}}class cc extends be{constructor(o){const a=document.createElement("div");super(a);D(this,"page_id");D(this,"store");D(this,"children",[]);D(this,"snap_to_grid",!0);D(this,"snap_precision",8);D(this,"auto_group",!0);D(this,"auto_unmask",!0);D(this,"multi_selection_is_active",!1);D(this,"local_selection",new Set);D(this,"tag_along",new Map);D(this,"page_frame");D(this,"reorder_widgets_to_unmask",(o,a)=>{const l=this.store.model.pages[this.page_id].properties.zorder||[];let p=[...l];for(const m of o)p=uc(m,a,p);for(const m of o)p=dc(m,a,p);return l.length===p.length&&l.every((m,g)=>m===p[g])?[]:p});a.className="g-designer",ee(a,{display:"flex",overflow:"hidden",position:"relative"}),this.page_frame=document.createElement("div"),ee(this.page_frame,{display:"flex",overflow:"hidden",position:"relative",backgroundColor:"red",width:"1px",height:"1px"}),a.appendChild(this.page_frame);let l=!1,p=0,m=0,g=0,k=0,E=0,j=0;this.page_frame.onpointerdown=B=>{B.preventDefault(),l=!0,p=B.x,m=B.y},this.page_frame.onpointerup=()=>{l&&(l=!1,E+=g,j+=k,this.clear_widgets_selection())},this.htmlElement.onpointerup=()=>{l&&(l=!1,E+=g,j+=k)},this.htmlElement.onpointerleave=()=>{l&&(l=!1,E+=g,j+=k)},this.page_frame.onpointermove=B=>{B.preventDefault(),l&&(g=B.x-p,k=B.y-m,this.page_frame.style.translate=`${g+E}px ${k+j}px`)},this.page_id="",this.store=o}round_to_snap(o,a){const l=a?this.snap_precision:1,p=Math.abs(o%l),m=Math.abs(o);return p<l/2?Math.sign(o)*Math.round(m-p):Math.sign(o)*Math.round(m+(l-p))}update_widget_properties(o,a){this.store.update_widgets(this,this.page_id,[{category:"widget",id:o,properties:a}],[])}set_current_page(o){this.page_id=o,this.set_children()}set_children(){this.page_frame.innerHTML="";const o=this.store.model.pages[this.page_id];if(o){{const a=this.store.model.pages[this.page_id].widgets[""].properties;ee(this.page_frame,{width:`${a.width}px`,height:`${a.height}px`,backgroundColor:a.background_color})}for(const a of o.properties.zorder??[]){const l=o.widgets[a];if(l){const p=new lc(a,this,l.properties.border_width);this.addChild(p,l.properties),this.store.widgets_selection.includes(p.id)&&p.setBorderWidth(2)}}}}pages_changed(o,a,l,p){l.includes(this.page_id)&&this.set_children()}widgets_changed(o,a,l,p,m){if(a===this.page_id)for(const g of[l,p,m])for(const k of g){if(Yt(this.page_id,k)){this.set_children();return}if(k===""){const E=this.store.model.pages[this.page_id].widgets[""].properties;ee(this.page_frame,{width:`${E.width}px`,height:`${E.height}px`,backgroundColor:E.background_color})}}}widgets_selection_changed(o,a,l){if(a===this.page_id)for(const p of this.children)p.set_selected(l.includes(p.id))}pages_selection_changed(o,a){a.length>0&&a[0]!==this.page_id&&this.set_current_page(a[0])}addChild(o,a){this.children.push(o);let l=o.htmlElement.style;l.position="absolute",l.left=`${a.left??_e.left}px`,l.top=`${a.top??_e.top}px`,l.width=`${a.width??_e.width}px`,l.height=`${a.height??_e.height}px`,l.backgroundColor=a.background_color??_e.background_color,l.color=a.foreground_color??_e.foreground_color,l.borderStyle="solid",l.borderWidth=`${a.border_width??_e.border_width}px`,l.borderColor=a.border_color??_e.border_color,o.setValue(a.label??a.type??""),o.htmlElement.setAttribute("data-id",o.id),this.page_frame.appendChild(o.htmlElement),this.make_draggable(o),this.make_resizable(o)}with_children(o){return this.auto_group?[...fc(o,this.store.model.pages[this.page_id])]:[]}clear_widgets_selection(){this.local_selection=new Set,this.store.update_widgets_selection(this,this.page_id,[])}manage_selection(o,a,l,p){const m=this.multi_selection_is_active||p.shiftKey;if(a&&m&&this.store.widgets_selection.includes(o)?this.local_selection=new Set(this.store.widgets_selection.filter(g=>qt(g)===this.page_id&&g!==o)):a&&m&&!this.store.widgets_selection.includes(o)?this.local_selection=new Set([o,...this.store.widgets_selection.filter(g=>qt(g)===this.page_id)]):a&&!m&&this.store.widgets_selection.includes(o)?this.local_selection=new Set:a&&!m&&!this.store.widgets_selection.includes(o)?this.local_selection=new Set([o]):!a&&m&&this.store.widgets_selection.includes(o)?this.local_selection=new Set([...this.store.widgets_selection]):!a&&m&&!this.store.widgets_selection.includes(o)?this.local_selection=new Set([o,...this.store.widgets_selection.filter(g=>qt(g)===this.page_id)]):!a&&!m&&this.store.widgets_selection.includes(o)?this.local_selection=new Set([...this.store.widgets_selection]):!a&&!m&&!this.store.widgets_selection.includes(o)&&(this.local_selection=new Set([o])),this.tag_along.clear(),this.auto_group)for(const g of this.local_selection)this.tag_along.set(g,new Set(this.with_children(g)));l&&this.store.update_widgets_selection(null,this.page_id,[...this.local_selection])}make_draggable(o){const a=o.htmlElement;let l=0,p=0,m=!1;const g=j=>{j.button===0&&(j.stopPropagation(),m=!1,l=j.clientX,p=j.clientY,document.addEventListener("pointermove",k),document.addEventListener("pointerup",E))},k=j=>{j.preventDefault(),j.stopPropagation();const B=j.clientX-l,N=j.clientY-p;m||(m=!0,this.manage_selection(o.id,!1,!0,j));const te=new Set([...this.local_selection]);for(const ae of this.tag_along)for(const de of ae[1])Yt(this.page_id,de)&&te.add(de);for(const ae of te){const de=this.store.model.pages[this.page_id].widgets[ae].properties,ue=this.page_frame.querySelector(`[data-id='${ae}']`);if(ue){const K=this.round_to_snap(de.top+N,this.snap_to_grid),ne=this.round_to_snap(de.left+B,this.snap_to_grid);ue.setAttribute("data-top",`${K}`),ue.setAttribute("data-left",`${ne}`),ue.style.top=`${K}px`,ue.style.left=`${ne}px`}}},E=j=>{if(document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",E),!m)this.manage_selection(o.id,!0,!0,j),m=!1;else{const B=[],N=new Set([...this.local_selection]);for(const te of this.tag_along)for(const ae of te[1])Yt(this.page_id,ae)&&N.add(ae);for(const te of N){const ae=this.page_frame.querySelector(`[data-id='${te}']`);if(ae){const de=parseFloat(ae.getAttribute("data-top")??"0"),ue=parseFloat(ae.getAttribute("data-left")??"0");B.push({category:"widget",id:te,properties:{top:de,left:ue}})}}if(this.auto_unmask){const te=new Map(Object.entries(this.store.model.pages[this.page_id].widgets));for(let de=0;de<B.length;de++){const ue=this.store.model.pages[this.page_id].widgets[B[de].id];ue.properties={...ue.properties,...B[de].properties},te.set(B[de].id,ue)}const ae=this.reorder_widgets_to_unmask(N,te);this.store.update_widgets(this,this.page_id,B,ae)}else this.store.update_widgets(this,this.page_id,B,[]),this.store.update_widgets_selection(null,this.page_id,[...this.local_selection])}};a.style.position="absolute",a.style.cursor="default",a.style.userSelect="none",a.addEventListener("pointerdown",g)}make_resizable(o){const a=o.htmlElement,l=4,p=(de,ue)=>{let K=0,ne=0,ye=0,De=0,ve=0,we=0,He=!1,R=null,xe=null,me=null,ge=null;const lt=M=>{M.stopPropagation(),ve=M.clientX,we=M.clientY,K=parseFloat(window.getComputedStyle(a).top.replace("px","")),ne=parseFloat(window.getComputedStyle(a).left.replace("px","")),ye=parseFloat(window.getComputedStyle(a).width.replace("px","")),De=parseFloat(window.getComputedStyle(a).height.replace("px","")),document.addEventListener("pointermove",Ke),document.addEventListener("pointerup",Je)},Ke=M=>{M.preventDefault();const F=M.clientX-ve,ze=M.clientY-we;He||(He=!0,this.manage_selection(o.id,!1,!1,M));const le=this.page_frame.querySelector(`[data-id='${o.id}']`);switch(ue){case"top":{R=this.round_to_snap(K+ze,this.snap_to_grid),me=Math.max(K+De-R,l),le.style.top=`${R}px`,le.style.height=`${me}px`;break}case"left":{xe=this.round_to_snap(ne+F,this.snap_to_grid),ge=Math.max(ne+ye-xe,l),le.style.left=`${xe}px`,le.style.width=`${ge}px`;break}case"top_left":{R=this.round_to_snap(K+ze,this.snap_to_grid),me=Math.max(K+De-R,l),le.style.top=`${R}px`,le.style.height=`${me}px`,xe=this.round_to_snap(ne+F,this.snap_to_grid),ge=Math.max(ne+ye-xe,l),le.style.left=`${xe}px`,le.style.width=`${ge}px`;break}case"right":{ge=Math.max(this.round_to_snap(ye+F,this.snap_to_grid),l),le.style.width=`${ge}px`;break}case"top_right":{R=this.round_to_snap(K+ze,this.snap_to_grid),me=Math.max(K+De-R,l),le.style.top=`${R}px`,le.style.height=`${me}px`,ge=Math.max(this.round_to_snap(ye+F,this.snap_to_grid),l),le.style.width=`${ge}px`;break}case"bottom":{me=Math.max(this.round_to_snap(De+ze,this.snap_to_grid),l),le.style.height=`${me}px`;break}case"bottom_left":{me=Math.max(this.round_to_snap(De+ze,this.snap_to_grid),l),le.style.height=`${me}px`,xe=this.round_to_snap(ne+F,this.snap_to_grid),ge=Math.max(ne+ye-xe,l),le.style.left=`${xe}px`,le.style.width=`${ge}px`;break}case"bottom_right":{me=Math.max(this.round_to_snap(De+ze,this.snap_to_grid),l),le.style.height=`${me}px`,ge=Math.max(this.round_to_snap(ye+F,this.snap_to_grid),l),le.style.width=`${ge}px`;break}default:ac(ue)}},Je=M=>{document.removeEventListener("pointermove",Ke),document.removeEventListener("pointerup",Je),He||this.manage_selection(o.id,!He,!0,M);{let F={};R&&(F.top=R),xe&&(F.left=xe),ge&&(F.width=ge),me&&(F.height=me),o.setInfo(F)}};de.addEventListener("pointerdown",lt)},m="8px",g=document.createElement("div");ee(g,{position:"absolute",cursor:"row-resize",top:"0",left:"0",right:"0",height:m,userSelect:"none"}),p(g,"top"),a.appendChild(g);const k=document.createElement("div");ee(k,{position:"absolute",cursor:"col-resize",left:"0",top:"0",bottom:"0",width:m,userSelect:"none"}),p(k,"left"),a.appendChild(k);const E=document.createElement("div");ee(E,{position:"absolute",cursor:"col-resize",right:"0",top:"0",bottom:"0",width:m,userSelect:"none"}),p(E,"right"),a.appendChild(E);const j=document.createElement("div");ee(j,{position:"absolute",cursor:"row-resize",bottom:"0",left:"0",right:"0",height:m,userSelect:"none"}),p(j,"bottom"),a.appendChild(j);const B=document.createElement("div");ee(B,{position:"absolute",cursor:"nw-resize",top:"0",left:"0",width:m,height:m,userSelect:"none"}),p(B,"top_left"),a.appendChild(B);const N=document.createElement("div");ee(N,{position:"absolute",cursor:"ne-resize",top:"0",right:"0",width:m,height:m,userSelect:"none"}),p(N,"top_right"),a.appendChild(N);const te=document.createElement("div");ee(te,{position:"absolute",cursor:"sw-resize",bottom:"0",left:"0",width:m,height:m,userSelect:"none"}),p(te,"bottom_left"),a.appendChild(te);const ae=document.createElement("div");ee(ae,{position:"absolute",cursor:"se-resize",bottom:"0",right:"0",width:m,height:m,userSelect:"none"}),p(ae,"bottom_right"),a.appendChild(ae)}}function Sr(d,i){if(d.properties.left&&i.properties.left&&d.properties.width&&i.properties.width&&d.properties.top&&i.properties.top&&d.properties.height&&i.properties.height){const o=d.properties.left<=i.properties.left&&d.properties.left+d.properties.width>=i.properties.left+i.properties.width,a=d.properties.top<=i.properties.top&&d.properties.top+d.properties.height>=i.properties.top+i.properties.height;return o&&a}return!1}const dc=(d,i,o)=>{const a=o.findIndex(m=>m===d);if(a===-1)return o;const l=i.get(d);let p=a;for(let m=a+1;m<o.length;m++){const g=i.get(o[m]);Sr(g,l)&&(p=m)}if(p===a)return o;{const m=o.slice(0,a),g=o.slice(a+1,p+1),k=[d],E=o.slice(p+1);return[].concat(m,g,k,E)}},uc=(d,i,o)=>{const a=pc(d,i,o);if(a.length===0)return o;const l=o.findIndex(m=>m===a.slice(-1)[0]);let p=[];for(let m=0;m<o.length;m++)m<l?p.push(o[m]):m===l?(p.push(d),p.push(o[m])):o[m]!==d&&p.push(o[m]);return p},pc=(d,i,o)=>{const a=i.get(d);let l=[];const p=o.findIndex(m=>m===d);if(p===-1)return l;for(let m=p-1;m>=0;m--){const g=i.get(o[m]);Sr(a,g)&&l.push(o[m])}return l},fc=(d,i)=>{let o=[],a=!1;for(const l of i.properties.zorder)a?Sr(i.widgets[d],i.widgets[l])&&o.push(l):l===d&&(a=!0);return o},hc=(d,i)=>{const o=i.properties.zorder||[];let a=o.findIndex(l=>l===d);if(a===-1)return null;for(let l=a-1;l>=0;l--){const p=i.widgets[o[l]];if(Sr(p,i.widgets[d]))return p}return null};class gc extends be{constructor({width:o,height:a}){const l=document.createElement("iframe");super(l);D(this,"channel");D(this,"port1");D(this,"message_handler");D(this,"iframe");D(this,"onLoad");this.iframe=l,o&&ee(l,{width:o}),a&&ee(l,{height:a}),this.channel=new MessageChannel,this.port1=this.channel.port1,this.onLoad=()=>{var p;this.message_handler&&(this.port1.onmessage=this.messageHandler),(p=this.iframe.contentWindow)==null||p.postMessage("init","*",[this.channel.port2])},l.addEventListener("load",this.onLoad)}newChannel(){this.channel=new MessageChannel,this.port1=this.channel.port1,this.iframe.addEventListener("load",this.onLoad)}messageHandler(o){this.message_handler&&this.message_handler(o)}setContent(o){this.newChannel(),this.iframe.srcdoc=o}setUrl(o){this.newChannel(),this.iframe.src=o}sendMessage(o){var a;(a=this.port1)==null||a.postMessage(o)}onMessage(o){this.port1.onmessage=o}}const mc=(d,i=!0,o=!0)=>{var k;const a=Ql(d),l=new Map;for(let E of a.properties.zorder){const j=((k=hc(E,a))==null?void 0:k.id)||"",B=l.get(j)||[];B.push(E),l.set(j,B)}const p=100/a.widgets[""].properties.width,m=100/a.widgets[""].properties.height,g=(E,j,B)=>{var ne;let N=((ne=a.widgets[E])==null?void 0:ne.properties)??{};E===""&&(N.left=0,N.top=0);const te=E===""?`class="page" data-page_id="${d.id}"`:'class="sketch-button"',ae=E===""?"":N.label??"",de=N.on_click===""?"":`onClick="navigate_to('${N.on_click}')"`;let ue=`<div ${te} style="${E===""&&i?"visibility:visible;":""}background-color:${N.background_color};color:${N.foreground_color};stroke55:${N.foreground_color};border-color:${N.border_color}${N.type!=="rectangle"?"":`;border-width:${N.border_width}px`};border-style:solid;`;ue+=`overflow:hidden;position:absolute;width:${N.width*p}vw;height:${N.height*m}vh;left:${(N.left-j)*p}vw;top:${(N.top-B)*m}vh;"
			${de}>${ae}`;const K=l.get(E)||[];return ue+=K.map(ye=>g(ye,N.left,N.top)).join(""),ue+="</div>",ue};return o?`<html><head></head><body style="background-color:lightblue">${g("",0,0)}</body></html>`:g("",0,0)},vc=(d,i)=>`<html><head></head><body style="background-color:lightblue">
	<style>
	:root {
		box-sizing: border-box;
	}
	  
	*, ::before, ::after {
		box-sizing: inherit;
	}

	.page { visibility:hidden; }


.svg-fill-parent { /* required to allow svg to fill parent + stretch */
height: 100%; width: 100%;
}
.sketch-select {
border-style: solid;
border-width: 10px 10px 10px 10px;
border-image: url(doodlecss/button.svg) 10 10 10 10 stretch stretch;
color: black;
padding-right: 16px;
background: url(doodlecss/caret.svg) no-repeat right transparent;
background-position-x: calc(100% - 10px);

display: flex; align-items:center; /* center text vertically */
}
.sketch-button {
border-style: solid;
border-width: 10px 10px 10px 10px;
border-image: url(doodlecss/button.svg) 10 10 10 10 stretch stretch;
color: black;
display: flex; align-items:center; justify-content: center; /* center text vertically and horizontally*/
}
.sketch-textinput {
border-style: solid;
border-width: 10px 10px 10px 10px;
border-image: url(doodlecss/button.svg) 10 10 10 10 stretch stretch;
color: black;
text-align: left;
}
.sketch-image {
border-style: solid;
border-width: 3px 3px 3px 3px;
border-image: url(doodlecss/button.svg) 3 3 3 3 stretch stretch;
border-radius: 3px;
}
.sketch-hr {
border-style: solid;
border-width: 0px 3px 6px 3px;
border-image: url(doodlecss/hr.svg) 0 3 6 3 stretch stretch;
}
.sketch-label {
color: black;
display: flex; flex-direction: row; align-items:center; justify-content: flex-start;
}

	</style> 
		<script>
		const navigate_to = (page_id) => {
			const pages = document.querySelectorAll(".page");
			if(pages) {
				pages.forEach((p) => { p.style.visibility = 'hidden'; });
			}
			const target_page = document.querySelector("[data-page_id='" + page_id + "']");
			if(target_page) {
				target_page.style.visibility = 'visible';
			}
			else {
				console.log('target page not found');
			}
		};
		<\/script> ${Object.values(d.pages).map(l=>mc(l,l.id===i,!1))}</body></html>`;function yc(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var Wo={exports:{}};(function(d,i){(function(o){d.exports=o()})(function(){var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,o.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var a={};Object.defineProperty(a,"__esModule",{value:!0}),a.getWindow=function(e){return(0,o.default)(e)?e:(e.ownerDocument||e).defaultView||p.window},a.init=m,a.window=a.realWindow=void 0;var l=void 0;a.realWindow=l;var p=void 0;function m(e){a.realWindow=l=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),a.window=p=e}a.window=p,typeof window<"u"&&window&&m(window);var g={};function k(e){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(e)}Object.defineProperty(g,"__esModule",{value:!0}),g.default=void 0;var E=function(e){return!!e&&k(e)==="object"},j=function(e){return typeof e=="function"},B={window:function(e){return e===a.window||(0,o.default)(e)},docFrag:function(e){return E(e)&&e.nodeType===11},object:E,func:j,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||k(e)!=="object")return!1;var t=a.getWindow(e)||a.window;return/object|function/.test(typeof Element>"u"?"undefined":k(Element))?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return E(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return E(e)&&e.length!==void 0&&j(e.splice)}};g.default=B;var N={};function te(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.prepared.axis;n==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):n==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function ae(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="drag"){var r=n.prepared.axis;if(r==="x"||r==="y"){var s=r==="x"?"y":"x";t.page[s]=n.coords.start.page[s],t.client[s]=n.coords.start.client[s],t.delta[s]=0}}}Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var de={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.draggable=de.draggable,t.map.drag=de,t.methodDict.drag="draggable",r.actions.drag=de.defaults},listeners:{"interactions:before-action-move":te,"interactions:action-resume":te,"interactions:action-move":ae,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.buttons,s=n.options.drag;if(s&&s.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||r&n.options.drag.mouseButtons))return e.action={name:"drag",axis:s.lockAxis==="start"?s.startAxis:s.lockAxis},!1}},draggable:function(e){return g.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):g.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:te,move:ae,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},ue=de;N.default=ue;var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.default=void 0;var ne={init:function(e){var t=e;ne.document=t.document,ne.DocumentFragment=t.DocumentFragment||ye,ne.SVGElement=t.SVGElement||ye,ne.SVGSVGElement=t.SVGSVGElement||ye,ne.SVGElementInstance=t.SVGElementInstance||ye,ne.Element=t.Element||ye,ne.HTMLElement=t.HTMLElement||ne.Element,ne.Event=t.Event,ne.Touch=t.Touch||ye,ne.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function ye(){}var De=ne;K.default=De;var ve={};Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=void 0;var we={init:function(e){var t=K.default.Element,n=e.navigator||{};we.supportsTouch="ontouchstart"in e||g.default.func(e.DocumentTouch)&&K.default.document instanceof e.DocumentTouch,we.supportsPointerEvent=n.pointerEnabled!==!1&&!!K.default.PointerEvent,we.isIOS=/iP(hone|od|ad)/.test(n.platform),we.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),we.isIe9=/MSIE 9/.test(n.userAgent),we.isOperaMobile=n.appName==="Opera"&&we.supportsTouch&&/Presto/.test(n.userAgent),we.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",we.pEventTypes=we.supportsPointerEvent?K.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,we.wheelEvent=K.default.document&&"onmousewheel"in K.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},He=we;ve.default=He;var R={};function xe(e){var t=e.parentNode;if(g.default.docFrag(t)){for(;(t=t.host)&&g.default.docFrag(t););return t}return t}function me(e,t){return a.window!==a.realWindow&&(t=t.replace(/\/deep\//g," ")),e[ve.default.prefixedMatchesSelector](t)}Object.defineProperty(R,"__esModule",{value:!0}),R.closest=function(e,t){for(;g.default.element(e);){if(me(e,t))return e;e=xe(e)}return null},R.getActualElement=function(e){return e.correspondingUseElement||e},R.getElementClientRect=Je,R.getElementRect=function(e){var t=Je(e);if(!ve.default.isIOS7&&t){var n=Ke(a.getWindow(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t},R.getPath=function(e){for(var t=[];e;)t.push(e),e=xe(e);return t},R.getScrollXY=Ke,R.indexOfDeepestElement=function(e){for(var t,n=[],r=0;r<e.length;r++){var s=e[r],c=e[t];if(s&&r!==t)if(c){var h=ge(s),u=ge(c);if(h!==s.ownerDocument)if(u!==s.ownerDocument)if(h!==u){n=n.length?n:lt(c);var f=void 0;if(c instanceof K.default.HTMLElement&&s instanceof K.default.SVGElement&&!(s instanceof K.default.SVGSVGElement)){if(s===u)continue;f=s.ownerSVGElement}else f=s;for(var v=lt(f,c.ownerDocument),y=0;v[y]&&v[y]===n[y];)y++;var _=[v[y-1],v[y],n[y]];if(_[0])for(var w=_[0].lastChild;w;){if(w===_[1]){t=r,n=v;break}if(w===_[2])break;w=w.previousSibling}}else x=s,b=c,(parseInt(a.getWindow(x).getComputedStyle(x).zIndex,10)||0)>=(parseInt(a.getWindow(b).getComputedStyle(b).zIndex,10)||0)&&(t=r);else t=r}else t=r}var x,b;return t},R.matchesSelector=me,R.matchesUpTo=function(e,t,n){for(;g.default.element(e);){if(me(e,t))return!0;if((e=xe(e))===n)return me(e,t)}return!1},R.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},R.parentNode=xe,R.trySelector=function(e){return!!g.default.string(e)&&(K.default.document.querySelector(e),!0)};var ge=function(e){return e.parentNode||e.host};function lt(e,t){for(var n,r=[],s=e;(n=ge(s))&&s!==t&&n!==s.ownerDocument;)r.unshift(s),s=n;return r}function Ke(e){return{x:(e=e||a.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function Je(e){var t=e instanceof K.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e,t){for(var n in t)e[n]=t[n];return e};var F={};function ze(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t,n){return e==="parent"?(0,R.parentNode)(n):e==="self"?t.getRect(n):(0,R.closest)(n,e)}Object.defineProperty(F,"__esModule",{value:!0}),F.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top},F.getStringOptionResult=le,F.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},F.resolveRectLike=function(e,t,n,r){var s,c=e;return g.default.string(c)?c=le(c,t,n):g.default.func(c)&&(c=c.apply(void 0,function(h){if(Array.isArray(h))return ze(h)}(s=r)||function(h){if(typeof Symbol<"u"&&h[Symbol.iterator]!=null||h["@@iterator"]!=null)return Array.from(h)}(s)||function(h,u){if(h){if(typeof h=="string")return ze(h,u);var f=Object.prototype.toString.call(h).slice(8,-1);return f==="Object"&&h.constructor&&(f=h.constructor.name),f==="Map"||f==="Set"?Array.from(h):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?ze(h,u):void 0}}(s)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),g.default.element(c)&&(c=(0,R.getElementRect)(c)),c},F.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,M.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},F.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,M.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e};var $e={};Object.defineProperty($e,"__esModule",{value:!0}),$e.default=function(e,t,n){var r=e.options[n],s=r&&r.origin||e.options.origin,c=(0,F.resolveRectLike)(s,e,t,[e&&t]);return(0,F.rectToXY)(c)||{x:0,y:0}};var Fe={};function yt(e){return e.trim().split(/ +/)}Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=function e(t,n,r){if(r=r||{},g.default.string(t)&&t.search(" ")!==-1&&(t=yt(t)),g.default.array(t))return t.reduce(function(f,v){return(0,M.default)(f,e(v,n,r))},r);if(g.default.object(t)&&(n=t,t=""),g.default.func(n))r[t]=r[t]||[],r[t].push(n);else if(g.default.array(n))for(var s=0;s<n.length;s++){var c;c=n[s],e(t,c,r)}else if(g.default.object(n))for(var h in n){var u=yt(h).map(function(f){return"".concat(t).concat(f)});e(u,n[h],r)}return r};var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.default=void 0,q.default=function(e,t){return Math.sqrt(e*e+t*t)};var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=function(e,t){e.__set||(e.__set={});var n=function(s){typeof e[s]!="function"&&s!=="__set"&&Object.defineProperty(e,s,{get:function(){return s in e.__set?e.__set[s]:e.__set[s]=t[s]},set:function(c){e.__set[s]=c},configurable:!0})};for(var r in t)n(r);return e};var O={};function Ee(e){return e instanceof K.default.Event||e instanceof K.default.Touch}function Pe(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function Kt(e,t){return t=t||{x:0,y:0},ve.default.isOperaMobile&&Ee(e)?(Pe("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):Pe("page",e,t),t}function Mn(e,t){return t=t||{},ve.default.isOperaMobile&&Ee(e)?Pe("screen",e,t):Pe("client",e,t),t}function Ue(e){var t=[];return g.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function _t(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var r=e[n];for(var s in t)t[s]+=r[s]}for(var c in t)t[c]/=e.length;return t}Object.defineProperty(O,"__esModule",{value:!0}),O.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},O.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},O.getClientXY=Mn,O.getEventTargets=function(e){var t=g.default.func(e.composedPath)?e.composedPath():e.path;return[R.getActualElement(t?t[0]:e.target),R.getActualElement(e.currentTarget)]},O.getPageXY=Kt,O.getPointerId=function(e){return g.default.number(e.pointerId)?e.pointerId:e.identifier},O.getPointerType=function(e){return g.default.string(e.pointerType)?e.pointerType:g.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof K.default.Touch?"touch":"mouse"},O.getTouchPair=Ue,O.getXY=Pe,O.isNativePointer=Ee,O.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},O.pointerAverage=_t,Object.defineProperty(O,"pointerExtend",{enumerable:!0,get:function(){return Y.default}}),O.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},O.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},O.setCoords=function(e,t,n){var r=t.length>1?_t(t):t[0];Kt(r,e.page),Mn(r,e.client),e.timeStamp=n},O.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},O.touchAngle=function(e,t){var n=t+"X",r=t+"Y",s=Ue(e),c=s[1][n]-s[0][n],h=s[1][r]-s[0][r];return 180*Math.atan2(h,c)/Math.PI},O.touchBBox=function(e){if(!e.length)return null;var t=Ue(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),s=Math.max(t[0].pageX,t[1].pageX),c=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,right:s,bottom:c,width:s-n,height:c-r}},O.touchDistance=function(e,t){var n=t+"X",r=t+"Y",s=Ue(e),c=s[0][n]-s[1][n],h=s[0][r]-s[1][r];return(0,q.default)(c,h)};var Ge={};function Fo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.BaseEvent=void 0;var wi=function(){function e(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,e),bi(this,"immediatePropagationStopped",!1),bi(this,"propagationStopped",!1),this._interaction=r}var t,n;return t=e,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Fo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ge.BaseEvent=wi,Object.defineProperty(wi.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var re={};Object.defineProperty(re,"__esModule",{value:!0}),re.remove=re.merge=re.from=re.findIndex=re.find=re.contains=void 0,re.contains=function(e,t){return e.indexOf(t)!==-1},re.remove=function(e,t){return e.splice(e.indexOf(t),1)};var xi=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.push(r)}return e};re.merge=xi,re.from=function(e){return xi([],e)};var Ei=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};re.findIndex=Ei,re.find=function(e,t){return e[Ei(e,t)]};var Qe={};function Pr(e){return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pr(e)}function Uo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Tr(e,t)}function Go(e,t){if(t&&(Pr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bt(e)}function bt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(e){return In=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},In(e)}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.DropEvent=void 0;var Yo=function(e){(function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),f&&Tr(u,f)})(h,e);var t,n,r,s,c=(r=h,s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var u,f=In(r);if(s){var v=In(this).constructor;u=Reflect.construct(f,arguments,v)}else u=f.apply(this,arguments);return Go(this,u)});function h(u,f,v){var y;(function(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")})(this,h),Dt(bt(y=c.call(this,f._interaction)),"dropzone",void 0),Dt(bt(y),"dragEvent",void 0),Dt(bt(y),"relatedTarget",void 0),Dt(bt(y),"draggable",void 0),Dt(bt(y),"propagationStopped",!1),Dt(bt(y),"immediatePropagationStopped",!1);var _=v==="dragleave"?u.prev:u.cur,w=_.element,x=_.dropzone;return y.type=v,y.target=w,y.currentTarget=w,y.dropzone=x,y.dragEvent=f,y.relatedTarget=f.target,y.draggable=f.interactable,y.timeStamp=f.timeStamp,y}return t=h,(n=[{key:"reject",value:function(){var u=this,f=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&f.cur.dropzone===this.dropzone&&f.cur.element===this.target)if(f.prev.dropzone=this.dropzone,f.prev.element=this.target,f.rejected=!0,f.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var v=f.activeDrops,y=re.findIndex(v,function(w){var x=w.dropzone,b=w.element;return x===u.dropzone&&b===u.target});f.activeDrops.splice(y,1);var _=new h(f,this.dragEvent,"dropdeactivate");_.dropzone=this.dropzone,_.target=this.target,this.dropzone.fire(_)}else this.dropzone.fire(new h(f,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Uo(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(Ge.BaseEvent);Qe.DropEvent=Yo;var An={};function ki(e,t){for(var n=0;n<e.slice().length;n++){var r=e.slice()[n],s=r.dropzone,c=r.element;t.dropzone=s,t.target=c,s.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function jr(e,t){for(var n=function(c,h){for(var u=c.interactables,f=[],v=0;v<u.list.length;v++){var y=u.list[v];if(y.options.drop.enabled){var _=y.options.drop.accept;if(!(g.default.element(_)&&_!==h||g.default.string(_)&&!R.matchesSelector(h,_)||g.default.func(_)&&!_({dropzone:y,draggableElement:h})))for(var w=g.default.string(y.target)?y._context.querySelectorAll(y.target):g.default.array(y.target)?y.target:[y.target],x=0;x<w.length;x++){var b=w[x];b!==h&&f.push({dropzone:y,element:b,rect:y.getRect(b)})}}}return f}(e,t),r=0;r<n.length;r++){var s=n[r];s.rect=s.dropzone.getRect(s.element)}return n}function Oi(e,t,n){for(var r=e.dropState,s=e.interactable,c=e.element,h=[],u=0;u<r.activeDrops.length;u++){var f=r.activeDrops[u],v=f.dropzone,y=f.element,_=f.rect;h.push(v.dropCheck(t,n,s,c,y,_)?y:null)}var w=R.indexOfDeepestElement(h);return r.activeDrops[w]||null}function Cr(e,t,n){var r=e.dropState,s={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(s.activate=new Qe.DropEvent(r,n,"dropactivate"),s.activate.target=null,s.activate.dropzone=null),n.type==="dragend"&&(s.deactivate=new Qe.DropEvent(r,n,"dropdeactivate"),s.deactivate.target=null,s.deactivate.dropzone=null),r.rejected||(r.cur.element!==r.prev.element&&(r.prev.dropzone&&(s.leave=new Qe.DropEvent(r,n,"dragleave"),n.dragLeave=s.leave.target=r.prev.element,n.prevDropzone=s.leave.dropzone=r.prev.dropzone),r.cur.dropzone&&(s.enter=new Qe.DropEvent(r,n,"dragenter"),n.dragEnter=r.cur.element,n.dropzone=r.cur.dropzone)),n.type==="dragend"&&r.cur.dropzone&&(s.drop=new Qe.DropEvent(r,n,"drop"),n.dropzone=r.cur.dropzone,n.relatedTarget=r.cur.element),n.type==="dragmove"&&r.cur.dropzone&&(s.move=new Qe.DropEvent(r,n,"dropmove"),s.move.dragmove=n,n.dropzone=r.cur.dropzone)),s}function Mr(e,t){var n=e.dropState,r=n.activeDrops,s=n.cur,c=n.prev;t.leave&&c.dropzone.fire(t.leave),t.enter&&s.dropzone.fire(t.enter),t.move&&s.dropzone.fire(t.move),t.drop&&s.dropzone.fire(t.drop),t.deactivate&&ki(r,t.deactivate),n.prev.dropzone=s.dropzone,n.prev.element=s.element}function Si(e,t){var n=e.interaction,r=e.iEvent,s=e.event;if(r.type==="dragmove"||r.type==="dragend"){var c=n.dropState;t.dynamicDrop&&(c.activeDrops=jr(t,n.element));var h=r,u=Oi(n,h,s);c.rejected=c.rejected&&!!u&&u.dropzone===c.cur.dropzone&&u.element===c.cur.element,c.cur.dropzone=u&&u.dropzone,c.cur.element=u&&u.element,c.events=Cr(n,0,h)}}Object.defineProperty(An,"__esModule",{value:!0}),An.default=void 0;var Pi={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,r=e.Interactable,s=e.defaults;e.usePlugin(N.default),r.prototype.dropzone=function(c){return function(h,u){if(g.default.object(u)){if(h.options.drop.enabled=u.enabled!==!1,u.listeners){var f=(0,Fe.default)(u.listeners),v=Object.keys(f).reduce(function(y,_){return y[/^(enter|leave)/.test(_)?"drag".concat(_):/^(activate|deactivate|move)/.test(_)?"drop".concat(_):_]=f[_],y},{});h.off(h.options.drop.listeners),h.on(v),h.options.drop.listeners=v}return g.default.func(u.ondrop)&&h.on("drop",u.ondrop),g.default.func(u.ondropactivate)&&h.on("dropactivate",u.ondropactivate),g.default.func(u.ondropdeactivate)&&h.on("dropdeactivate",u.ondropdeactivate),g.default.func(u.ondragenter)&&h.on("dragenter",u.ondragenter),g.default.func(u.ondragleave)&&h.on("dragleave",u.ondragleave),g.default.func(u.ondropmove)&&h.on("dropmove",u.ondropmove),/^(pointer|center)$/.test(u.overlap)?h.options.drop.overlap=u.overlap:g.default.number(u.overlap)&&(h.options.drop.overlap=Math.max(Math.min(1,u.overlap),0)),"accept"in u&&(h.options.drop.accept=u.accept),"checker"in u&&(h.options.drop.checker=u.checker),h}return g.default.bool(u)?(h.options.drop.enabled=u,h):h.options.drop}(this,c)},r.prototype.dropCheck=function(c,h,u,f,v,y){return function(_,w,x,b,S,C,P){var z=!1;if(!(P=P||_.getRect(C)))return!!_.options.drop.checker&&_.options.drop.checker(w,x,z,_,C,b,S);var $=_.options.drop.overlap;if($==="pointer"){var U=(0,$e.default)(b,S,"drag"),Q=O.getPageXY(w);Q.x+=U.x,Q.y+=U.y;var se=Q.x>P.left&&Q.x<P.right,H=Q.y>P.top&&Q.y<P.bottom;z=se&&H}var oe=b.getRect(S);if(oe&&$==="center"){var Ne=oe.left+oe.width/2,ot=oe.top+oe.height/2;z=Ne>=P.left&&Ne<=P.right&&ot>=P.top&&ot<=P.bottom}return oe&&g.default.number($)&&(z=Math.max(0,Math.min(P.right,oe.right)-Math.max(P.left,oe.left))*Math.max(0,Math.min(P.bottom,oe.bottom)-Math.max(P.top,oe.top))/(oe.width*oe.height)>=$),_.options.drop.checker&&(z=_.options.drop.checker(w,x,z,_,C,b,S)),z}(this,c,h,u,f,v,y)},n.dynamicDrop=function(c){return g.default.bool(c)?(e.dynamicDrop=c,n):e.dynamicDrop},(0,M.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,s.actions.drop=Pi.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,r=(e.event,e.iEvent);if(n.prepared.name==="drag"){var s=n.dropState;s.activeDrops=null,s.events=null,s.activeDrops=jr(t,n.element),s.events=Cr(n,0,r),s.events.activate&&(ki(s.activeDrops,s.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:r}))}},"interactions:action-move":Si,"interactions:after-action-move":function(e,t){var n=e.interaction,r=e.iEvent;n.prepared.name==="drag"&&(Mr(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:r}),n.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var n=e.interaction,r=e.iEvent;Si(e,t),Mr(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:r})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:jr,getDrop:Oi,getDropEvents:Cr,fireDropEvents:Mr,defaults:{enabled:!1,accept:null,overlap:"pointer"}},qo=Pi;An.default=qo;var zn={};function Ir(e){var t=e.interaction,n=e.iEvent,r=e.phase;if(t.prepared.name==="gesture"){var s=t.pointers.map(function(v){return v.pointer}),c=r==="start",h=r==="end",u=t.interactable.options.deltaSource;if(n.touches=[s[0],s[1]],c)n.distance=O.touchDistance(s,u),n.box=O.touchBBox(s),n.scale=1,n.ds=0,n.angle=O.touchAngle(s,u),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(h){var f=t.prevEvent;n.distance=f.distance,n.box=f.box,n.scale=f.scale,n.ds=0,n.angle=f.angle,n.da=0}else n.distance=O.touchDistance(s,u),n.box=O.touchBBox(s),n.scale=n.distance/t.gesture.startDistance,n.angle=O.touchAngle(s,u),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,g.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(zn,"__esModule",{value:!0}),zn.default=void 0;var Ar={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,r=e.defaults;n.prototype.gesturable=function(s){return g.default.object(s)?(this.options.gesture.enabled=s.enabled!==!1,this.setPerAction("gesture",s),this.setOnEvents("gesture",s),this):g.default.bool(s)?(this.options.gesture.enabled=s,this):this.options.gesture},t.map.gesture=Ar,t.methodDict.gesture="gesturable",r.actions.gesture=Ar.defaults},listeners:{"interactions:action-start":Ir,"interactions:action-move":Ir,"interactions:action-end":Ir,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Xo=Ar;zn.default=Xo;var Rn={};function Ho(e,t,n,r,s,c,h){if(!t)return!1;if(t===!0){var u=g.default.number(c.width)?c.width:c.right-c.left,f=g.default.number(c.height)?c.height:c.bottom-c.top;if(h=Math.min(h,Math.abs((e==="left"||e==="right"?u:f)/2)),u<0&&(e==="left"?e="right":e==="right"&&(e="left")),f<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){var v=u>=0?c.left:c.right;return n.x<v+h}if(e==="top"){var y=f>=0?c.top:c.bottom;return n.y<y+h}if(e==="right")return n.x>(u>=0?c.right:c.left)-h;if(e==="bottom")return n.y>(f>=0?c.bottom:c.top)-h}return!!g.default.element(r)&&(g.default.element(t)?t===r:R.matchesUpTo(r,t,s))}function Ti(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var r=t;n.interactable.options.resize.square?(n.resizeAxes==="y"?r.delta.x=r.delta.y:r.delta.y=r.delta.x,r.axes="xy"):(r.axes=n.resizeAxes,n.resizeAxes==="x"?r.delta.y=0:n.resizeAxes==="y"&&(r.delta.x=0))}}Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.default=void 0;var et={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,r=e.Interactable,s=e.defaults;et.cursors=function(c){return c.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),et.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,r.prototype.resizable=function(c){return function(h,u,f){return g.default.object(u)?(h.options.resize.enabled=u.enabled!==!1,h.setPerAction("resize",u),h.setOnEvents("resize",u),g.default.string(u.axis)&&/^x$|^y$|^xy$/.test(u.axis)?h.options.resize.axis=u.axis:u.axis===null&&(h.options.resize.axis=f.defaults.actions.resize.axis),g.default.bool(u.preserveAspectRatio)?h.options.resize.preserveAspectRatio=u.preserveAspectRatio:g.default.bool(u.square)&&(h.options.resize.square=u.square),h):g.default.bool(u)?(h.options.resize.enabled=u,h):h.options.resize}(this,c,e)},t.map.resize=et,t.methodDict.resize="resizable",s.actions.resize=et.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var n=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var s=n,c=r.rect;r._rects={start:(0,M.default)({},c),corrected:(0,M.default)({},c),previous:(0,M.default)({},c),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},s.edges=r.prepared.edges,s.rect=r._rects.corrected,s.deltaRect=r._rects.delta}})(e),Ti(e)},"interactions:action-move":function(e){(function(t){var n=t.iEvent,r=t.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var s=n,c=r.interactable.options.resize.invert,h=c==="reposition"||c==="negate",u=r.rect,f=r._rects,v=f.start,y=f.corrected,_=f.delta,w=f.previous;if((0,M.default)(w,y),h){if((0,M.default)(y,u),c==="reposition"){if(y.top>y.bottom){var x=y.top;y.top=y.bottom,y.bottom=x}if(y.left>y.right){var b=y.left;y.left=y.right,y.right=b}}}else y.top=Math.min(u.top,v.bottom),y.bottom=Math.max(u.bottom,v.top),y.left=Math.min(u.left,v.right),y.right=Math.max(u.right,v.left);for(var S in y.width=y.right-y.left,y.height=y.bottom-y.top,y)_[S]=y[S]-w[S];s.edges=r.prepared.edges,s.rect=y,s.deltaRect=_}})(e),Ti(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var r=t;r.edges=n.prepared.edges,r.rect=n._rects.corrected,r.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,r=e.element,s=e.rect,c=e.buttons;if(s){var h=(0,M.default)({},t.coords.cur.page),u=n.options.resize;if(u&&u.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||c&u.mouseButtons)){if(g.default.object(u.edges)){var f={left:!1,right:!1,top:!1,bottom:!1};for(var v in f)f[v]=Ho(v,u.edges[v],h,t._latestPointer.eventTarget,r,s,u.margin||et.defaultMargin);f.left=f.left&&!f.right,f.top=f.top&&!f.bottom,(f.left||f.right||f.top||f.bottom)&&(e.action={name:"resize",edges:f})}else{var y=u.axis!=="y"&&h.x>s.right-et.defaultMargin,_=u.axis!=="x"&&h.y>s.bottom-et.defaultMargin;(y||_)&&(e.action={name:"resize",axes:(y?"x":"")+(_?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,r=e.name,s=et.cursors,c=null;if(n)c=s[r+n];else if(t){for(var h="",u=["top","bottom","left","right"],f=0;f<u.length;f++){var v=u[f];t[v]&&(h+=v)}c=s[h]}return c},defaultMargin:null},Ko=et;Rn.default=Ko;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.default=void 0;var Jo={id:"actions",install:function(e){e.usePlugin(zn.default),e.usePlugin(Rn.default),e.usePlugin(N.default),e.usePlugin(An.default)}};Jt.default=Jo;var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.default=void 0;var tt,wt,ji=0,Qo={request:function(e){return tt(e)},cancel:function(e){return wt(e)},init:function(e){if(tt=e.requestAnimationFrame,wt=e.cancelAnimationFrame,!tt)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var r=t[n];tt=e["".concat(r,"RequestAnimationFrame")],wt=e["".concat(r,"CancelAnimationFrame")]||e["".concat(r,"CancelRequestAnimationFrame")]}tt=tt&&tt.bind(e),wt=wt&&wt.bind(e),tt||(tt=function(s){var c=Date.now(),h=Math.max(0,16-(c-ji)),u=e.setTimeout(function(){s(c+h)},h);return ji=c+h,u},wt=function(s){return clearTimeout(s)})}};Le.default=Qo;var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=void 0,nt.getContainer=Dn,nt.getScroll=Qt,nt.getScrollSize=function(e){return g.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},nt.getScrollSizeDelta=function(e,t){var n=e.interaction,r=e.element,s=n&&n.interactable.options[n.prepared.name].autoScroll;if(!s||!s.enabled)return t(),{x:0,y:0};var c=Dn(s.container,n.interactable,r),h=Qt(c);t();var u=Qt(c);return{x:u.x-h.x,y:u.y-h.y}};var V={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){V.isScrolling=!0,Le.default.cancel(V.i),e.autoScroll=V,V.interaction=e,V.prevTime=V.now(),V.i=Le.default.request(V.scroll)},stop:function(){V.isScrolling=!1,V.interaction&&(V.interaction.autoScroll=null),Le.default.cancel(V.i)},scroll:function(){var e=V.interaction,t=e.interactable,n=e.element,r=e.prepared.name,s=t.options[r].autoScroll,c=Dn(s.container,t,n),h=V.now(),u=(h-V.prevTime)/1e3,f=s.speed*u;if(f>=1){var v={x:V.x*f,y:V.y*f};if(v.x||v.y){var y=Qt(c);g.default.window(c)?c.scrollBy(v.x,v.y):c&&(c.scrollLeft+=v.x,c.scrollTop+=v.y);var _=Qt(c),w={x:_.x-y.x,y:_.y-y.y};(w.x||w.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:w,interaction:e,container:c})}V.prevTime=h}V.isScrolling&&(Le.default.cancel(V.i),V.i=Le.default.request(V.scroll))},check:function(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&V.check(t.interactable,t.prepared.name))if(t.simulation)V.x=V.y=0;else{var r,s,c,h,u=t.interactable,f=t.element,v=t.prepared.name,y=u.options[v].autoScroll,_=Dn(y.container,u,f);if(g.default.window(_))h=n.clientX<V.margin,r=n.clientY<V.margin,s=n.clientX>_.innerWidth-V.margin,c=n.clientY>_.innerHeight-V.margin;else{var w=R.getElementClientRect(_);h=n.clientX<w.left+V.margin,r=n.clientY<w.top+V.margin,s=n.clientX>w.right-V.margin,c=n.clientY>w.bottom-V.margin}V.x=s?1:h?-1:0,V.y=c?1:r?-1:0,V.isScrolling||(V.margin=y.margin,V.speed=y.speed,V.start(t))}}};function Dn(e,t,n){return(g.default.string(e)?(0,F.getStringOptionResult)(e,t,n):e)||(0,a.getWindow)(n)}function Qt(e){return g.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var es={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=V,V.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=V.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,V.stop(),V.interaction&&(V.interaction=null)},"interactions:stop":V.stop,"interactions:action-move":function(e){return V.onInteractionMove(e)}}},ts=es;nt.default=ts;var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},Re.sign=void 0,Re.warnOnce=function(e,t){var n=!1;return function(){return n||(a.window.console.warn(t),n=!0),e.apply(this,arguments)}},Re.sign=function(e){return e>=0?1:-1};var Nn={};function ns(e){return g.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function rs(e){return g.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.default=void 0;var is={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(n,r,s,c){var h=function(u,f,v,y,_){var w=u.getRect(y),x={action:null,interactable:u,interaction:v,element:y,rect:w,buttons:f.buttons||{0:1,1:4,3:8,4:16}[f.button]};return _.fire("auto-start:check",x),x.action}(this,r,s,c,e);return this.options.actionChecker?this.options.actionChecker(n,r,h,this,c,s):h},t.prototype.ignoreFrom=(0,Re.warnOnce)(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,Re.warnOnce)(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=rs,t.prototype.styleCursor=ns}};Nn.default=is;var Nt={};function Ci(e,t,n,r,s){return t.testIgnoreAllow(t.options[e.name],n,r)&&t.options[e.name].enabled&&$n(t,n,e,s)?e:null}function os(e,t,n,r,s,c,h){for(var u=0,f=r.length;u<f;u++){var v=r[u],y=s[u],_=v.getAction(t,n,e,y);if(_){var w=Ci(_,v,y,c,h);if(w)return{action:w,interactable:v,element:y}}}return{action:null,interactable:null,element:null}}function Mi(e,t,n,r,s){var c=[],h=[],u=r;function f(y){c.push(y),h.push(u)}for(;g.default.element(u);){c=[],h=[],s.interactables.forEachMatch(u,f);var v=os(e,t,n,c,h,r,s);if(v.action&&!v.interactable.options[v.action.name].manualStart)return v;u=R.parentNode(u)}return{action:null,interactable:null,element:null}}function Ii(e,t,n){var r=t.action,s=t.interactable,c=t.element;r=r||{name:null},e.interactable=s,e.element=c,(0,Re.copyAction)(e.prepared,r),e.rect=s&&r.name?s.getRect(c):null,zi(e,n),n.fire("autoStart:prepared",{interaction:e})}function $n(e,t,n,r){var s=e.options,c=s[n.name].max,h=s[n.name].maxPerElement,u=r.autoStart.maxInteractions,f=0,v=0,y=0;if(!(c&&h&&u))return!1;for(var _=0;_<r.interactions.list.length;_++){var w=r.interactions.list[_],x=w.prepared.name;if(w.interacting()&&(++f>=u||w.interactable===e&&((v+=x===n.name?1:0)>=c||w.element===t&&(y++,x===n.name&&y>=h))))return!1}return u>0}function Ai(e,t){return g.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function zr(e,t,n){var r=n.autoStart.cursorElement;r&&r!==e&&(r.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function zi(e,t){var n=e.interactable,r=e.element,s=e.prepared;if(e.pointerType==="mouse"&&n&&n.options.styleCursor){var c="";if(s.name){var h=n.options[s.name].cursorChecker;c=g.default.func(h)?h(s,n,r,e._interacting):t.actions.map[s.name].getCursor(s)}zr(e.element,c||"",t)}else t.autoStart.cursorElement&&zr(t.autoStart.cursorElement,"",t)}Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.default=void 0;var ss={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(Nn.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,M.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(r){return Ai(r,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:$n,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,r=e.pointer,s=e.event,c=e.eventTarget;n.interacting()||Ii(n,Mi(n,r,s,c,t),t)},"interactions:move":function(e,t){(function(n,r){var s=n.interaction,c=n.pointer,h=n.event,u=n.eventTarget;s.pointerType!=="mouse"||s.pointerIsDown||s.interacting()||Ii(s,Mi(s,c,h,u,r),r)})(e,t),function(n,r){var s=n.interaction;if(s.pointerIsDown&&!s.interacting()&&s.pointerWasMoved&&s.prepared.name){r.fire("autoStart:before-start",n);var c=s.interactable,h=s.prepared.name;h&&c&&(c.options[h].manualStart||!$n(c,s.element,s.prepared,r)?s.stop():(s.start(s.prepared,c,s.element),zi(s,r)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,r=n.interactable;r&&r.options.styleCursor&&zr(n.element,"",t)}},maxInteractions:Ai,withinInteractionLimit:$n,validateAction:Ci},as=ss;Nt.default=as;var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0}),Ln.default=void 0;var ls={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,r=e.eventTarget,s=e.dx,c=e.dy;if(n.prepared.name==="drag"){var h=Math.abs(s),u=Math.abs(c),f=n.interactable.options.drag,v=f.startAxis,y=h>u?"x":h<u?"y":"xy";if(n.prepared.axis=f.lockAxis==="start"?y[0]:f.lockAxis,y!=="xy"&&v!=="xy"&&v!==y){n.prepared.name=null;for(var _=r,w=function(b){if(b!==n.interactable){var S=n.interactable.options.drag;if(!S.manualStart&&b.testIgnoreAllow(S,_,r)){var C=b.getAction(n.downPointer,n.downEvent,n,_);if(C&&C.name==="drag"&&function(P,z){if(!z)return!1;var $=z.options.drag.startAxis;return P==="xy"||$==="xy"||$===P}(y,b)&&Nt.default.validateAction(C,b,_,r,t))return b}}};g.default.element(_);){var x=t.interactables.forEachMatch(_,w);if(x){n.prepared.name="drag",n.interactable=x,n.element=_;break}_=(0,R.parentNode)(_)}}}}}};Ln.default=ls;var Zn={};function Rr(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.default=void 0;var cs={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(Nt.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=Rr(t);n>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;Rr(t)>0&&(t.prepared.name=null)}},getHoldDuration:Rr},ds=cs;Zn.default=ds;var en={};Object.defineProperty(en,"__esModule",{value:!0}),en.default=void 0;var us={id:"auto-start",install:function(e){e.usePlugin(Nt.default),e.usePlugin(Zn.default),e.usePlugin(Ln.default)}};en.default=us;var xt={};function ps(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):g.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function fs(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function Ri(e){var t=e.Interactable;t.prototype.preventDefault=ps,t.prototype.checkAndPreventDefault=function(n){return function(r,s,c){var h=r.options.preventDefault;if(h!=="never")if(h!=="always"){if(s.events.supportsPassive&&/^touch(start|move)$/.test(c.type)){var u=(0,a.getWindow)(c.target).document,f=s.getDocOptions(u);if(!f||!f.events||f.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(c.type)||g.default.element(c.target)&&(0,R.matchesSelector)(c.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||c.preventDefault()}else c.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var r=0;r<e.interactions.list.length;r++){var s=e.interactions.list[r];if(s.element&&(s.element===n.target||(0,R.nodeContains)(s.element,n.target)))return void s.interactable.checkAndPreventDefault(n)}}})}Object.defineProperty(xt,"__esModule",{value:!0}),xt.default=void 0,xt.install=Ri;var hs={id:"core/interactablePreventDefault",install:Ri,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=fs,e},{})};xt.default=hs;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.default=void 0,Dr.default={};var tn,Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(tn||(tn={})),tn.touchAction,tn.boxSizing,tn.noListeners;var gs={id:"dev-tools",install:function(){}};Vn.default=gs;var Et={};Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=function e(t){var n={};for(var r in t){var s=t[r];g.default.plainObject(s)?n[r]=e(s):g.default.array(s)?n[r]=re.from(s):n[r]=s}return n};var kt={};function Di(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,h,u=[],f=!0,v=!1;try{for(s=s.call(n);!(f=(c=s.next()).done)&&(u.push(c.value),!r||u.length!==r);f=!0);}catch(y){v=!0,h=y}finally{try{f||s.return==null||s.return()}finally{if(v)throw h}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ni(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ni(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ni(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ms(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(kt,"__esModule",{value:!0}),kt.default=void 0,kt.getRectOffset=$i;var vs=function(){function e(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,e),ct(this,"states",[]),ct(this,"startOffset",{left:0,right:0,top:0,bottom:0}),ct(this,"startDelta",void 0),ct(this,"result",void 0),ct(this,"endResult",void 0),ct(this,"startEdges",void 0),ct(this,"edges",void 0),ct(this,"interaction",void 0),this.interaction=r,this.result=Bn(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var t,n;return t=e,(n=[{key:"start",value:function(r,s){var c=r.phase,h=this.interaction,u=function(v){var y=v.interactable.options[v.prepared.name],_=y.modifiers;return _&&_.length?_:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(w){var x=y[w];return x&&x.enabled&&{options:x,methods:x._methods}}).filter(function(w){return!!w})}(h);this.prepareStates(u),this.startEdges=(0,M.default)({},h.edges),this.edges=(0,M.default)({},this.startEdges),this.startOffset=$i(h.rect,s),this.startDelta={x:0,y:0};var f=this.fillArg({phase:c,pageCoords:s,preEnd:!1});return this.result=Bn(),this.startAll(f),this.result=this.setAll(f)}},{key:"fillArg",value:function(r){var s=this.interaction;return r.interaction=s,r.interactable=s.interactable,r.element=s.element,r.rect||(r.rect=s.rect),r.edges||(r.edges=this.startEdges),r.startOffset=this.startOffset,r}},{key:"startAll",value:function(r){for(var s=0;s<this.states.length;s++){var c=this.states[s];c.methods.start&&(r.state=c,c.methods.start(r))}}},{key:"setAll",value:function(r){var s=r.phase,c=r.preEnd,h=r.skipModifiers,u=r.rect,f=r.edges;r.coords=(0,M.default)({},r.pageCoords),r.rect=(0,M.default)({},u),r.edges=(0,M.default)({},f);for(var v=h?this.states.slice(h):this.states,y=Bn(r.coords,r.rect),_=0;_<v.length;_++){var w,x=v[_],b=x.options,S=(0,M.default)({},r.coords),C=null;(w=x.methods)!=null&&w.set&&this.shouldDo(b,c,s)&&(r.state=x,C=x.methods.set(r),F.addEdges(r.edges,r.rect,{x:r.coords.x-S.x,y:r.coords.y-S.y})),y.eventProps.push(C)}(0,M.default)(this.edges,r.edges),y.delta.x=r.coords.x-r.pageCoords.x,y.delta.y=r.coords.y-r.pageCoords.y,y.rectDelta.left=r.rect.left-u.left,y.rectDelta.right=r.rect.right-u.right,y.rectDelta.top=r.rect.top-u.top,y.rectDelta.bottom=r.rect.bottom-u.bottom;var P=this.result.coords,z=this.result.rect;if(P&&z){var $=y.rect.left!==z.left||y.rect.right!==z.right||y.rect.top!==z.top||y.rect.bottom!==z.bottom;y.changed=$||P.x!==y.coords.x||P.y!==y.coords.y}return y}},{key:"applyToInteraction",value:function(r){var s=this.interaction,c=r.phase,h=s.coords.cur,u=s.coords.start,f=this.result,v=this.startDelta,y=f.delta;c==="start"&&(0,M.default)(this.startDelta,f.delta);for(var _=0;_<[[u,v],[h,y]].length;_++){var w=Di([[u,v],[h,y]][_],2),x=w[0],b=w[1];x.page.x+=b.x,x.page.y+=b.y,x.client.x+=b.x,x.client.y+=b.y}var S=this.result.rectDelta,C=r.rect||s.rect;C.left+=S.left,C.right+=S.right,C.top+=S.top,C.bottom+=S.bottom,C.width=C.right-C.left,C.height=C.bottom-C.top}},{key:"setAndApply",value:function(r){var s=this.interaction,c=r.phase,h=r.preEnd,u=r.skipModifiers,f=this.setAll(this.fillArg({preEnd:h,phase:c,pageCoords:r.modifiedCoords||s.coords.cur.page}));if(this.result=f,!f.changed&&(!u||u<this.states.length)&&s.interacting())return!1;if(r.modifiedCoords){var v=s.coords.cur.page,y={x:r.modifiedCoords.x-v.x,y:r.modifiedCoords.y-v.y};f.coords.x+=y.x,f.coords.y+=y.y,f.delta.x+=y.x,f.delta.y+=y.y}this.applyToInteraction(r)}},{key:"beforeEnd",value:function(r){var s=r.interaction,c=r.event,h=this.states;if(h&&h.length){for(var u=!1,f=0;f<h.length;f++){var v=h[f];r.state=v;var y=v.options,_=v.methods,w=_.beforeEnd&&_.beforeEnd(r);if(w)return this.endResult=w,!1;u=u||!u&&this.shouldDo(y,!0,r.phase,!0)}u&&s.move({event:c,preEnd:!0})}}},{key:"stop",value:function(r){var s=r.interaction;if(this.states&&this.states.length){var c=(0,M.default)({states:this.states,interactable:s.interactable,element:s.element,rect:null},r);this.fillArg(c);for(var h=0;h<this.states.length;h++){var u=this.states[h];c.state=u,u.methods.stop&&u.methods.stop(c)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(r){this.states=[];for(var s=0;s<r.length;s++){var c=r[s],h=c.options,u=c.methods,f=c.name;this.states.push({options:h,methods:u,index:s,name:f})}return this.states}},{key:"restoreInteractionCoords",value:function(r){var s=r.interaction,c=s.coords,h=s.rect,u=s.modification;if(u.result){for(var f=u.startDelta,v=u.result,y=v.delta,_=v.rectDelta,w=[[c.start,f],[c.cur,y]],x=0;x<w.length;x++){var b=Di(w[x],2),S=b[0],C=b[1];S.page.x-=C.x,S.page.y-=C.y,S.client.x-=C.x,S.client.y-=C.y}h.left-=_.left,h.right-=_.right,h.top-=_.top,h.bottom-=_.bottom}}},{key:"shouldDo",value:function(r,s,c,h){return!(!r||r.enabled===!1||h&&!r.endOnly||r.endOnly&&!s||c==="start"&&!r.setStart)}},{key:"copyFrom",value:function(r){this.startOffset=r.startOffset,this.startDelta=r.startDelta,this.startEdges=r.startEdges,this.edges=r.edges,this.states=r.states.map(function(s){return(0,Et.default)(s)}),this.result=Bn((0,M.default)({},r.result.coords),(0,M.default)({},r.result.rect))}},{key:"destroy",value:function(){for(var r in this)this[r]=null}}])&&ms(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Bn(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function $i(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}kt.default=vs;var Oe={};function Wn(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.addEventModifiers=Wn,Oe.default=void 0,Oe.makeModifier=function(e,t){var n=e.defaults,r={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},s=function(c){var h=c||{};for(var u in h.enabled=h.enabled!==!1,n)u in h||(h[u]=n[u]);var f={options:h,methods:r,name:t,enable:function(){return h.enabled=!0,f},disable:function(){return h.enabled=!1,f}};return f};return t&&typeof t=="string"&&(s._defaults=n,s._methods=r),s};var ys={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new kt.default(t)},"interactions:before-action-start":function(e){var t=e.interaction,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":function(e){var t=e.interaction,n=t.modification,r=n.setAndApply(e);return t.edges=n.edges,r},"interactions:before-action-end":function(e){var t=e.interaction,n=t.modification,r=n.beforeEnd(e);return t.edges=n.startEdges,r},"interactions:action-start":Wn,"interactions:action-move":Wn,"interactions:action-end":Wn,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},_s=ys;Oe.default=_s;var nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.defaults=void 0,nn.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var rn={};function Nr(e){return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e,t){return $r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$r(e,t)}function ws(e,t){if(t&&(Nr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ie(e)}function ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e){return Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fn(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(rn,"__esModule",{value:!0}),rn.InteractEvent=void 0;var Li=function(e){(function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),f&&$r(u,f)})(h,e);var t,n,r,s,c=(r=h,s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var u,f=Fn(r);if(s){var v=Fn(this).constructor;u=Reflect.construct(f,arguments,v)}else u=f.apply(this,arguments);return ws(this,u)});function h(u,f,v,y,_,w,x){var b;(function(se,H){if(!(se instanceof H))throw new TypeError("Cannot call a class as a function")})(this,h),ce(ie(b=c.call(this,u)),"relatedTarget",null),ce(ie(b),"screenX",void 0),ce(ie(b),"screenY",void 0),ce(ie(b),"button",void 0),ce(ie(b),"buttons",void 0),ce(ie(b),"ctrlKey",void 0),ce(ie(b),"shiftKey",void 0),ce(ie(b),"altKey",void 0),ce(ie(b),"metaKey",void 0),ce(ie(b),"page",void 0),ce(ie(b),"client",void 0),ce(ie(b),"delta",void 0),ce(ie(b),"rect",void 0),ce(ie(b),"x0",void 0),ce(ie(b),"y0",void 0),ce(ie(b),"t0",void 0),ce(ie(b),"dt",void 0),ce(ie(b),"duration",void 0),ce(ie(b),"clientX0",void 0),ce(ie(b),"clientY0",void 0),ce(ie(b),"velocity",void 0),ce(ie(b),"speed",void 0),ce(ie(b),"swipe",void 0),ce(ie(b),"axes",void 0),ce(ie(b),"preEnd",void 0),_=_||u.element;var S=u.interactable,C=(S&&S.options||nn.defaults).deltaSource,P=(0,$e.default)(S,_,v),z=y==="start",$=y==="end",U=z?ie(b):u.prevEvent,Q=z?u.coords.start:$?{page:U.page,client:U.client,timeStamp:u.coords.cur.timeStamp}:u.coords.cur;return b.page=(0,M.default)({},Q.page),b.client=(0,M.default)({},Q.client),b.rect=(0,M.default)({},u.rect),b.timeStamp=Q.timeStamp,$||(b.page.x-=P.x,b.page.y-=P.y,b.client.x-=P.x,b.client.y-=P.y),b.ctrlKey=f.ctrlKey,b.altKey=f.altKey,b.shiftKey=f.shiftKey,b.metaKey=f.metaKey,b.button=f.button,b.buttons=f.buttons,b.target=_,b.currentTarget=_,b.preEnd=w,b.type=x||v+(y||""),b.interactable=S,b.t0=z?u.pointers[u.pointers.length-1].downTime:U.t0,b.x0=u.coords.start.page.x-P.x,b.y0=u.coords.start.page.y-P.y,b.clientX0=u.coords.start.client.x-P.x,b.clientY0=u.coords.start.client.y-P.y,b.delta=z||$?{x:0,y:0}:{x:b[C].x-U[C].x,y:b[C].y-U[C].y},b.dt=u.coords.delta.timeStamp,b.duration=b.timeStamp-b.t0,b.velocity=(0,M.default)({},u.coords.velocity[C]),b.speed=(0,q.default)(b.velocity.x,b.velocity.y),b.swipe=$||y==="inertiastart"?b.getSwipe():null,b}return t=h,(n=[{key:"getSwipe",value:function(){var u=this._interaction;if(u.prevEvent.speed<600||this.timeStamp-u.prevEvent.timeStamp>150)return null;var f=180*Math.atan2(u.prevEvent.velocityY,u.prevEvent.velocityX)/Math.PI;f<0&&(f+=360);var v=112.5<=f&&f<247.5,y=202.5<=f&&f<337.5;return{up:y,down:!y&&22.5<=f&&f<157.5,left:v,right:!v&&(292.5<=f||f<67.5),angle:f,speed:u.prevEvent.speed,velocity:{x:u.prevEvent.velocityX,y:u.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&bs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(Ge.BaseEvent);rn.InteractEvent=Li,Object.defineProperties(Li.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var on={};function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xs(e,t,n){return t&&Zi(e.prototype,t),n&&Zi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(on,"__esModule",{value:!0}),on.PointerInfo=void 0;var Es=xs(function e(t,n,r,s,c){(function(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),sn(this,"id",void 0),sn(this,"pointer",void 0),sn(this,"event",void 0),sn(this,"downTime",void 0),sn(this,"downTarget",void 0),this.id=t,this.pointer=n,this.event=r,this.downTime=s,this.downTarget=c});on.PointerInfo=Es;var Un,Gn,Ae={};function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.Interaction=void 0,Object.defineProperty(Ae,"PointerInfo",{enumerable:!0,get:function(){return on.PointerInfo}}),Ae.default=Ae._ProxyValues=Ae._ProxyMethods=void 0,Ae._ProxyValues=Un,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Un||(Ae._ProxyValues=Un={})),Ae._ProxyMethods=Gn,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(Gn||(Ae._ProxyMethods=Gn={}));var Os=0,Vi=function(){function e(r){var s=this,c=r.pointerType,h=r.scopeFire;(function(w,x){if(!(w instanceof x))throw new TypeError("Cannot call a class as a function")})(this,e),fe(this,"interactable",null),fe(this,"element",null),fe(this,"rect",null),fe(this,"_rects",void 0),fe(this,"edges",null),fe(this,"_scopeFire",void 0),fe(this,"prepared",{name:null,axis:null,edges:null}),fe(this,"pointerType",void 0),fe(this,"pointers",[]),fe(this,"downEvent",null),fe(this,"downPointer",{}),fe(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),fe(this,"prevEvent",null),fe(this,"pointerIsDown",!1),fe(this,"pointerWasMoved",!1),fe(this,"_interacting",!1),fe(this,"_ending",!1),fe(this,"_stopped",!0),fe(this,"_proxy",null),fe(this,"simulation",null),fe(this,"doMove",(0,Re.warnOnce)(function(w){this.move(w)},"The interaction.doMove() method has been renamed to interaction.move()")),fe(this,"coords",{start:O.newCoords(),prev:O.newCoords(),cur:O.newCoords(),delta:O.newCoords(),velocity:O.newCoords()}),fe(this,"_id",Os++),this._scopeFire=h,this.pointerType=c;var u=this;this._proxy={};var f=function(w){Object.defineProperty(s._proxy,w,{get:function(){return u[w]}})};for(var v in Un)f(v);var y=function(w){Object.defineProperty(s._proxy,w,{value:function(){return u[w].apply(u,arguments)}})};for(var _ in Gn)y(_);this._scopeFire("interactions:new",{interaction:this})}var t,n;return t=e,n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(r,s,c){var h=this.updatePointer(r,s,c,!0),u=this.pointers[h];this._scopeFire("interactions:down",{pointer:r,event:s,eventTarget:c,pointerIndex:h,pointerInfo:u,type:"down",interaction:this})}},{key:"start",value:function(r,s,c){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(r.name==="gesture"?2:1)||!s.options[r.name].enabled)&&((0,Re.copyAction)(this.prepared,r),this.interactable=s,this.element=c,this.rect=s.getRect(c),this.edges=this.prepared.edges?(0,M.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(r,s,c){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(r,s,c,!1);var h,u,f=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(h=this.coords.cur.client.x-this.coords.start.client.x,u=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,q.default)(h,u)>this.pointerMoveTolerance);var v=this.getPointerIndex(r),y={pointer:r,pointerIndex:v,pointerInfo:this.pointers[v],event:s,type:"move",eventTarget:c,dx:h,dy:u,duplicate:f,interaction:this};f||O.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",y),f||this.simulation||(this.interacting()&&(y.type=null,this.move(y)),this.pointerWasMoved&&O.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(r){r&&r.event||O.setZeroCoords(this.coords.delta),(r=(0,M.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},r||{})).phase="move",this._doPhase(r)}},{key:"pointerUp",value:function(r,s,c,h){var u=this.getPointerIndex(r);u===-1&&(u=this.updatePointer(r,s,c,!1));var f=/cancel$/i.test(s.type)?"cancel":"up";this._scopeFire("interactions:".concat(f),{pointer:r,pointerIndex:u,pointerInfo:this.pointers[u],event:s,eventTarget:c,type:f,curEventTarget:h,interaction:this}),this.simulation||this.end(s),this.removePointer(r,s)}},{key:"documentBlur",value:function(r){this.end(r),this._scopeFire("interactions:blur",{event:r,type:"blur",interaction:this})}},{key:"end",value:function(r){var s;this._ending=!0,r=r||this._latestPointer.event,this.interacting()&&(s=this._doPhase({event:r,interaction:this,phase:"end"})),this._ending=!1,s===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(r){var s=O.getPointerId(r);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:re.findIndex(this.pointers,function(c){return c.id===s})}},{key:"getPointerInfo",value:function(r){return this.pointers[this.getPointerIndex(r)]}},{key:"updatePointer",value:function(r,s,c,h){var u=O.getPointerId(r),f=this.getPointerIndex(r),v=this.pointers[f];return h=h!==!1&&(h||/(down|start)$/i.test(s.type)),v?v.pointer=r:(v=new on.PointerInfo(u,r,s,null,null),f=this.pointers.length,this.pointers.push(v)),O.setCoords(this.coords.cur,this.pointers.map(function(y){return y.pointer}),this._now()),O.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),h&&(this.pointerIsDown=!0,v.downTime=this.coords.cur.timeStamp,v.downTarget=c,O.pointerExtend(this.downPointer,r),this.interacting()||(O.copyCoords(this.coords.start,this.coords.cur),O.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=s,this.pointerWasMoved=!1)),this._updateLatestPointer(r,s,c),this._scopeFire("interactions:update-pointer",{pointer:r,event:s,eventTarget:c,down:h,pointerInfo:v,pointerIndex:f,interaction:this}),f}},{key:"removePointer",value:function(r,s){var c=this.getPointerIndex(r);if(c!==-1){var h=this.pointers[c];this._scopeFire("interactions:remove-pointer",{pointer:r,event:s,eventTarget:null,pointerIndex:c,pointerInfo:h,interaction:this}),this.pointers.splice(c,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(r,s,c){this._latestPointer.pointer=r,this._latestPointer.event=s,this._latestPointer.eventTarget=c}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(r,s,c,h){return new rn.InteractEvent(this,r,this.prepared.name,s,this.element,c,h)}},{key:"_fireEvent",value:function(r){var s;(s=this.interactable)==null||s.fire(r),(!this.prevEvent||r.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=r)}},{key:"_doPhase",value:function(r){var s=r.event,c=r.phase,h=r.preEnd,u=r.type,f=this.rect;if(f&&c==="move"&&(F.addEdges(this.edges,f,this.coords.delta[this.interactable.options.deltaSource]),f.width=f.right-f.left,f.height=f.bottom-f.top),this._scopeFire("interactions:before-action-".concat(c),r)===!1)return!1;var v=r.iEvent=this._createPreparedEvent(s,c,h,u);return this._scopeFire("interactions:action-".concat(c),r),c==="start"&&(this.prevEvent=v),this._fireEvent(v),this._scopeFire("interactions:after-action-".concat(c),r),!0}},{key:"_now",value:function(){return Date.now()}}],n&&ks(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ae.Interaction=Vi;var Ss=Vi;Ae.default=Ss;var dt={};function Bi(e){e.pointerIsDown&&(Zr(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function Wi(e){Lr(e.interaction)}function Lr(e){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(e))return!1;var t=e.offset.pending;return Zr(e.coords.cur,t),Zr(e.coords.delta,t),F.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Ps(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function Zr(e,t){var n=e.page,r=e.client,s=t.x,c=t.y;n.x+=s,n.y+=c,r.x+=s,r.y+=c}Object.defineProperty(dt,"__esModule",{value:!0}),dt.addTotal=Bi,dt.applyPending=Lr,dt.default=void 0,Ae._ProxyMethods.offsetBy="";var Ts={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Ps},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return Bi(e.interaction)},"interactions:before-action-start":Wi,"interactions:before-action-move":Wi,"interactions:before-action-end":function(e){var t=e.interaction;if(Lr(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},js=Ts;dt.default=js;var Ot={};function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.default=Ot.InertiaState=void 0;var Fi=function(){function e(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,e),ke(this,"active",!1),ke(this,"isModified",!1),ke(this,"smoothEnd",!1),ke(this,"allowResume",!1),ke(this,"modification",void 0),ke(this,"modifierCount",0),ke(this,"modifierArg",void 0),ke(this,"startCoords",void 0),ke(this,"t0",0),ke(this,"v0",0),ke(this,"te",0),ke(this,"targetOffset",void 0),ke(this,"modifiedOffset",void 0),ke(this,"currentOffset",void 0),ke(this,"lambda_v0",0),ke(this,"one_ve_v0",0),ke(this,"timeout",void 0),ke(this,"interaction",void 0),this.interaction=r}var t,n;return t=e,(n=[{key:"start",value:function(r){var s=this.interaction,c=Yn(s);if(!c||!c.enabled)return!1;var h=s.coords.velocity.client,u=(0,q.default)(h.x,h.y),f=this.modification||(this.modification=new kt.default(s));if(f.copyFrom(s.modification),this.t0=s._now(),this.allowResume=c.allowResume,this.v0=u,this.currentOffset={x:0,y:0},this.startCoords=s.coords.cur.page,this.modifierArg=f.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-s.coords.cur.timeStamp<50&&u>c.minSpeed&&u>c.endSpeed)this.startInertia();else{if(f.result=f.setAll(this.modifierArg),!f.result.changed)return!1;this.startSmoothEnd()}return s.modification.result.rect=null,s.offsetBy(this.targetOffset),s._doPhase({interaction:s,event:r,phase:"inertiastart"}),s.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),s.modification.result.rect=null,this.active=!0,s.simulation=this,!0}},{key:"startInertia",value:function(){var r=this,s=this.interaction.coords.velocity.client,c=Yn(this.interaction),h=c.resistance,u=-Math.log(c.endSpeed/this.v0)/h;this.targetOffset={x:(s.x-u)/h,y:(s.y-u)/h},this.te=u,this.lambda_v0=h/this.v0,this.one_ve_v0=1-c.endSpeed/this.v0;var f=this.modification,v=this.modifierArg;v.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},f.result=f.setAll(v),f.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+f.result.delta.x,y:this.targetOffset.y+f.result.delta.y}),this.onNextFrame(function(){return r.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var r=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return r.smoothEndTick()})}},{key:"onNextFrame",value:function(r){var s=this;this.timeout=Le.default.request(function(){s.active&&r()})}},{key:"inertiaTick",value:function(){var r,s,c,h,u,f=this,v=this.interaction,y=Yn(v).resistance,_=(v._now()-this.t0)/1e3;if(_<this.te){var w,x=1-(Math.exp(-y*_)-this.lambda_v0)/this.one_ve_v0;this.isModified?(r=this.targetOffset.x,s=this.targetOffset.y,c=this.modifiedOffset.x,h=this.modifiedOffset.y,w={x:Ui(u=x,0,r,c),y:Ui(u,0,s,h)}):w={x:this.targetOffset.x*x,y:this.targetOffset.y*x};var b={x:w.x-this.currentOffset.x,y:w.y-this.currentOffset.y};this.currentOffset.x+=b.x,this.currentOffset.y+=b.y,v.offsetBy(b),v.move(),this.onNextFrame(function(){return f.inertiaTick()})}else v.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var r=this,s=this.interaction,c=s._now()-this.t0,h=Yn(s).smoothEndDuration;if(c<h){var u={x:Gi(c,0,this.targetOffset.x,h),y:Gi(c,0,this.targetOffset.y,h)},f={x:u.x-this.currentOffset.x,y:u.y-this.currentOffset.y};this.currentOffset.x+=f.x,this.currentOffset.y+=f.y,s.offsetBy(f),s.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return r.smoothEndTick()})}else s.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(r){var s=r.pointer,c=r.event,h=r.eventTarget,u=this.interaction;u.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),u.updatePointer(s,c,h,!0),u._doPhase({interaction:u,event:c,phase:"resume"}),(0,O.copyCoords)(u.coords.prev,u.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Le.default.cancel(this.timeout)}}])&&Cs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Yn(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}Ot.InertiaState=Fi;var Ms={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(dt.default),e.usePlugin(Oe.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new Fi(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,r=t.inertia;if(r.active)for(var s=n;g.default.element(s);){if(s===t.element){r.resume(e);break}s=R.parentNode(s)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Oe.addEventModifiers,"interactions:action-inertiastart":Oe.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function Ui(e,t,n,r){var s=1-e;return s*s*t+2*s*e*n+e*e*r}function Gi(e,t,n,r){return-n*(e/=r)*(e-2)+t}var Is=Ms;Ot.default=Is;var an={};function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.immediatePropagationStopped)break;r(e)}}Object.defineProperty(an,"__esModule",{value:!0}),an.Eventable=void 0;var zs=function(){function e(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,e),ln(this,"options",void 0),ln(this,"types",{}),ln(this,"propagationStopped",!1),ln(this,"immediatePropagationStopped",!1),ln(this,"global",void 0),this.options=(0,M.default)({},r||{})}var t,n;return t=e,(n=[{key:"fire",value:function(r){var s,c=this.global;(s=this.types[r.type])&&Yi(r,s),!r.propagationStopped&&c&&(s=c[r.type])&&Yi(r,s)}},{key:"on",value:function(r,s){var c=(0,Fe.default)(r,s);for(r in c)this.types[r]=re.merge(this.types[r]||[],c[r])}},{key:"off",value:function(r,s){var c=(0,Fe.default)(r,s);for(r in c){var h=this.types[r];if(h&&h.length)for(var u=0;u<c[r].length;u++){var f=c[r][u],v=h.indexOf(f);v!==-1&&h.splice(v,1)}}}},{key:"getRect",value:function(r){return null}}])&&As(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();an.Eventable=zs;var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1};var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.createInteractStatic=function(e){var t=function n(r,s){var c=e.interactables.get(r,s);return c||((c=e.interactables.new(r,s)).events.global=n.globalEvents),c};return t.getPointerAverage=O.pointerAverage,t.getTouchBBox=O.touchBBox,t.getTouchDistance=O.touchDistance,t.getTouchAngle=O.touchAngle,t.getElementRect=R.getElementRect,t.getElementClientRect=R.getElementClientRect,t.matchesSelector=R.matchesSelector,t.closest=R.closest,t.globalEvents={},t.version="1.10.18",t.scope=e,t.use=function(n,r){return this.scope.usePlugin(n,r),this},t.isSet=function(n,r){return!!this.scope.interactables.get(n,r&&r.context)},t.on=(0,Re.warnOnce)(function(n,r,s){if(g.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),g.default.array(n)){for(var c=0;c<n.length;c++){var h=n[c];this.on(h,r,s)}return this}if(g.default.object(n)){for(var u in n)this.on(u,n[u],r);return this}return(0,cn.default)(n,this.scope.actions)?this.globalEvents[n]?this.globalEvents[n].push(r):this.globalEvents[n]=[r]:this.scope.events.add(this.scope.document,n,r,{options:s}),this},"The interact.on() method is being deprecated"),t.off=(0,Re.warnOnce)(function(n,r,s){if(g.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),g.default.array(n)){for(var c=0;c<n.length;c++){var h=n[c];this.off(h,r,s)}return this}if(g.default.object(n)){for(var u in n)this.off(u,n[u],r);return this}var f;return(0,cn.default)(n,this.scope.actions)?n in this.globalEvents&&(f=this.globalEvents[n].indexOf(r))!==-1&&this.globalEvents[n].splice(f,1):this.scope.events.remove(this.scope.document,n,r,s),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return ve.default.supportsTouch},t.supportsPointerEvent=function(){return ve.default.supportsPointerEvent},t.stop=function(){for(var n=0;n<this.scope.interactions.list.length;n++)this.scope.interactions.list[n].stop();return this},t.pointerMoveTolerance=function(n){return g.default.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,r){this.scope.addDocument(n,r)},t.removeDocument=function(n){this.scope.removeDocument(n)},t};var qn={};function Rs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(qn,"__esModule",{value:!0}),qn.Interactable=void 0;var Ds=function(){function e(r,s,c,h){(function(u,f){if(!(u instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e),rt(this,"options",void 0),rt(this,"_actions",void 0),rt(this,"target",void 0),rt(this,"events",new an.Eventable),rt(this,"_context",void 0),rt(this,"_win",void 0),rt(this,"_doc",void 0),rt(this,"_scopeEvents",void 0),rt(this,"_rectChecker",void 0),this._actions=s.actions,this.target=r,this._context=s.context||c,this._win=(0,a.getWindow)((0,R.trySelector)(r)?this._context:r),this._doc=this._win.document,this._scopeEvents=h,this.set(s)}var t,n;return t=e,(n=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(r,s){return g.default.func(s.onstart)&&this.on("".concat(r,"start"),s.onstart),g.default.func(s.onmove)&&this.on("".concat(r,"move"),s.onmove),g.default.func(s.onend)&&this.on("".concat(r,"end"),s.onend),g.default.func(s.oninertiastart)&&this.on("".concat(r,"inertiastart"),s.oninertiastart),this}},{key:"updatePerActionListeners",value:function(r,s,c){(g.default.array(s)||g.default.object(s))&&this.off(r,s),(g.default.array(c)||g.default.object(c))&&this.on(r,c)}},{key:"setPerAction",value:function(r,s){var c=this._defaults;for(var h in s){var u=h,f=this.options[r],v=s[u];u==="listeners"&&this.updatePerActionListeners(r,f.listeners,v),g.default.array(v)?f[u]=re.from(v):g.default.plainObject(v)?(f[u]=(0,M.default)(f[u]||{},(0,Et.default)(v)),g.default.object(c.perAction[u])&&"enabled"in c.perAction[u]&&(f[u].enabled=v.enabled!==!1)):g.default.bool(v)&&g.default.object(c.perAction[u])?f[u].enabled=v:f[u]=v}}},{key:"getRect",value:function(r){return r=r||(g.default.element(this.target)?this.target:null),g.default.string(this.target)&&(r=r||this._context.querySelector(this.target)),(0,R.getElementRect)(r)}},{key:"rectChecker",value:function(r){var s=this;return g.default.func(r)?(this._rectChecker=r,this.getRect=function(c){var h=(0,M.default)({},s._rectChecker(c));return"width"in h||(h.width=h.right-h.left,h.height=h.bottom-h.top),h},this):r===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(r,s){if((0,R.trySelector)(s)||g.default.object(s)){for(var c in this.options[r]=s,this._actions.map)this.options[c][r]=s;return this}return this.options[r]}},{key:"origin",value:function(r){return this._backCompatOption("origin",r)}},{key:"deltaSource",value:function(r){return r==="page"||r==="client"?(this.options.deltaSource=r,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(r){return this._context===r.ownerDocument||(0,R.nodeContains)(this._context,r)}},{key:"testIgnoreAllow",value:function(r,s,c){return!this.testIgnore(r.ignoreFrom,s,c)&&this.testAllow(r.allowFrom,s,c)}},{key:"testAllow",value:function(r,s,c){return!r||!!g.default.element(c)&&(g.default.string(r)?(0,R.matchesUpTo)(c,r,s):!!g.default.element(r)&&(0,R.nodeContains)(r,c))}},{key:"testIgnore",value:function(r,s,c){return!(!r||!g.default.element(c))&&(g.default.string(r)?(0,R.matchesUpTo)(c,r,s):!!g.default.element(r)&&(0,R.nodeContains)(r,c))}},{key:"fire",value:function(r){return this.events.fire(r),this}},{key:"_onOff",value:function(r,s,c,h){g.default.object(s)&&!g.default.array(s)&&(h=c,c=null);var u=r==="on"?"add":"remove",f=(0,Fe.default)(s,c);for(var v in f){v==="wheel"&&(v=ve.default.wheelEvent);for(var y=0;y<f[v].length;y++){var _=f[v][y];(0,cn.default)(v,this._actions)?this.events[r](v,_):g.default.string(this.target)?this._scopeEvents["".concat(u,"Delegate")](this.target,this._context,v,_,h):this._scopeEvents[u](this.target,v,_,h)}}return this}},{key:"on",value:function(r,s,c){return this._onOff("on",r,s,c)}},{key:"off",value:function(r,s,c){return this._onOff("off",r,s,c)}},{key:"set",value:function(r){var s=this._defaults;for(var c in g.default.object(r)||(r={}),this.options=(0,Et.default)(s.base),this._actions.methodDict){var h=c,u=this._actions.methodDict[h];this.options[h]={},this.setPerAction(h,(0,M.default)((0,M.default)({},s.perAction),s.actions[h])),this[u](r[h])}for(var f in r)g.default.func(this[f])&&this[f](r[f]);return this}},{key:"unset",value:function(){if(g.default.string(this.target))for(var r in this._scopeEvents.delegatedEvents)for(var s=this._scopeEvents.delegatedEvents[r],c=s.length-1;c>=0;c--){var h=s[c],u=h.selector,f=h.context,v=h.listeners;u===this.target&&f===this._context&&s.splice(c,1);for(var y=v.length-1;y>=0;y--)this._scopeEvents.removeDelegate(this.target,this._context,r,v[y][0],v[y][1])}else this._scopeEvents.remove(this.target,"all")}}])&&Rs(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();qn.Interactable=Ds;var Xn={};function Ns(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Xn,"__esModule",{value:!0}),Xn.InteractableSet=void 0;var $s=function(){function e(r){var s=this;(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,e),Br(this,"list",[]),Br(this,"selectorMap",{}),Br(this,"scope",void 0),this.scope=r,r.addListeners({"interactable:unset":function(c){var h=c.interactable,u=h.target,f=h._context,v=g.default.string(u)?s.selectorMap[u]:u[s.scope.id],y=re.findIndex(v,function(_){return _.context===f});v[y]&&(v[y].context=null,v[y].interactable=null),v.splice(y,1)}})}var t,n;return t=e,(n=[{key:"new",value:function(r,s){s=(0,M.default)(s||{},{actions:this.scope.actions});var c=new this.scope.Interactable(r,s,this.scope.document,this.scope.events),h={context:c._context,interactable:c};return this.scope.addDocument(c._doc),this.list.push(c),g.default.string(r)?(this.selectorMap[r]||(this.selectorMap[r]=[]),this.selectorMap[r].push(h)):(c.target[this.scope.id]||Object.defineProperty(r,this.scope.id,{value:[],configurable:!0}),r[this.scope.id].push(h)),this.scope.fire("interactable:new",{target:r,options:s,interactable:c,win:this.scope._win}),c}},{key:"get",value:function(r,s){var c=s&&s.context||this.scope.document,h=g.default.string(r),u=h?this.selectorMap[r]:r[this.scope.id];if(!u)return null;var f=re.find(u,function(v){return v.context===c&&(h||v.interactable.inContext(r))});return f&&f.interactable}},{key:"forEachMatch",value:function(r,s){for(var c=0;c<this.list.length;c++){var h=this.list[c],u=void 0;if((g.default.string(h.target)?g.default.element(r)&&R.matchesSelector(r,h.target):r===h.target)&&h.inContext(r)&&(u=s(h)),u!==void 0)return u}}}])&&Ns(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Xn.InteractableSet=$s;var Hn={};function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,h,u=[],f=!0,v=!1;try{for(s=s.call(n);!(f=(c=s.next()).done)&&(u.push(c.value),!r||u.length!==r);f=!0);}catch(y){v=!0,h=y}finally{try{f||s.return==null||s.return()}finally{if(v)throw h}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return qi(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?qi(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function qi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.default=void 0;var Zs=function(){function e(r){(function(s,c){if(!(s instanceof c))throw new TypeError("Cannot call a class as a function")})(this,e),Wr(this,"currentTarget",void 0),Wr(this,"originalEvent",void 0),Wr(this,"type",void 0),this.originalEvent=r,(0,Y.default)(this,r)}var t,n;return t=e,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Ls(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function dn(e){if(!g.default.object(e))return{capture:!!e,passive:!1};var t=(0,M.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var Vs={id:"events",install:function(e){var t,n=[],r={},s=[],c={add:h,remove:u,addDelegate:function(y,_,w,x,b){var S=dn(b);if(!r[w]){r[w]=[];for(var C=0;C<s.length;C++){var P=s[C];h(P,w,f),h(P,w,v,!0)}}var z=r[w],$=re.find(z,function(U){return U.selector===y&&U.context===_});$||($={selector:y,context:_,listeners:[]},z.push($)),$.listeners.push([x,S])},removeDelegate:function(y,_,w,x,b){var S,C=dn(b),P=r[w],z=!1;if(P)for(S=P.length-1;S>=0;S--){var $=P[S];if($.selector===y&&$.context===_){for(var U=$.listeners,Q=U.length-1;Q>=0;Q--){var se=Fr(U[Q],2),H=se[0],oe=se[1],Ne=oe.capture,ot=oe.passive;if(H===x&&Ne===C.capture&&ot===C.passive){U.splice(Q,1),U.length||(P.splice(S,1),u(_,w,f),u(_,w,v,!0)),z=!0;break}}if(z)break}}},delegateListener:f,delegateUseCapture:v,delegatedEvents:r,documents:s,targets:n,supportsOptions:!1,supportsPassive:!1};function h(y,_,w,x){var b=dn(x),S=re.find(n,function(C){return C.eventTarget===y});S||(S={eventTarget:y,events:{}},n.push(S)),S.events[_]||(S.events[_]=[]),y.addEventListener&&!re.contains(S.events[_],w)&&(y.addEventListener(_,w,c.supportsOptions?b:b.capture),S.events[_].push(w))}function u(y,_,w,x){var b=dn(x),S=re.findIndex(n,function(Q){return Q.eventTarget===y}),C=n[S];if(C&&C.events)if(_!=="all"){var P=!1,z=C.events[_];if(z){if(w==="all"){for(var $=z.length-1;$>=0;$--)u(y,_,z[$],b);return}for(var U=0;U<z.length;U++)if(z[U]===w){y.removeEventListener(_,w,c.supportsOptions?b:b.capture),z.splice(U,1),z.length===0&&(delete C.events[_],P=!0);break}}P&&!Object.keys(C.events).length&&n.splice(S,1)}else for(_ in C.events)C.events.hasOwnProperty(_)&&u(y,_,"all")}function f(y,_){for(var w=dn(_),x=new Zs(y),b=r[y.type],S=Fr(O.getEventTargets(y),1)[0],C=S;g.default.element(C);){for(var P=0;P<b.length;P++){var z=b[P],$=z.selector,U=z.context;if(R.matchesSelector(C,$)&&R.nodeContains(U,S)&&R.nodeContains(U,C)){var Q=z.listeners;x.currentTarget=C;for(var se=0;se<Q.length;se++){var H=Fr(Q[se],2),oe=H[0],Ne=H[1],ot=Ne.capture,li=Ne.passive;ot===w.capture&&li===w.passive&&oe(x)}}}C=R.parentNode(C)}}function v(y){return f(y,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return c.supportsOptions=!0},get passive(){return c.supportsPassive=!0}}),e.events=c,c}};Hn.default=Vs;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.default=void 0;var Jn={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Jn.methodOrder.length;t++){var n;n=Jn.methodOrder[t];var r=Jn[n](e);if(r)return r}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,r=e.eventTarget,s=e.scope;if(!/down|start/i.test(n))return null;for(var c=0;c<s.interactions.list.length;c++){var h=s.interactions.list[c],u=r;if(h.simulation&&h.simulation.allowResume&&h.pointerType===t)for(;u;){if(u===h.element)return h;u=R.parentNode(u)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,r=e.pointerType,s=e.eventType,c=e.scope;if(r!=="mouse"&&r!=="pen")return null;for(var h=0;h<c.interactions.list.length;h++){var u=c.interactions.list[h];if(u.pointerType===r){if(u.simulation&&!Xi(u,n))continue;if(u.interacting())return u;t||(t=u)}}if(t)return t;for(var f=0;f<c.interactions.list.length;f++){var v=c.interactions.list[f];if(!(v.pointerType!==r||/down/i.test(s)&&v.simulation))return v}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,r=0;r<n.interactions.list.length;r++){var s=n.interactions.list[r];if(Xi(s,t))return s}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,r=0;r<n.interactions.list.length;r++){var s=n.interactions.list[r];if(s.pointers.length===1){var c=s.interactable;if(c&&(!c.options.gesture||!c.options.gesture.enabled))continue}else if(s.pointers.length>=2)continue;if(!s.interacting()&&t===s.pointerType)return s}return null}};function Xi(e,t){return e.pointers.some(function(n){return n.id===t})}var Bs=Jn;Kn.default=Bs;var Qn={};function Ur(e){return Ur=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ur(e)}function Hi(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,h,u=[],f=!0,v=!1;try{for(s=s.call(n);!(f=(c=s.next()).done)&&(u.push(c.value),!r||u.length!==r);f=!0);}catch(y){v=!0,h=y}finally{try{f||s.return==null||s.return()}finally{if(v)throw h}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return Ki(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Ki(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ki(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ws(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gr(e,t){return Gr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Gr(e,t)}function Us(e,t){if(t&&(Ur(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function er(e){return er=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},er(e)}Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.default=void 0;var Yr=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ji(e,t){return function(n){var r=t.interactions.list,s=O.getPointerType(n),c=Hi(O.getEventTargets(n),2),h=c[0],u=c[1],f=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var v=0;v<n.changedTouches.length;v++){var y=n.changedTouches[v],_={pointer:y,pointerId:O.getPointerId(y),pointerType:s,eventType:n.type,eventTarget:h,curEventTarget:u,scope:t},w=Qi(_);f.push([_.pointer,_.eventTarget,_.curEventTarget,w])}}else{var x=!1;if(!ve.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var b=0;b<r.length&&!x;b++)x=r[b].pointerType!=="mouse"&&r[b].pointerIsDown;x=x||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!x){var S={pointer:n,pointerId:O.getPointerId(n),pointerType:s,eventType:n.type,curEventTarget:u,eventTarget:h,scope:t},C=Qi(S);f.push([S.pointer,S.eventTarget,S.curEventTarget,C])}}for(var P=0;P<f.length;P++){var z=Hi(f[P],4),$=z[0],U=z[1],Q=z[2];z[3][e]($,n,U,Q)}}}function Qi(e){var t=e.pointerType,n=e.scope,r={interaction:Kn.default.search(e),searchDetails:e};return n.fire("interactions:find",r),r.interaction||n.interactions.new({pointerType:t})}function qr(e,t){var n=e.doc,r=e.scope,s=e.options,c=r.interactions.docEvents,h=r.events,u=h[t];for(var f in r.browser.isIOS&&!s.events&&(s.events={passive:!1}),h.delegatedEvents)u(n,f,h.delegateListener),u(n,f,h.delegateUseCapture,!0);for(var v=s&&s.events,y=0;y<c.length;y++){var _=c[y];u(n,_.type,_.listener,v)}}var Gs={id:"core/interactions",install:function(e){for(var t={},n=0;n<Yr.length;n++){var r=Yr[n];t[r]=Ji(r,e)}var s,c=ve.default.pEventTypes;function h(){for(var u=0;u<e.interactions.list.length;u++){var f=e.interactions.list[u];if(f.pointerIsDown&&f.pointerType==="touch"&&!f._interacting)for(var v=function(){var _=f.pointers[y];e.documents.some(function(w){var x=w.doc;return(0,R.nodeContains)(x,_.downTarget)})||f.removePointer(_.pointer,_.event)},y=0;y<f.pointers.length;y++)v()}}(s=K.default.PointerEvent?[{type:c.down,listener:h},{type:c.down,listener:t.pointerDown},{type:c.move,listener:t.pointerMove},{type:c.up,listener:t.pointerUp},{type:c.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:h},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(u){for(var f=0;f<e.interactions.list.length;f++)e.interactions.list[f].documentBlur(u)}}),e.prevTouchTime=0,e.Interaction=function(u){(function(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),S&&Gr(b,S)})(x,u);var f,v,y,_,w=(y=x,_=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var b,S=er(y);if(_){var C=er(this).constructor;b=Reflect.construct(S,arguments,C)}else b=S.apply(this,arguments);return Us(this,b)});function x(){return Ws(this,x),w.apply(this,arguments)}return f=x,(v=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(b){e.interactions.pointerMoveTolerance=b}},{key:"_now",value:function(){return e.now()}}])&&Fs(f.prototype,v),Object.defineProperty(f,"prototype",{writable:!1}),x}(Ae.default),e.interactions={list:[],new:function(u){u.scopeFire=function(v,y){return e.fire(v,y)};var f=new e.Interaction(u);return e.interactions.list.push(f),f},listeners:t,docEvents:s,pointerMoveTolerance:1},e.usePlugin(xt.default)},listeners:{"scope:add-document":function(e){return qr(e,"add")},"scope:remove-document":function(e){return qr(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,r=t.interactions.list.length-1;r>=0;r--){var s=t.interactions.list[r];s.interactable===n&&(s.stop(),t.fire("interactions:destroy",{interaction:s}),s.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(r,1))}}},onDocSignal:qr,doOnInteractions:Ji,methodNames:Yr},Ys=Gs;Qn.default=Ys;var un={};function Xr(e){return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(e)}function pn(){return pn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=qs(e,t);if(r){var s=Object.getOwnPropertyDescriptor(r,t);return s.get?s.get.call(arguments.length<3?e:n):s.value}},pn.apply(this,arguments)}function qs(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ut(e))!==null;);return e}function Hr(e,t){return Hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Hr(e,t)}function Xs(e,t){if(t&&(Xr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ut(e)}function eo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function to(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function no(e,t,n){return t&&to(e.prototype,t),n&&to(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(un,"__esModule",{value:!0}),un.Scope=void 0,un.initScope=ro;var Hs=function(){function e(){var t=this;eo(this,e),Se(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),Se(this,"isInitialized",!1),Se(this,"listenerMaps",[]),Se(this,"browser",ve.default),Se(this,"defaults",(0,Et.default)(nn.defaults)),Se(this,"Eventable",an.Eventable),Se(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),Se(this,"interactStatic",(0,Vr.createInteractStatic)(this)),Se(this,"InteractEvent",rn.InteractEvent),Se(this,"Interactable",void 0),Se(this,"interactables",new Xn.InteractableSet(this)),Se(this,"_win",void 0),Se(this,"document",void 0),Se(this,"window",void 0),Se(this,"documents",[]),Se(this,"_plugins",{list:[],map:{}}),Se(this,"onWindowUnload",function(r){return t.removeDocument(r.target)});var n=this;this.Interactable=function(r){(function(f,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(v&&v.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),Object.defineProperty(f,"prototype",{writable:!1}),v&&Hr(f,v)})(u,r);var s,c,h=(s=u,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var f,v=ut(s);if(c){var y=ut(this).constructor;f=Reflect.construct(v,arguments,y)}else f=v.apply(this,arguments);return Xs(this,f)});function u(){return eo(this,u),h.apply(this,arguments)}return no(u,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(f){return pn(ut(u.prototype),"set",this).call(this,f),n.fire("interactable:set",{options:f,interactable:this}),this}},{key:"unset",value:function(){pn(ut(u.prototype),"unset",this).call(this);var f=n.interactables.list.indexOf(this);f<0||(pn(ut(u.prototype),"unset",this).call(this),n.interactables.list.splice(f,1),n.fire("interactable:unset",{interactable:this}))}}]),u}(qn.Interactable)}return no(e,[{key:"addListeners",value:function(t,n){this.listenerMaps.push({id:n,map:t})}},{key:"fire",value:function(t,n){for(var r=0;r<this.listenerMaps.length;r++){var s=this.listenerMaps[r].map[t];if(s&&s(n,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:ro(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){for(var r=0,s=this.listenerMaps.length,c=t.before.reduce(function(u,f){return u[f]=!0,u[io(f)]=!0,u},{});r<s;r++){var h=this.listenerMaps[r].id;if(c[h]||c[io(h)])break}this.listenerMaps.splice(r,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,n){if(this.getDocIndex(t)!==-1)return!1;var r=a.getWindow(t);n=n?(0,M.default)({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(r,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:r,scope:this,options:n})}},{key:"removeDocument",value:function(t){var n=this.getDocIndex(t),r=a.getWindow(t),s=this.documents[n].options;this.events.remove(r,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:r,scope:this,options:s})}},{key:"getDocIndex",value:function(t){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}},{key:"getDocOptions",value:function(t){var n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function ro(e,t){return e.isInitialized=!0,g.default.window(t)&&a.init(t),K.default.init(t),ve.default.init(t),Le.default.init(t),e.window=t,e.document=t.document,e.usePlugin(Qn.default),e.usePlugin(Hn.default),e}function io(e){return e&&e.replace(/\/.*$/,"")}un.Scope=Hs;var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.default=void 0;var oo=new un.Scope,Ks=oo.interactStatic;Te.default=Ks;var Js=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;oo.init(Js);var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0,tr.default=function(){};var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=void 0,nr.default=function(){};var rr={};function so(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var c,h,u=[],f=!0,v=!1;try{for(s=s.call(n);!(f=(c=s.next()).done)&&(u.push(c.value),!r||u.length!==r);f=!0);}catch(y){v=!0,h=y}finally{try{f||s.return==null||s.return()}finally{if(v)throw h}}return u}}(e,t)||function(n,r){if(n){if(typeof n=="string")return ao(n,r);var s=Object.prototype.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?ao(n,r):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ao(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=void 0,rr.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(r){var s=so(r,2),c=s[0],h=s[1];return c in e||h in e}),n=function(r,s){for(var c=e.range,h=e.limits,u=h===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:h,f=e.offset,v=f===void 0?{x:0,y:0}:f,y={range:c,grid:e,x:null,y:null},_=0;_<t.length;_++){var w=so(t[_],2),x=w[0],b=w[1],S=Math.round((r-v.x)/e[x]),C=Math.round((s-v.y)/e[b]);y[x]=Math.max(u.left,Math.min(u.right,S*e[x]+v.x)),y[b]=Math.max(u.top,Math.min(u.bottom,C*e[b]+v.y))}return y};return n.grid=e,n.coordFields=t,n};var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),Object.defineProperty(fn,"edgeTarget",{enumerable:!0,get:function(){return tr.default}}),Object.defineProperty(fn,"elements",{enumerable:!0,get:function(){return nr.default}}),Object.defineProperty(fn,"grid",{enumerable:!0,get:function(){return rr.default}});var ir={};Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0;var Qs={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,M.default)(t.snappers||{},fn),t.createSnapGrid=t.snappers.grid}},ea=Qs;ir.default=ea;var $t={};function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lo(Object(n),!0).forEach(function(r){ta(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty($t,"__esModule",{value:!0}),$t.default=$t.aspectRatio=void 0;var co={start:function(e){var t=e.state,n=e.rect,r=e.edges,s=e.pageCoords,c=t.options,h=c.ratio,u=c.enabled,f=t.options,v=f.equalDelta,y=f.modifiers;h==="preserve"&&(h=n.width/n.height),t.startCoords=(0,M.default)({},s),t.startRect=(0,M.default)({},n),t.ratio=h,t.equalDelta=v;var _=t.linkedEdges={top:r.top||r.left&&!r.bottom,left:r.left||r.top&&!r.right,bottom:r.bottom||r.right&&!r.top,right:r.right||r.bottom&&!r.left};if(t.xIsPrimaryAxis=!(!r.left&&!r.right),t.equalDelta){var w=(_.left?1:-1)*(_.top?1:-1);t.edgeSign={x:w,y:w}}else t.edgeSign={x:_.left?-1:1,y:_.top?-1:1};if(u!==!1&&(0,M.default)(r,_),y!=null&&y.length){var x=new kt.default(e.interaction);x.copyFrom(e.interaction.modification),x.prepareStates(y),t.subModification=x,x.startAll(Kr({},e))}},set:function(e){var t=e.state,n=e.rect,r=e.coords,s=t.linkedEdges,c=(0,M.default)({},r),h=t.equalDelta?na:ra;if((0,M.default)(e.edges,s),h(t,t.xIsPrimaryAxis,r,n),!t.subModification)return null;var u=(0,M.default)({},n);(0,F.addEdges)(s,u,{x:r.x-c.x,y:r.y-c.y});var f=t.subModification.setAll(Kr(Kr({},e),{},{rect:u,edges:s,pageCoords:r,prevCoords:r,prevRect:u})),v=f.delta;return f.changed&&(h(t,Math.abs(v.x)>Math.abs(v.y),f.coords,f.rect),(0,M.default)(r,f.coords)),f.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function na(e,t,n){var r=e.startCoords,s=e.edgeSign;t?n.y=r.y+(n.x-r.x)*s.y:n.x=r.x+(n.y-r.y)*s.x}function ra(e,t,n,r){var s=e.startRect,c=e.startCoords,h=e.ratio,u=e.edgeSign;if(t){var f=r.width/h;n.y=c.y+(f-s.height)*u.y}else{var v=r.height*h;n.x=c.x+(v-s.width)*u.x}}$t.aspectRatio=co;var ia=(0,Oe.makeModifier)(co,"aspectRatio");$t.default=ia;var St={};Object.defineProperty(St,"__esModule",{value:!0}),St.default=void 0;var uo=function(){};uo._defaults={};var oa=uo;St.default=oa;var Jr={};Object.defineProperty(Jr,"__esModule",{value:!0}),Object.defineProperty(Jr,"default",{enumerable:!0,get:function(){return St.default}});var Ce={};function Qr(e,t,n){return g.default.func(e)?F.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):F.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.default=void 0,Ce.getRestrictionRect=Qr,Ce.restrict=void 0;var po={start:function(e){var t=e.rect,n=e.startOffset,r=e.state,s=e.interaction,c=e.pageCoords,h=r.options,u=h.elementRect,f=(0,M.default)({left:0,top:0,right:0,bottom:0},h.offset||{});if(t&&u){var v=Qr(h.restriction,s,c);if(v){var y=v.right-v.left-t.width,_=v.bottom-v.top-t.height;y<0&&(f.left+=y,f.right+=y),_<0&&(f.top+=_,f.bottom+=_)}f.left+=n.left-t.width*u.left,f.top+=n.top-t.height*u.top,f.right+=n.right-t.width*(1-u.right),f.bottom+=n.bottom-t.height*(1-u.bottom)}r.offset=f},set:function(e){var t=e.coords,n=e.interaction,r=e.state,s=r.options,c=r.offset,h=Qr(s.restriction,n,t);if(h){var u=F.xywhToTlbr(h);t.x=Math.max(Math.min(u.right-c.right,t.x),u.left+c.left),t.y=Math.max(Math.min(u.bottom-c.bottom,t.y),u.top+c.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Ce.restrict=po;var sa=(0,Oe.makeModifier)(po,"restrict");Ce.default=sa;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.restrictEdges=Ye.default=void 0;var fo={top:1/0,left:1/0,bottom:-1/0,right:-1/0},ho={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function go(e,t){for(var n=["top","left","bottom","right"],r=0;r<n.length;r++){var s=n[r];s in e||(e[s]=t[s])}return e}var mo={noInner:fo,noOuter:ho,start:function(e){var t,n=e.interaction,r=e.startOffset,s=e.state,c=s.options;if(c){var h=(0,Ce.getRestrictionRect)(c.offset,n,n.coords.start.page);t=F.rectToXY(h)}t=t||{x:0,y:0},s.offset={top:t.y+r.top,left:t.x+r.left,bottom:t.y-r.bottom,right:t.x-r.right}},set:function(e){var t=e.coords,n=e.edges,r=e.interaction,s=e.state,c=s.offset,h=s.options;if(n){var u=(0,M.default)({},t),f=(0,Ce.getRestrictionRect)(h.inner,r,u)||{},v=(0,Ce.getRestrictionRect)(h.outer,r,u)||{};go(f,fo),go(v,ho),n.top?t.y=Math.min(Math.max(v.top+c.top,u.y),f.top+c.top):n.bottom&&(t.y=Math.max(Math.min(v.bottom+c.bottom,u.y),f.bottom+c.bottom)),n.left?t.x=Math.min(Math.max(v.left+c.left,u.x),f.left+c.left):n.right&&(t.x=Math.max(Math.min(v.right+c.right,u.x),f.right+c.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Ye.restrictEdges=mo;var aa=(0,Oe.makeModifier)(mo,"restrictEdges");Ye.default=aa;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.restrictRect=Lt.default=void 0;var la=(0,M.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Ce.restrict.defaults),vo={start:Ce.restrict.start,set:Ce.restrict.set,defaults:la};Lt.restrictRect=vo;var ca=(0,Oe.makeModifier)(vo,"restrictRect");Lt.default=ca;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.restrictSize=Zt.default=void 0;var da={width:-1/0,height:-1/0},ua={width:1/0,height:1/0},yo={start:function(e){return Ye.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,r=e.rect,s=e.edges,c=n.options;if(s){var h=F.tlbrToXywh((0,Ce.getRestrictionRect)(c.min,t,e.coords))||da,u=F.tlbrToXywh((0,Ce.getRestrictionRect)(c.max,t,e.coords))||ua;n.options={endOnly:c.endOnly,inner:(0,M.default)({},Ye.restrictEdges.noInner),outer:(0,M.default)({},Ye.restrictEdges.noOuter)},s.top?(n.options.inner.top=r.bottom-h.height,n.options.outer.top=r.bottom-u.height):s.bottom&&(n.options.inner.bottom=r.top+h.height,n.options.outer.bottom=r.top+u.height),s.left?(n.options.inner.left=r.right-h.width,n.options.outer.left=r.right-u.width):s.right&&(n.options.inner.right=r.left+h.width,n.options.outer.right=r.left+u.width),Ye.restrictEdges.set(e),n.options=c}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Zt.restrictSize=yo;var pa=(0,Oe.makeModifier)(yo,"restrictSize");Zt.default=pa;var ei={};Object.defineProperty(ei,"__esModule",{value:!0}),Object.defineProperty(ei,"default",{enumerable:!0,get:function(){return St.default}});var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.snap=pt.default=void 0;var _o={start:function(e){var t,n=e.interaction,r=e.interactable,s=e.element,c=e.rect,h=e.state,u=e.startOffset,f=h.options,v=f.offsetWithOrigin?function(w){var x=w.interaction.element;return(0,F.rectToXY)((0,F.resolveRectLike)(w.state.options.origin,null,null,[x]))||(0,$e.default)(w.interactable,x,w.interaction.prepared.name)}(e):{x:0,y:0};if(f.offset==="startCoords")t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var y=(0,F.resolveRectLike)(f.offset,r,s,[n]);(t=(0,F.rectToXY)(y)||{x:0,y:0}).x+=v.x,t.y+=v.y}var _=f.relativePoints;h.offsets=c&&_&&_.length?_.map(function(w,x){return{index:x,relativePoint:w,x:u.left-c.width*w.x+t.x,y:u.top-c.height*w.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,r=e.state,s=r.options,c=r.offsets,h=(0,$e.default)(t.interactable,t.element,t.prepared.name),u=(0,M.default)({},n),f=[];s.offsetWithOrigin||(u.x-=h.x,u.y-=h.y);for(var v=0;v<c.length;v++)for(var y=c[v],_=u.x-y.x,w=u.y-y.y,x=0,b=s.targets.length;x<b;x++){var S,C=s.targets[x];(S=g.default.func(C)?C(_,w,t._proxy,y,x):C)&&f.push({x:(g.default.number(S.x)?S.x:_)+y.x,y:(g.default.number(S.y)?S.y:w)+y.y,range:g.default.number(S.range)?S.range:s.range,source:C,index:x,offset:y})}for(var P={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},z=0;z<f.length;z++){var $=f[z],U=$.range,Q=$.x-u.x,se=$.y-u.y,H=(0,q.default)(Q,se),oe=H<=U;U===1/0&&P.inRange&&P.range!==1/0&&(oe=!1),P.target&&!(oe?P.inRange&&U!==1/0?H/U<P.distance/P.range:U===1/0&&P.range!==1/0||H<P.distance:!P.inRange&&H<P.distance)||(P.target=$,P.distance=H,P.range=U,P.inRange=oe,P.delta.x=Q,P.delta.y=se)}return P.inRange&&(n.x=P.target.x,n.y=P.target.y),r.closest=P,P},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};pt.snap=_o;var fa=(0,Oe.makeModifier)(_o,"snap");pt.default=fa;var it={};function bo(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(it,"__esModule",{value:!0}),it.snapSize=it.default=void 0;var wo={start:function(e){var t=e.state,n=e.edges,r=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:r.offset||"self",origin:{x:0,y:0},range:r.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],pt.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,n,r=e.interaction,s=e.state,c=e.coords,h=s.options,u=s.offsets,f={x:c.x-u[0].x,y:c.y-u[0].y};s.options=(0,M.default)({},h),s.options.targets=[];for(var v=0;v<(h.targets||[]).length;v++){var y=(h.targets||[])[v],_=void 0;if(_=g.default.func(y)?y(f.x,f.y,r):y){for(var w=0;w<s.targetFields.length;w++){var x=(t=s.targetFields[w],n=2,function(P){if(Array.isArray(P))return P}(t)||function(P,z){var $=P==null?null:typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if($!=null){var U,Q,se=[],H=!0,oe=!1;try{for($=$.call(P);!(H=(U=$.next()).done)&&(se.push(U.value),!z||se.length!==z);H=!0);}catch(Ne){oe=!0,Q=Ne}finally{try{H||$.return==null||$.return()}finally{if(oe)throw Q}}return se}}(t,n)||function(P,z){if(P){if(typeof P=="string")return bo(P,z);var $=Object.prototype.toString.call(P).slice(8,-1);return $==="Object"&&P.constructor&&($=P.constructor.name),$==="Map"||$==="Set"?Array.from(P):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?bo(P,z):void 0}}(t,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),b=x[0],S=x[1];if(b in _||S in _){_.x=_[b],_.y=_[S];break}}s.options.targets.push(_)}}var C=pt.snap.set(e);return s.options=h,C},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};it.snapSize=wo;var ha=(0,Oe.makeModifier)(wo,"snapSize");it.default=ha;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.snapEdges=Vt.default=void 0;var xo={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],it.snapSize.start(e)):null},set:it.snapSize.set,defaults:(0,M.default)((0,Et.default)(it.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};Vt.snapEdges=xo;var ga=(0,Oe.makeModifier)(xo,"snapEdges");Vt.default=ga;var ti={};Object.defineProperty(ti,"__esModule",{value:!0}),Object.defineProperty(ti,"default",{enumerable:!0,get:function(){return St.default}});var ni={};Object.defineProperty(ni,"__esModule",{value:!0}),Object.defineProperty(ni,"default",{enumerable:!0,get:function(){return St.default}});var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.default=void 0;var ma={aspectRatio:$t.default,restrictEdges:Ye.default,restrict:Ce.default,restrictRect:Lt.default,restrictSize:Zt.default,snapEdges:Vt.default,snap:pt.default,snapSize:it.default,spring:ti.default,avoid:Jr.default,transform:ni.default,rubberband:ei.default};Bt.default=ma;var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.default=void 0;var va={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(Oe.default),e.usePlugin(ir.default),t.modifiers=Bt.default,Bt.default){var r=Bt.default[n],s=r._defaults,c=r._methods;s._methods=c,e.defaults.perAction[n]=s}}},ya=va;hn.default=ya;var Pt={};function ri(e){return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(e)}function _a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ii(e,t)}function ba(e,t){if(t&&(ri(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oi(e)}function oi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(e){return or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},or(e)}Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=Pt.PointerEvent=void 0;var wa=function(e){(function(u,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(f&&f.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),f&&ii(u,f)})(h,e);var t,n,r,s,c=(r=h,s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var u,f=or(r);if(s){var v=or(this).constructor;u=Reflect.construct(f,arguments,v)}else u=f.apply(this,arguments);return ba(this,u)});function h(u,f,v,y,_,w){var x;if(function(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}(this,h),x=c.call(this,_),O.pointerExtend(oi(x),v),v!==f&&O.pointerExtend(oi(x),f),x.timeStamp=w,x.originalEvent=v,x.type=u,x.pointerId=O.getPointerId(f),x.pointerType=O.getPointerType(f),x.target=y,x.currentTarget=null,u==="tap"){var b=_.getPointerIndex(f);x.dt=x.timeStamp-_.pointers[b].downTime;var S=x.timeStamp-_.tapTime;x.double=!!_.prevTap&&_.prevTap.type!=="doubletap"&&_.prevTap.target===x.target&&S<500}else u==="doubletap"&&(x.dt=f.timeStamp-_.tapTime,x.double=!0);return x}return t=h,(n=[{key:"_subtractOrigin",value:function(u){var f=u.x,v=u.y;return this.pageX-=f,this.pageY-=v,this.clientX-=f,this.clientY-=v,this}},{key:"_addOrigin",value:function(u){var f=u.x,v=u.y;return this.pageX+=f,this.pageY+=v,this.clientX+=f,this.clientY+=v,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&_a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),h}(Ge.BaseEvent);Pt.PointerEvent=Pt.default=wa;var gn={};Object.defineProperty(gn,"__esModule",{value:!0}),gn.default=void 0;var sr={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=sr,e.defaults.actions.pointerEvents=sr.defaults,(0,M.default)(e.actions.phaselessTypes,sr.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,r=e.pointer,s=e.event,c=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&si(e),ft({interaction:n,pointer:r,event:s,eventTarget:c,type:"move"},t))},"interactions:down":function(e,t){(function(n,r){for(var s=n.interaction,c=n.pointer,h=n.event,u=n.eventTarget,f=n.pointerIndex,v=s.pointers[f].hold,y=R.getPath(u),_={interaction:s,pointer:c,event:h,eventTarget:u,type:"hold",targets:[],path:y,node:null},w=0;w<y.length;w++){var x=y[w];_.node=x,r.fire("pointerEvents:collect-targets",_)}if(_.targets.length){for(var b=1/0,S=0;S<_.targets.length;S++){var C=_.targets[S].eventable.options.holdDuration;C<b&&(b=C)}v.duration=b,v.timeout=setTimeout(function(){ft({interaction:s,eventTarget:u,pointer:c,event:h,type:"hold"},r)},b)}})(e,t),ft(e,t)},"interactions:up":function(e,t){si(e),ft(e,t),function(n,r){var s=n.interaction,c=n.pointer,h=n.event,u=n.eventTarget;s.pointerWasMoved||ft({interaction:s,eventTarget:u,pointer:c,event:h,type:"tap"},r)}(e,t)},"interactions:cancel":function(e,t){si(e),ft(e,t)}},PointerEvent:Pt.PointerEvent,fire:ft,collectEventTargets:Eo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ft(e,t){var n=e.interaction,r=e.pointer,s=e.event,c=e.eventTarget,h=e.type,u=e.targets,f=u===void 0?Eo(e,t):u,v=new Pt.PointerEvent(h,r,s,c,n,t.now());t.fire("pointerEvents:new",{pointerEvent:v});for(var y={interaction:n,pointer:r,event:s,eventTarget:c,targets:f,type:h,pointerEvent:v},_=0;_<f.length;_++){var w=f[_];for(var x in w.props||{})v[x]=w.props[x];var b=(0,$e.default)(w.eventable,w.node);if(v._subtractOrigin(b),v.eventable=w.eventable,v.currentTarget=w.node,w.eventable.fire(v),v._addOrigin(b),v.immediatePropagationStopped||v.propagationStopped&&_+1<f.length&&f[_+1].node!==v.currentTarget)break}if(t.fire("pointerEvents:fired",y),h==="tap"){var S=v.double?ft({interaction:n,pointer:r,event:s,eventTarget:c,type:"doubletap"},t):v;n.prevTap=S,n.tapTime=S.timeStamp}return v}function Eo(e,t){var n=e.interaction,r=e.pointer,s=e.event,c=e.eventTarget,h=e.type,u=n.getPointerIndex(r),f=n.pointers[u];if(h==="tap"&&(n.pointerWasMoved||!f||f.downTarget!==c))return[];for(var v=R.getPath(c),y={interaction:n,pointer:r,event:s,eventTarget:c,type:h,path:v,targets:[],node:null},_=0;_<v.length;_++){var w=v[_];y.node=w,t.fire("pointerEvents:collect-targets",y)}return h==="hold"&&(y.targets=y.targets.filter(function(x){var b;return x.eventable.options.holdDuration===((b=n.pointers[u])==null?void 0:b.hold.duration)})),y.targets}function si(e){var t=e.interaction,n=e.pointerIndex,r=t.pointers[n].hold;r&&r.timeout&&(clearTimeout(r.timeout),r.timeout=null)}var xa=sr;gn.default=xa;var ar={};function Ea(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var ka={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(gn.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Ea,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,r=e.pointerEvent,s=e.eventTarget,c=e.targets;if(r.type==="hold"&&c.length){var h=c[0].eventable.options.holdRepeatInterval;h<=0||(n.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:n,eventTarget:s,type:"hold",pointer:r,event:r},t)},h))}}})},Oa=ka;ar.default=Oa;var lr={};function Sa(e){return(0,M.default)(this.events.options,e),this}Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=void 0;var Pa={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Sa;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(r,s){var c=n.call(this,r,s);return c===this&&(this.events.options[r]=s),c}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,r=e.node,s=e.type,c=e.eventTarget;t.interactables.forEachMatch(r,function(h){var u=h.events,f=u.options;u.types[s]&&u.types[s].length&&h.testIgnoreAllow(f,r,c)&&n.push({node:r,eventable:u,props:{interactable:h}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(n){return t.getRect(n)}},"interactable:set":function(e,t){var n=e.interactable,r=e.options;(0,M.default)(n.events.options,t.pointerEvents.defaults),(0,M.default)(n.events.options,r.pointerEvents||{})}}},Ta=Pa;lr.default=Ta;var mn={};Object.defineProperty(mn,"__esModule",{value:!0}),mn.default=void 0;var ja={id:"pointer-events",install:function(e){e.usePlugin(gn),e.usePlugin(ar.default),e.usePlugin(lr.default)}},Ca=ja;mn.default=Ca;var Wt={};function ko(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(n){return function(r,s,c){for(var h=g.default.string(r.target)?re.from(r._context.querySelectorAll(r.target)):[r.target],u=c.window.Promise,f=u?[]:null,v=function(){var _=h[y],w=r.getRect(_);if(!w)return"break";var x=re.find(c.interactions.list,function(z){return z.interacting()&&z.interactable===r&&z.element===_&&z.prepared.name===s.name}),b=void 0;if(x)x.move(),f&&(b=x._reflowPromise||new u(function(z){x._reflowResolve=z}));else{var S=(0,F.tlbrToXywh)(w),C={page:{x:S.x,y:S.y},client:{x:S.x,y:S.y},timeStamp:c.now()},P=O.coordsToEvent(C);b=function(z,$,U,Q,se){var H=z.interactions.new({pointerType:"reflow"}),oe={interaction:H,event:se,pointer:se,eventTarget:U,phase:"reflow"};H.interactable=$,H.element=U,H.prevEvent=se,H.updatePointer(se,se,U,!0),O.setZeroCoords(H.coords.delta),(0,Re.copyAction)(H.prepared,Q),H._doPhase(oe);var Ne=z.window.Promise,ot=Ne?new Ne(function(li){H._reflowResolve=li}):void 0;return H._reflowPromise=ot,H.start(Q,$,U),H._interacting?(H.move(oe),H.end(se)):(H.stop(),H._reflowResolve()),H.removePointer(se,se),ot}(c,r,_,s,P)}f&&f.push(b)},y=0;y<h.length&&v()!=="break";y++);return f&&u.all(f).then(function(){return r})}(this,n,e)}}Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.default=void 0,Wt.install=ko;var Ma={id:"reflow",install:ko,listeners:{"interactions:stop":function(e,t){var n=e.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),re.remove(t.interactions.list,n))}}},Ia=Ma;Wt.default=Ia;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.default=void 0,Te.default.use(xt.default),Te.default.use(dt.default),Te.default.use(mn.default),Te.default.use(Ot.default),Te.default.use(hn.default),Te.default.use(en.default),Te.default.use(Jt.default),Te.default.use(nt.default),Te.default.use(Wt.default);var Aa=Te.default;Tt.default=Aa,Te.default.default=Te.default,Jt.default,nt.default,en.default,xt.default,Vn.default,Ot.default,Te.default,hn.default,dt.default,mn.default,Wt.default;var jt={exports:{}};function ai(e){return ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(e)}Object.defineProperty(jt.exports,"__esModule",{value:!0}),jt.exports.default=void 0;var za=Tt.default;if(jt.exports.default=za,ai(jt)==="object"&&jt)try{jt.exports=Tt.default}catch{}return Tt.default.default=Tt.default,jt.exports})})(Wo);var _c=Wo.exports;const ur=yc(_c),bc=d=>{var i=d.target,o=(parseFloat(i.getAttribute("data-x"))||0)+d.dx,a=(parseFloat(i.getAttribute("data-y"))||0)+d.dy;i.style.transform="translate("+o+"px, "+a+"px)",i.setAttribute("data-x",o),i.setAttribute("data-y",a)};class wc extends be{constructor(){const i=document.createElement("div");super(i),i.className="g-designer",ee(i,{display:"flex",overflow:"hidden",position:"relative"});const o=new Mt;o.htmlElement.innerHTML="<p> You can drag one element </p>",o.htmlElement.className="draggable",ee(o.htmlElement,{width:"12em",height:"6.5em",margin:"1rem 0 0 1rem",backgroundColor:"#29e",color:"white",borderRadius:"0.75em",padding:"4%",touchAction:"none",userSelect:"none",transform:"translate(0px, 0px)",boxSizing:"border-box"}),i.appendChild(o.htmlElement),ur(".draggable").resizable({edges:{left:!0,right:!0,bottom:!0,top:!0},listeners:{move(a){var l=a.target,p=parseFloat(l.getAttribute("data-x"))||0,m=parseFloat(l.getAttribute("data-y"))||0;l.style.width=a.rect.width+"px",l.style.height=a.rect.height+"px",p+=a.deltaRect.left,m+=a.deltaRect.top,l.style.transform="translate("+p+"px,"+m+"px)",l.setAttribute("data-x",p),l.setAttribute("data-y",m),l.textContent=Math.round(a.rect.width)+"×"+Math.round(a.rect.height)}},modifiers:[ur.modifiers.restrictEdges({outer:"parent"}),ur.modifiers.restrictSize({min:{width:100,height:50}})],inertia:!0}).draggable({inertia:!0,modifiers:[ur.modifiers.restrictRect({restriction:"parent",endOnly:!0})],autoScroll:!0,listeners:{move:bc}})}}class xc extends tc{new_page(){const i={category:"widget",id:"",properties:{..._e,type:"",label:"page",width:this.model.properties.width,height:this.model.properties.height,background_color:"#e6e6e6"}};this.add_pages(null,[{category:"Page",properties:{...Bo()},widgets:{"":i}}])}}const Ec=d=>{d.style.backgroundColor="lightgray";const i=new xc;i.new_page();const o=Object.keys(i.model.pages)[0],a=new cc(i);a.setWidth(740),a.setHeight(580),a.setBackgroundColor("darkgrey"),a.set_current_page(o),i.register_interest(a);let l=q=>{};const p=new ic(i).setWidth(100,"%").setHeight(100,"%"),m=new be(d),g=Na("horizontal","start","start",8);m.setLayout(g);const k="showOpenFilePicker"in window;let E=null;const j=async()=>{if(!("showOpenFilePicker"in window))return;let q;[q]=await window.showOpenFilePicker();const O=await(await q.getFile()).text();l(jo(O)),E=q},B=async()=>{if(!("showSaveFilePicker"in window))return;if(E===null){const Y={types:[{description:"Wireframe Project File",accept:{"text/plain":[".txt"]}}],multiple:!1};E=await window.showSaveFilePicker(Y)}const q=await E.createWritable();await q.write(JSON.stringify(i.model)),await q.close()},N=new Za;let te="";N.onChange((q,Y)=>{if(Y.length===0)return;let O=new FileReader;te=Y[0].name,O.readAsText(Y[0]),O.onload=()=>{O.result&&l(jo(O.result.toString()))},O.onerror=function(){console.log(O.error)}});const ae=new Me("Save a copy"),de=kr();ae.onClick(()=>{te=te||"new wireframe project.txt";const q={type:"text/plain"},Y=new File([JSON.stringify(i.model)],te,q);let O=document.getElementById(de);if(O||(O=document.createElement("a"),d.appendChild(O)),!O){console.error("cannot create link for project download");return}O.style.display="none",O.href=window.URL.createObjectURL(Y),O.setAttribute("download",te),O.click()});const ue=new Me("save project");ue.onClick(()=>{B()});const K=new Me("open project");K.onClick(()=>{j()});const ne=new Me("new page");ne.onClick(()=>{a.page_id!==""&&i.new_page()});const ye=new Me("+").setAriaLabel("add widget").setTooltip("add widget");ye.onClick(()=>{a.page_id!==""&&i.add_widgets(null,a.page_id,[{category:"widget",properties:{..._e}}])});const De=new Me("copy");De.onClick(()=>{if(a.page_id!==""){const q=i.model.pages[a.page_id];if(q){const Y=[];for(const O of i.widgets_selection){const Ee=q.widgets[O];Ee&&Y.push(fr(Ee))}i.copy(Y)}}});const ve=new Me("paste");ve.onClick(()=>{if(i.get_clipboard().length>0&&a.page_id!==""&&i.model.pages[a.page_id]){const Y=[];for(const O of i.get_clipboard())if(O.category==="widget"){const Ee=Co(fr(O),"id");Yt(a.page_id,O.id)&&(Ee.properties.left&&(Ee.properties.left+=32),Ee.properties.top&&(Ee.properties.top+=32)),Y.push(Ee)}i.add_widgets(null,a.page_id,Y)}});const we=new Me("duplicate").setAriaLabel("duplicate widget").setTooltip("duplicate widget");we.onClick(()=>{if(a.page_id!==""){const q=i.model.pages[a.page_id];if(q){const Y=[];for(const O of i.widgets_selection){const Ee=q.widgets[O];if(Ee){const Pe=Co(fr(Ee),"id");Pe.properties.left&&(Pe.properties.left+=32),Pe.properties.top&&(Pe.properties.top+=32),Y.push(Pe)}}i.add_widgets(null,a.page_id,Y)}}});const He=new Me("delete").setAriaLabel("delete widget").setTooltip("delete widget");He.onClick(()=>{if(a.page_id!==""){const q=i.model.pages[a.page_id];q&&i.delete_widgets(null,q.id,i.widgets_selection)}});const R=q=>{if(a.page_id!==""){const Y=i.model.pages[a.page_id];if(Y){const O=[];for(const Ue of i.widgets_selection){const _t=Y.widgets[Ue];_t&&O.push(_t.id)}const Pe=[...Y.properties.zorder].filter(Ue=>!O.includes(Ue)),Kt=O.sort((Ue,_t)=>Y.properties.zorder.findIndex(Ge=>Ge===Ue)-Y.properties.zorder.findIndex(Ge=>Ge===_t)),Mn=q==="full_front"?[...Pe,...Kt]:[...Kt,...Pe];i.update_pages(null,[{category:"Page",id:Y.id,properties:{zorder:Mn},widgets:{}}])}}},xe=new Me("to front").onClick(()=>{R("full_front")}),me=new Me("to back").onClick(()=>{R("full_back")}),ge=new cr(a.snap_to_grid,"snap to grid");ge.onChange(()=>{a.snap_to_grid=ge.isChecked()});const lt=new cr(a.multi_selection_is_active,"multi-selection");lt.onChange(()=>{a.multi_selection_is_active=lt.isChecked()});const Ke=new cr(a.auto_group,"auto group");Ke.onChange(()=>{a.auto_group=Ke.isChecked()});const Je=new cr(a.auto_unmask,"auto unmask");Je.onChange(()=>{a.auto_unmask=Je.isChecked()});const M=new Me("Pages"),F=new Me("Props"),ze=vn(Oo(M,F,ye,De,ve,we,He,xe,me).setGap(8),Oo(ge,lt,Ke,Je).setGap(8)),le=new gc({width:`${i.model.properties.width}px`,height:`${i.model.properties.height}px`}),$e=new Me("run");$e.onClick(q=>{le.setWidth(i.model.properties.width).setHeight(i.model.properties.height),le.setContent(vc(i.model,a.page_id))}),ze.addChild($e);const Fe=new oc(i);Fe.set_current_page(o),i.register_interest(Fe);const yt=new Va().setWidth(1024).setHeight(640);{const q=new wc,Y=new So("horizontal",i.model.properties.width);Y.setChildren(q.setWidth(100,"%").setHeight(100,"%").setAutoGrow(),Fe.setWidth(100,"%").setAutoGrow()),F.onClick(()=>{Y.is_panel_visible(2)?Y.hide_panel(2):Y.show_panel(2)});const O=new So("horizontal",256);O.setChildren(vn(ne,p.setAutoGrow()),vn(ze,Y.setWidth(100,"%").setHeight(100,"%").setAutoGrow())),yt.addPanel("designer",O),M.onClick(()=>{O.is_panel_visible(1)?O.hide_panel(1):O.show_panel(1)})}yt.addPanel("simulator",vn($e,le));{const q=new ui("number",`${i.model.properties.width}`).setWidth(5,"rem");q.onChange(()=>{i.model.properties.width=parseInt(q.getValue(),10)});const Y=new ui("number",`${i.model.properties.height}`).setWidth(5,"rem");Y.onChange(()=>{i.model.properties.height=parseInt(Y.getValue(),10)});const O=new La().configure_as_properties_grid();O.addChildAt(new Ut("Screen dimensions"),1,1,2,1),O.addChildAt(new Ut("width"),1,2),O.addChildAt(q,2,2),O.addChildAt(new Ut("height"),1,3),O.addChildAt(Y,2,3),l=Pe=>{i.set_model(Pe),q.setValue(`${i.model.properties.width}`),Y.setValue(`${i.model.properties.height}`)};const Ee=k?[K,ue]:[N,ae];yt.addPanel("project",vn(...Ee,O))}g.addChild(yt.setWidth(100,"%").setHeight(100,"dvh"))},kc=document.getElementById("app");Ec(kc);
